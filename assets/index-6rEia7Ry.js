(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Ue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kf(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var a=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(r,s,a.get?a:{enumerable:!0,get:function(){return e[s]}})}),r}var ku={exports:{}},xa={},ju={exports:{}},U={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qs=Symbol.for("react.element"),jf=Symbol.for("react.portal"),Nf=Symbol.for("react.fragment"),_f=Symbol.for("react.strict_mode"),Sf=Symbol.for("react.profiler"),Cf=Symbol.for("react.provider"),Ef=Symbol.for("react.context"),Pf=Symbol.for("react.forward_ref"),Tf=Symbol.for("react.suspense"),Of=Symbol.for("react.memo"),Af=Symbol.for("react.lazy"),zo=Symbol.iterator;function Lf(e){return e===null||typeof e!="object"?null:(e=zo&&e[zo]||e["@@iterator"],typeof e=="function"?e:null)}var Nu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_u=Object.assign,Su={};function Zr(e,t,r){this.props=e,this.context=t,this.refs=Su,this.updater=r||Nu}Zr.prototype.isReactComponent={};Zr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Cu(){}Cu.prototype=Zr.prototype;function Al(e,t,r){this.props=e,this.context=t,this.refs=Su,this.updater=r||Nu}var Ll=Al.prototype=new Cu;Ll.constructor=Al;_u(Ll,Zr.prototype);Ll.isPureReactComponent=!0;var Bo=Array.isArray,Eu=Object.prototype.hasOwnProperty,$l={current:null},Pu={key:!0,ref:!0,__self:!0,__source:!0};function Tu(e,t,r){var s,a={},i=null,l=null;if(t!=null)for(s in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)Eu.call(t,s)&&!Pu.hasOwnProperty(s)&&(a[s]=t[s]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(s in o=e.defaultProps,o)a[s]===void 0&&(a[s]=o[s]);return{$$typeof:Qs,type:e,key:i,ref:l,props:a,_owner:$l.current}}function $f(e,t){return{$$typeof:Qs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Rl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qs}function Rf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var qo=/\/+/g;function qa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Rf(""+e.key):t.toString(36)}function On(e,t,r,s,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Qs:case jf:l=!0}}if(l)return l=e,a=a(l),e=s===""?"."+qa(l,0):s,Bo(a)?(r="",e!=null&&(r=e.replace(qo,"$&/")+"/"),On(a,t,r,"",function(u){return u})):a!=null&&(Rl(a)&&(a=$f(a,r+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(qo,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=s===""?".":s+":",Bo(e))for(var o=0;o<e.length;o++){i=e[o];var c=s+qa(i,o);l+=On(i,t,r,c,a)}else if(c=Lf(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=s+qa(i,o++),l+=On(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function cn(e,t,r){if(e==null)return e;var s=[],a=0;return On(e,s,"","",function(i){return t.call(r,i,a++)}),s}function If(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var be={current:null},An={transition:null},Mf={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:An,ReactCurrentOwner:$l};function Ou(){throw Error("act(...) is not supported in production builds of React.")}U.Children={map:cn,forEach:function(e,t,r){cn(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return cn(e,function(){t++}),t},toArray:function(e){return cn(e,function(t){return t})||[]},only:function(e){if(!Rl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};U.Component=Zr;U.Fragment=Nf;U.Profiler=Sf;U.PureComponent=Al;U.StrictMode=_f;U.Suspense=Tf;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mf;U.act=Ou;U.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=_u({},e.props),a=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=$l.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Eu.call(t,c)&&!Pu.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];s.children=o}return{$$typeof:Qs,type:e.type,key:a,ref:i,props:s,_owner:l}};U.createContext=function(e){return e={$$typeof:Ef,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Cf,_context:e},e.Consumer=e};U.createElement=Tu;U.createFactory=function(e){var t=Tu.bind(null,e);return t.type=e,t};U.createRef=function(){return{current:null}};U.forwardRef=function(e){return{$$typeof:Pf,render:e}};U.isValidElement=Rl;U.lazy=function(e){return{$$typeof:Af,_payload:{_status:-1,_result:e},_init:If}};U.memo=function(e,t){return{$$typeof:Of,type:e,compare:t===void 0?null:t}};U.startTransition=function(e){var t=An.transition;An.transition={};try{e()}finally{An.transition=t}};U.unstable_act=Ou;U.useCallback=function(e,t){return be.current.useCallback(e,t)};U.useContext=function(e){return be.current.useContext(e)};U.useDebugValue=function(){};U.useDeferredValue=function(e){return be.current.useDeferredValue(e)};U.useEffect=function(e,t){return be.current.useEffect(e,t)};U.useId=function(){return be.current.useId()};U.useImperativeHandle=function(e,t,r){return be.current.useImperativeHandle(e,t,r)};U.useInsertionEffect=function(e,t){return be.current.useInsertionEffect(e,t)};U.useLayoutEffect=function(e,t){return be.current.useLayoutEffect(e,t)};U.useMemo=function(e,t){return be.current.useMemo(e,t)};U.useReducer=function(e,t,r){return be.current.useReducer(e,t,r)};U.useRef=function(e){return be.current.useRef(e)};U.useState=function(e){return be.current.useState(e)};U.useSyncExternalStore=function(e,t,r){return be.current.useSyncExternalStore(e,t,r)};U.useTransition=function(){return be.current.useTransition()};U.version="18.3.1";ju.exports=U;var w=ju.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uf=w,Df=Symbol.for("react.element"),Ff=Symbol.for("react.fragment"),zf=Object.prototype.hasOwnProperty,Bf=Uf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qf={key:!0,ref:!0,__self:!0,__source:!0};function Au(e,t,r){var s,a={},i=null,l=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(s in t)zf.call(t,s)&&!qf.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:Df,type:e,key:i,ref:l,props:a,_owner:Bf.current}}xa.Fragment=Ff;xa.jsx=Au;xa.jsxs=Au;ku.exports=xa;var n=ku.exports,Lu={exports:{}},Ae={},$u={exports:{}},Ru={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,R){var I=A.length;A.push(R);e:for(;0<I;){var Z=I-1>>>1,ie=A[Z];if(0<a(ie,R))A[Z]=R,A[I]=ie,I=Z;else break e}}function r(A){return A.length===0?null:A[0]}function s(A){if(A.length===0)return null;var R=A[0],I=A.pop();if(I!==R){A[0]=I;e:for(var Z=0,ie=A.length,ln=ie>>>1;Z<ln;){var Kt=2*(Z+1)-1,Ba=A[Kt],Jt=Kt+1,on=A[Jt];if(0>a(Ba,I))Jt<ie&&0>a(on,Ba)?(A[Z]=on,A[Jt]=I,Z=Jt):(A[Z]=Ba,A[Kt]=I,Z=Kt);else if(Jt<ie&&0>a(on,I))A[Z]=on,A[Jt]=I,Z=Jt;else break e}}return R}function a(A,R){var I=A.sortIndex-R.sortIndex;return I!==0?I:A.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,v=!1,k=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(A){for(var R=r(u);R!==null;){if(R.callback===null)s(u);else if(R.startTime<=A)s(u),R.sortIndex=R.expirationTime,t(c,R);else break;R=r(u)}}function b(A){if(v=!1,y(A),!m)if(r(c)!==null)m=!0,Fa(j);else{var R=r(u);R!==null&&za(b,R.startTime-A)}}function j(A,R){m=!1,v&&(v=!1,g(E),E=-1),p=!0;var I=f;try{for(y(R),h=r(c);h!==null&&(!(h.expirationTime>R)||A&&!L());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,f=h.priorityLevel;var ie=Z(h.expirationTime<=R);R=e.unstable_now(),typeof ie=="function"?h.callback=ie:h===r(c)&&s(c),y(R)}else s(c);h=r(c)}if(h!==null)var ln=!0;else{var Kt=r(u);Kt!==null&&za(b,Kt.startTime-R),ln=!1}return ln}finally{h=null,f=I,p=!1}}var N=!1,_=null,E=-1,D=5,C=-1;function L(){return!(e.unstable_now()-C<D)}function z(){if(_!==null){var A=e.unstable_now();C=A;var R=!0;try{R=_(!0,A)}finally{R?Vt():(N=!1,_=null)}}else N=!1}var Vt;if(typeof x=="function")Vt=function(){x(z)};else if(typeof MessageChannel<"u"){var an=new MessageChannel,Da=an.port2;an.port1.onmessage=z,Vt=function(){Da.postMessage(null)}}else Vt=function(){k(z,0)};function Fa(A){_=A,N||(N=!0,Vt())}function za(A,R){E=k(function(){A(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,Fa(j))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(A){switch(f){case 1:case 2:case 3:var R=3;break;default:R=f}var I=f;f=R;try{return A()}finally{f=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,R){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var I=f;f=A;try{return R()}finally{f=I}},e.unstable_scheduleCallback=function(A,R,I){var Z=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?Z+I:Z):I=Z,A){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=I+ie,A={id:d++,callback:R,priorityLevel:A,startTime:I,expirationTime:ie,sortIndex:-1},I>Z?(A.sortIndex=I,t(u,A),r(c)===null&&A===r(u)&&(v?(g(E),E=-1):v=!0,za(b,I-Z))):(A.sortIndex=ie,t(c,A),m||p||(m=!0,Fa(j))),A},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(A){var R=f;return function(){var I=f;f=R;try{return A.apply(this,arguments)}finally{f=I}}}})(Ru);$u.exports=Ru;var Hf=$u.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wf=w,Oe=Hf;function S(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Iu=new Set,Os={};function fr(e,t){qr(e,t),qr(e+"Capture",t)}function qr(e,t){for(Os[e]=t,e=0;e<t.length;e++)Iu.add(t[e])}var mt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_i=Object.prototype.hasOwnProperty,Vf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ho={},Wo={};function Kf(e){return _i.call(Wo,e)?!0:_i.call(Ho,e)?!1:Vf.test(e)?Wo[e]=!0:(Ho[e]=!0,!1)}function Jf(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Gf(e,t,r,s){if(t===null||typeof t>"u"||Jf(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function we(e,t,r,s,a,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var de={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){de[e]=new we(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];de[t]=new we(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){de[e]=new we(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){de[e]=new we(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){de[e]=new we(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){de[e]=new we(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){de[e]=new we(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){de[e]=new we(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){de[e]=new we(e,5,!1,e.toLowerCase(),null,!1,!1)});var Il=/[\-:]([a-z])/g;function Ml(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Il,Ml);de[t]=new we(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Il,Ml);de[t]=new we(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Il,Ml);de[t]=new we(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){de[e]=new we(e,1,!1,e.toLowerCase(),null,!1,!1)});de.xlinkHref=new we("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){de[e]=new we(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ul(e,t,r,s){var a=de.hasOwnProperty(t)?de[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Gf(t,r,a,s)&&(r=null),s||a===null?Kf(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,s=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var bt=Wf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,un=Symbol.for("react.element"),_r=Symbol.for("react.portal"),Sr=Symbol.for("react.fragment"),Dl=Symbol.for("react.strict_mode"),Si=Symbol.for("react.profiler"),Mu=Symbol.for("react.provider"),Uu=Symbol.for("react.context"),Fl=Symbol.for("react.forward_ref"),Ci=Symbol.for("react.suspense"),Ei=Symbol.for("react.suspense_list"),zl=Symbol.for("react.memo"),Nt=Symbol.for("react.lazy"),Du=Symbol.for("react.offscreen"),Vo=Symbol.iterator;function as(e){return e===null||typeof e!="object"?null:(e=Vo&&e[Vo]||e["@@iterator"],typeof e=="function"?e:null)}var Y=Object.assign,Ha;function ms(e){if(Ha===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ha=t&&t[1]||""}return`
`+Ha+e}var Wa=!1;function Va(e,t){if(!e||Wa)return"";Wa=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=s.stack.split(`
`),l=a.length-1,o=i.length-1;1<=l&&0<=o&&a[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(a[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||a[l]!==i[o]){var c=`
`+a[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{Wa=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ms(e):""}function Qf(e){switch(e.tag){case 5:return ms(e.type);case 16:return ms("Lazy");case 13:return ms("Suspense");case 19:return ms("SuspenseList");case 0:case 2:case 15:return e=Va(e.type,!1),e;case 11:return e=Va(e.type.render,!1),e;case 1:return e=Va(e.type,!0),e;default:return""}}function Pi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Sr:return"Fragment";case _r:return"Portal";case Si:return"Profiler";case Dl:return"StrictMode";case Ci:return"Suspense";case Ei:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Uu:return(e.displayName||"Context")+".Consumer";case Mu:return(e._context.displayName||"Context")+".Provider";case Fl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case zl:return t=e.displayName||null,t!==null?t:Pi(e.type)||"Memo";case Nt:t=e._payload,e=e._init;try{return Pi(e(t))}catch{}}return null}function Yf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pi(t);case 8:return t===Dl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Dt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Xf(e){var t=Fu(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(l){s=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(l){s=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function dn(e){e._valueTracker||(e._valueTracker=Xf(e))}function zu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=Fu(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function Hn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ti(e,t){var r=t.checked;return Y({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ko(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=Dt(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Bu(e,t){t=t.checked,t!=null&&Ul(e,"checked",t,!1)}function Oi(e,t){Bu(e,t);var r=Dt(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ai(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ai(e,t.type,Dt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Jo(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ai(e,t,r){(t!=="number"||Hn(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var gs=Array.isArray;function Mr(e,t,r,s){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&s&&(e[r].defaultSelected=!0)}else{for(r=""+Dt(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Li(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(S(91));return Y({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Go(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(S(92));if(gs(r)){if(1<r.length)throw Error(S(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Dt(r)}}function qu(e,t){var r=Dt(t.value),s=Dt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function Qo(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Hu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $i(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Hu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var hn,Wu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(hn=hn||document.createElement("div"),hn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=hn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function As(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var vs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zf=["Webkit","ms","Moz","O"];Object.keys(vs).forEach(function(e){Zf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),vs[t]=vs[e]})});function Vu(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||vs.hasOwnProperty(e)&&vs[e]?(""+t).trim():t+"px"}function Ku(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,a=Vu(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,a):e[r]=a}}var e0=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ri(e,t){if(t){if(e0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(S(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(S(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(S(61))}if(t.style!=null&&typeof t.style!="object")throw Error(S(62))}}function Ii(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mi=null;function Bl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ui=null,Ur=null,Dr=null;function Yo(e){if(e=Zs(e)){if(typeof Ui!="function")throw Error(S(280));var t=e.stateNode;t&&(t=ka(t),Ui(e.stateNode,e.type,t))}}function Ju(e){Ur?Dr?Dr.push(e):Dr=[e]:Ur=e}function Gu(){if(Ur){var e=Ur,t=Dr;if(Dr=Ur=null,Yo(e),t)for(e=0;e<t.length;e++)Yo(t[e])}}function Qu(e,t){return e(t)}function Yu(){}var Ka=!1;function Xu(e,t,r){if(Ka)return e(t,r);Ka=!0;try{return Qu(e,t,r)}finally{Ka=!1,(Ur!==null||Dr!==null)&&(Yu(),Gu())}}function Ls(e,t){var r=e.stateNode;if(r===null)return null;var s=ka(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(S(231,t,typeof r));return r}var Di=!1;if(mt)try{var is={};Object.defineProperty(is,"passive",{get:function(){Di=!0}}),window.addEventListener("test",is,is),window.removeEventListener("test",is,is)}catch{Di=!1}function t0(e,t,r,s,a,i,l,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var bs=!1,Wn=null,Vn=!1,Fi=null,r0={onError:function(e){bs=!0,Wn=e}};function s0(e,t,r,s,a,i,l,o,c){bs=!1,Wn=null,t0.apply(r0,arguments)}function n0(e,t,r,s,a,i,l,o,c){if(s0.apply(this,arguments),bs){if(bs){var u=Wn;bs=!1,Wn=null}else throw Error(S(198));Vn||(Vn=!0,Fi=u)}}function mr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Zu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Xo(e){if(mr(e)!==e)throw Error(S(188))}function a0(e){var t=e.alternate;if(!t){if(t=mr(e),t===null)throw Error(S(188));return t!==e?null:e}for(var r=e,s=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(s=a.return,s!==null){r=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return Xo(a),e;if(i===s)return Xo(a),t;i=i.sibling}throw Error(S(188))}if(r.return!==s.return)r=a,s=i;else{for(var l=!1,o=a.child;o;){if(o===r){l=!0,r=a,s=i;break}if(o===s){l=!0,s=a,r=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===r){l=!0,r=i,s=a;break}if(o===s){l=!0,s=i,r=a;break}o=o.sibling}if(!l)throw Error(S(189))}}if(r.alternate!==s)throw Error(S(190))}if(r.tag!==3)throw Error(S(188));return r.stateNode.current===r?e:t}function ed(e){return e=a0(e),e!==null?td(e):null}function td(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=td(e);if(t!==null)return t;e=e.sibling}return null}var rd=Oe.unstable_scheduleCallback,Zo=Oe.unstable_cancelCallback,i0=Oe.unstable_shouldYield,l0=Oe.unstable_requestPaint,ee=Oe.unstable_now,o0=Oe.unstable_getCurrentPriorityLevel,ql=Oe.unstable_ImmediatePriority,sd=Oe.unstable_UserBlockingPriority,Kn=Oe.unstable_NormalPriority,c0=Oe.unstable_LowPriority,nd=Oe.unstable_IdlePriority,ya=null,st=null;function u0(e){if(st&&typeof st.onCommitFiberRoot=="function")try{st.onCommitFiberRoot(ya,e,void 0,(e.current.flags&128)===128)}catch{}}var Ge=Math.clz32?Math.clz32:f0,d0=Math.log,h0=Math.LN2;function f0(e){return e>>>=0,e===0?32:31-(d0(e)/h0|0)|0}var fn=64,mn=4194304;function ps(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Jn(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes,l=r&268435455;if(l!==0){var o=l&~a;o!==0?s=ps(o):(i&=l,i!==0&&(s=ps(i)))}else l=r&~a,l!==0?s=ps(l):i!==0&&(s=ps(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-Ge(t),a=1<<r,s|=e[r],t&=~a;return s}function m0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function g0(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-Ge(i),o=1<<l,c=a[l];c===-1?(!(o&r)||o&s)&&(a[l]=m0(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function zi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ad(){var e=fn;return fn<<=1,!(fn&4194240)&&(fn=64),e}function Ja(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ys(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ge(t),e[t]=r}function p0(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ge(r),i=1<<a;t[a]=0,s[a]=-1,e[a]=-1,r&=~i}}function Hl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-Ge(r),a=1<<s;a&t|e[s]&t&&(e[s]|=t),r&=~a}}var B=0;function id(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ld,Wl,od,cd,ud,Bi=!1,gn=[],Ot=null,At=null,Lt=null,$s=new Map,Rs=new Map,St=[],x0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ec(e,t){switch(e){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Lt=null;break;case"pointerover":case"pointerout":$s.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rs.delete(t.pointerId)}}function ls(e,t,r,s,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Zs(t),t!==null&&Wl(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function y0(e,t,r,s,a){switch(t){case"focusin":return Ot=ls(Ot,e,t,r,s,a),!0;case"dragenter":return At=ls(At,e,t,r,s,a),!0;case"mouseover":return Lt=ls(Lt,e,t,r,s,a),!0;case"pointerover":var i=a.pointerId;return $s.set(i,ls($s.get(i)||null,e,t,r,s,a)),!0;case"gotpointercapture":return i=a.pointerId,Rs.set(i,ls(Rs.get(i)||null,e,t,r,s,a)),!0}return!1}function dd(e){var t=tr(e.target);if(t!==null){var r=mr(t);if(r!==null){if(t=r.tag,t===13){if(t=Zu(r),t!==null){e.blockedOn=t,ud(e.priority,function(){od(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ln(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=qi(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);Mi=s,r.target.dispatchEvent(s),Mi=null}else return t=Zs(r),t!==null&&Wl(t),e.blockedOn=r,!1;t.shift()}return!0}function tc(e,t,r){Ln(e)&&r.delete(t)}function v0(){Bi=!1,Ot!==null&&Ln(Ot)&&(Ot=null),At!==null&&Ln(At)&&(At=null),Lt!==null&&Ln(Lt)&&(Lt=null),$s.forEach(tc),Rs.forEach(tc)}function os(e,t){e.blockedOn===t&&(e.blockedOn=null,Bi||(Bi=!0,Oe.unstable_scheduleCallback(Oe.unstable_NormalPriority,v0)))}function Is(e){function t(a){return os(a,e)}if(0<gn.length){os(gn[0],e);for(var r=1;r<gn.length;r++){var s=gn[r];s.blockedOn===e&&(s.blockedOn=null)}}for(Ot!==null&&os(Ot,e),At!==null&&os(At,e),Lt!==null&&os(Lt,e),$s.forEach(t),Rs.forEach(t),r=0;r<St.length;r++)s=St[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<St.length&&(r=St[0],r.blockedOn===null);)dd(r),r.blockedOn===null&&St.shift()}var Fr=bt.ReactCurrentBatchConfig,Gn=!0;function b0(e,t,r,s){var a=B,i=Fr.transition;Fr.transition=null;try{B=1,Vl(e,t,r,s)}finally{B=a,Fr.transition=i}}function w0(e,t,r,s){var a=B,i=Fr.transition;Fr.transition=null;try{B=4,Vl(e,t,r,s)}finally{B=a,Fr.transition=i}}function Vl(e,t,r,s){if(Gn){var a=qi(e,t,r,s);if(a===null)ni(e,t,s,Qn,r),ec(e,s);else if(y0(a,e,t,r,s))s.stopPropagation();else if(ec(e,s),t&4&&-1<x0.indexOf(e)){for(;a!==null;){var i=Zs(a);if(i!==null&&ld(i),i=qi(e,t,r,s),i===null&&ni(e,t,s,Qn,r),i===a)break;a=i}a!==null&&s.stopPropagation()}else ni(e,t,s,null,r)}}var Qn=null;function qi(e,t,r,s){if(Qn=null,e=Bl(s),e=tr(e),e!==null)if(t=mr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Zu(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qn=e,null}function hd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(o0()){case ql:return 1;case sd:return 4;case Kn:case c0:return 16;case nd:return 536870912;default:return 16}default:return 16}}var Pt=null,Kl=null,$n=null;function fd(){if($n)return $n;var e,t=Kl,r=t.length,s,a="value"in Pt?Pt.value:Pt.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var l=r-e;for(s=1;s<=l&&t[r-s]===a[i-s];s++);return $n=a.slice(e,1<s?1-s:void 0)}function Rn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function pn(){return!0}function rc(){return!1}function Le(e){function t(r,s,a,i,l){this._reactName=r,this._targetInst=a,this.type=s,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?pn:rc,this.isPropagationStopped=rc,this}return Y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=pn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=pn)},persist:function(){},isPersistent:pn}),t}var es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jl=Le(es),Xs=Y({},es,{view:0,detail:0}),k0=Le(Xs),Ga,Qa,cs,va=Y({},Xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cs&&(cs&&e.type==="mousemove"?(Ga=e.screenX-cs.screenX,Qa=e.screenY-cs.screenY):Qa=Ga=0,cs=e),Ga)},movementY:function(e){return"movementY"in e?e.movementY:Qa}}),sc=Le(va),j0=Y({},va,{dataTransfer:0}),N0=Le(j0),_0=Y({},Xs,{relatedTarget:0}),Ya=Le(_0),S0=Y({},es,{animationName:0,elapsedTime:0,pseudoElement:0}),C0=Le(S0),E0=Y({},es,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),P0=Le(E0),T0=Y({},es,{data:0}),nc=Le(T0),O0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},A0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},L0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=L0[e])?!!t[e]:!1}function Gl(){return $0}var R0=Y({},Xs,{key:function(e){if(e.key){var t=O0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Rn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?A0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gl,charCode:function(e){return e.type==="keypress"?Rn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),I0=Le(R0),M0=Y({},va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ac=Le(M0),U0=Y({},Xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gl}),D0=Le(U0),F0=Y({},es,{propertyName:0,elapsedTime:0,pseudoElement:0}),z0=Le(F0),B0=Y({},va,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q0=Le(B0),H0=[9,13,27,32],Ql=mt&&"CompositionEvent"in window,ws=null;mt&&"documentMode"in document&&(ws=document.documentMode);var W0=mt&&"TextEvent"in window&&!ws,md=mt&&(!Ql||ws&&8<ws&&11>=ws),ic=" ",lc=!1;function gd(e,t){switch(e){case"keyup":return H0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cr=!1;function V0(e,t){switch(e){case"compositionend":return pd(t);case"keypress":return t.which!==32?null:(lc=!0,ic);case"textInput":return e=t.data,e===ic&&lc?null:e;default:return null}}function K0(e,t){if(Cr)return e==="compositionend"||!Ql&&gd(e,t)?(e=fd(),$n=Kl=Pt=null,Cr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return md&&t.locale!=="ko"?null:t.data;default:return null}}var J0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!J0[e.type]:t==="textarea"}function xd(e,t,r,s){Ju(s),t=Yn(t,"onChange"),0<t.length&&(r=new Jl("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var ks=null,Ms=null;function G0(e){Ed(e,0)}function ba(e){var t=Tr(e);if(zu(t))return e}function Q0(e,t){if(e==="change")return t}var yd=!1;if(mt){var Xa;if(mt){var Za="oninput"in document;if(!Za){var cc=document.createElement("div");cc.setAttribute("oninput","return;"),Za=typeof cc.oninput=="function"}Xa=Za}else Xa=!1;yd=Xa&&(!document.documentMode||9<document.documentMode)}function uc(){ks&&(ks.detachEvent("onpropertychange",vd),Ms=ks=null)}function vd(e){if(e.propertyName==="value"&&ba(Ms)){var t=[];xd(t,Ms,e,Bl(e)),Xu(G0,t)}}function Y0(e,t,r){e==="focusin"?(uc(),ks=t,Ms=r,ks.attachEvent("onpropertychange",vd)):e==="focusout"&&uc()}function X0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ba(Ms)}function Z0(e,t){if(e==="click")return ba(t)}function em(e,t){if(e==="input"||e==="change")return ba(t)}function tm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ye=typeof Object.is=="function"?Object.is:tm;function Us(e,t){if(Ye(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var a=r[s];if(!_i.call(t,a)||!Ye(e[a],t[a]))return!1}return!0}function dc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hc(e,t){var r=dc(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dc(r)}}function bd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wd(){for(var e=window,t=Hn();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Hn(e.document)}return t}function Yl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function rm(e){var t=wd(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&bd(r.ownerDocument.documentElement,r)){if(s!==null&&Yl(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(s.start,a);s=s.end===void 0?i:Math.min(s.end,a),!e.extend&&i>s&&(a=s,s=i,i=a),a=hc(r,i);var l=hc(r,s);a&&l&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sm=mt&&"documentMode"in document&&11>=document.documentMode,Er=null,Hi=null,js=null,Wi=!1;function fc(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Wi||Er==null||Er!==Hn(s)||(s=Er,"selectionStart"in s&&Yl(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),js&&Us(js,s)||(js=s,s=Yn(Hi,"onSelect"),0<s.length&&(t=new Jl("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=Er)))}function xn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Pr={animationend:xn("Animation","AnimationEnd"),animationiteration:xn("Animation","AnimationIteration"),animationstart:xn("Animation","AnimationStart"),transitionend:xn("Transition","TransitionEnd")},ei={},kd={};mt&&(kd=document.createElement("div").style,"AnimationEvent"in window||(delete Pr.animationend.animation,delete Pr.animationiteration.animation,delete Pr.animationstart.animation),"TransitionEvent"in window||delete Pr.transitionend.transition);function wa(e){if(ei[e])return ei[e];if(!Pr[e])return e;var t=Pr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in kd)return ei[e]=t[r];return e}var jd=wa("animationend"),Nd=wa("animationiteration"),_d=wa("animationstart"),Sd=wa("transitionend"),Cd=new Map,mc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bt(e,t){Cd.set(e,t),fr(t,[e])}for(var ti=0;ti<mc.length;ti++){var ri=mc[ti],nm=ri.toLowerCase(),am=ri[0].toUpperCase()+ri.slice(1);Bt(nm,"on"+am)}Bt(jd,"onAnimationEnd");Bt(Nd,"onAnimationIteration");Bt(_d,"onAnimationStart");Bt("dblclick","onDoubleClick");Bt("focusin","onFocus");Bt("focusout","onBlur");Bt(Sd,"onTransitionEnd");qr("onMouseEnter",["mouseout","mouseover"]);qr("onMouseLeave",["mouseout","mouseover"]);qr("onPointerEnter",["pointerout","pointerover"]);qr("onPointerLeave",["pointerout","pointerover"]);fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fr("onBeforeInput",["compositionend","keypress","textInput","paste"]);fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),im=new Set("cancel close invalid load scroll toggle".split(" ").concat(xs));function gc(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,n0(s,t,void 0,e),e.currentTarget=null}function Ed(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],a=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var l=s.length-1;0<=l;l--){var o=s[l],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&a.isPropagationStopped())break e;gc(a,o,u),i=c}else for(l=0;l<s.length;l++){if(o=s[l],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&a.isPropagationStopped())break e;gc(a,o,u),i=c}}}if(Vn)throw e=Fi,Vn=!1,Fi=null,e}function V(e,t){var r=t[Qi];r===void 0&&(r=t[Qi]=new Set);var s=e+"__bubble";r.has(s)||(Pd(t,e,2,!1),r.add(s))}function si(e,t,r){var s=0;t&&(s|=4),Pd(r,e,s,t)}var yn="_reactListening"+Math.random().toString(36).slice(2);function Ds(e){if(!e[yn]){e[yn]=!0,Iu.forEach(function(r){r!=="selectionchange"&&(im.has(r)||si(r,!1,e),si(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yn]||(t[yn]=!0,si("selectionchange",!1,t))}}function Pd(e,t,r,s){switch(hd(t)){case 1:var a=b0;break;case 4:a=w0;break;default:a=Vl}r=a.bind(null,t,r,e),a=void 0,!Di||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function ni(e,t,r,s,a){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var l=s.tag;if(l===3||l===4){var o=s.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(l===4)for(l=s.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;l=l.return}for(;o!==null;){if(l=tr(o),l===null)return;if(c=l.tag,c===5||c===6){s=i=l;continue e}o=o.parentNode}}s=s.return}Xu(function(){var u=i,d=Bl(r),h=[];e:{var f=Cd.get(e);if(f!==void 0){var p=Jl,m=e;switch(e){case"keypress":if(Rn(r)===0)break e;case"keydown":case"keyup":p=I0;break;case"focusin":m="focus",p=Ya;break;case"focusout":m="blur",p=Ya;break;case"beforeblur":case"afterblur":p=Ya;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=sc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=N0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=D0;break;case jd:case Nd:case _d:p=C0;break;case Sd:p=z0;break;case"scroll":p=k0;break;case"wheel":p=q0;break;case"copy":case"cut":case"paste":p=P0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ac}var v=(t&4)!==0,k=!v&&e==="scroll",g=v?f!==null?f+"Capture":null:f;v=[];for(var x=u,y;x!==null;){y=x;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,g!==null&&(b=Ls(x,g),b!=null&&v.push(Fs(x,b,y)))),k)break;x=x.return}0<v.length&&(f=new p(f,m,null,r,d),h.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==Mi&&(m=r.relatedTarget||r.fromElement)&&(tr(m)||m[gt]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=u,m=m?tr(m):null,m!==null&&(k=mr(m),m!==k||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(v=sc,b="onMouseLeave",g="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=ac,b="onPointerLeave",g="onPointerEnter",x="pointer"),k=p==null?f:Tr(p),y=m==null?f:Tr(m),f=new v(b,x+"leave",p,r,d),f.target=k,f.relatedTarget=y,b=null,tr(d)===u&&(v=new v(g,x+"enter",m,r,d),v.target=y,v.relatedTarget=k,b=v),k=b,p&&m)t:{for(v=p,g=m,x=0,y=v;y;y=xr(y))x++;for(y=0,b=g;b;b=xr(b))y++;for(;0<x-y;)v=xr(v),x--;for(;0<y-x;)g=xr(g),y--;for(;x--;){if(v===g||g!==null&&v===g.alternate)break t;v=xr(v),g=xr(g)}v=null}else v=null;p!==null&&pc(h,f,p,v,!1),m!==null&&k!==null&&pc(h,k,m,v,!0)}}e:{if(f=u?Tr(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var j=Q0;else if(oc(f))if(yd)j=em;else{j=X0;var N=Y0}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=Z0);if(j&&(j=j(e,u))){xd(h,j,r,d);break e}N&&N(e,f,u),e==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&Ai(f,"number",f.value)}switch(N=u?Tr(u):window,e){case"focusin":(oc(N)||N.contentEditable==="true")&&(Er=N,Hi=u,js=null);break;case"focusout":js=Hi=Er=null;break;case"mousedown":Wi=!0;break;case"contextmenu":case"mouseup":case"dragend":Wi=!1,fc(h,r,d);break;case"selectionchange":if(sm)break;case"keydown":case"keyup":fc(h,r,d)}var _;if(Ql)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Cr?gd(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(md&&r.locale!=="ko"&&(Cr||E!=="onCompositionStart"?E==="onCompositionEnd"&&Cr&&(_=fd()):(Pt=d,Kl="value"in Pt?Pt.value:Pt.textContent,Cr=!0)),N=Yn(u,E),0<N.length&&(E=new nc(E,e,null,r,d),h.push({event:E,listeners:N}),_?E.data=_:(_=pd(r),_!==null&&(E.data=_)))),(_=W0?V0(e,r):K0(e,r))&&(u=Yn(u,"onBeforeInput"),0<u.length&&(d=new nc("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=_))}Ed(h,t)})}function Fs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Yn(e,t){for(var r=t+"Capture",s=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Ls(e,r),i!=null&&s.unshift(Fs(e,i,a)),i=Ls(e,t),i!=null&&s.push(Fs(e,i,a))),e=e.return}return s}function xr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function pc(e,t,r,s,a){for(var i=t._reactName,l=[];r!==null&&r!==s;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===s)break;o.tag===5&&u!==null&&(o=u,a?(c=Ls(r,i),c!=null&&l.unshift(Fs(r,c,o))):a||(c=Ls(r,i),c!=null&&l.push(Fs(r,c,o)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var lm=/\r\n?/g,om=/\u0000|\uFFFD/g;function xc(e){return(typeof e=="string"?e:""+e).replace(lm,`
`).replace(om,"")}function vn(e,t,r){if(t=xc(t),xc(e)!==t&&r)throw Error(S(425))}function Xn(){}var Vi=null,Ki=null;function Ji(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gi=typeof setTimeout=="function"?setTimeout:void 0,cm=typeof clearTimeout=="function"?clearTimeout:void 0,yc=typeof Promise=="function"?Promise:void 0,um=typeof queueMicrotask=="function"?queueMicrotask:typeof yc<"u"?function(e){return yc.resolve(null).then(e).catch(dm)}:Gi;function dm(e){setTimeout(function(){throw e})}function ai(e,t){var r=t,s=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(s===0){e.removeChild(a),Is(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=a}while(r);Is(t)}function $t(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function vc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ts=Math.random().toString(36).slice(2),tt="__reactFiber$"+ts,zs="__reactProps$"+ts,gt="__reactContainer$"+ts,Qi="__reactEvents$"+ts,hm="__reactListeners$"+ts,fm="__reactHandles$"+ts;function tr(e){var t=e[tt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[gt]||r[tt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=vc(e);e!==null;){if(r=e[tt])return r;e=vc(e)}return t}e=r,r=e.parentNode}return null}function Zs(e){return e=e[tt]||e[gt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Tr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(S(33))}function ka(e){return e[zs]||null}var Yi=[],Or=-1;function qt(e){return{current:e}}function K(e){0>Or||(e.current=Yi[Or],Yi[Or]=null,Or--)}function H(e,t){Or++,Yi[Or]=e.current,e.current=t}var Ft={},pe=qt(Ft),_e=qt(!1),lr=Ft;function Hr(e,t){var r=e.type.contextTypes;if(!r)return Ft;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Se(e){return e=e.childContextTypes,e!=null}function Zn(){K(_e),K(pe)}function bc(e,t,r){if(pe.current!==Ft)throw Error(S(168));H(pe,t),H(_e,r)}function Td(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(S(108,Yf(e)||"Unknown",a));return Y({},r,s)}function ea(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ft,lr=pe.current,H(pe,e),H(_e,_e.current),!0}function wc(e,t,r){var s=e.stateNode;if(!s)throw Error(S(169));r?(e=Td(e,t,lr),s.__reactInternalMemoizedMergedChildContext=e,K(_e),K(pe),H(pe,e)):K(_e),H(_e,r)}var ot=null,ja=!1,ii=!1;function Od(e){ot===null?ot=[e]:ot.push(e)}function mm(e){ja=!0,Od(e)}function Ht(){if(!ii&&ot!==null){ii=!0;var e=0,t=B;try{var r=ot;for(B=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}ot=null,ja=!1}catch(a){throw ot!==null&&(ot=ot.slice(e+1)),rd(ql,Ht),a}finally{B=t,ii=!1}}return null}var Ar=[],Lr=0,ta=null,ra=0,$e=[],Re=0,or=null,ct=1,ut="";function Yt(e,t){Ar[Lr++]=ra,Ar[Lr++]=ta,ta=e,ra=t}function Ad(e,t,r){$e[Re++]=ct,$e[Re++]=ut,$e[Re++]=or,or=e;var s=ct;e=ut;var a=32-Ge(s)-1;s&=~(1<<a),r+=1;var i=32-Ge(t)+a;if(30<i){var l=a-a%5;i=(s&(1<<l)-1).toString(32),s>>=l,a-=l,ct=1<<32-Ge(t)+a|r<<a|s,ut=i+e}else ct=1<<i|r<<a|s,ut=e}function Xl(e){e.return!==null&&(Yt(e,1),Ad(e,1,0))}function Zl(e){for(;e===ta;)ta=Ar[--Lr],Ar[Lr]=null,ra=Ar[--Lr],Ar[Lr]=null;for(;e===or;)or=$e[--Re],$e[Re]=null,ut=$e[--Re],$e[Re]=null,ct=$e[--Re],$e[Re]=null}var Te=null,Pe=null,J=!1,Ke=null;function Ld(e,t){var r=Ie(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function kc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Te=e,Pe=$t(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Te=e,Pe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=or!==null?{id:ct,overflow:ut}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ie(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Te=e,Pe=null,!0):!1;default:return!1}}function Xi(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Zi(e){if(J){var t=Pe;if(t){var r=t;if(!kc(e,t)){if(Xi(e))throw Error(S(418));t=$t(r.nextSibling);var s=Te;t&&kc(e,t)?Ld(s,r):(e.flags=e.flags&-4097|2,J=!1,Te=e)}}else{if(Xi(e))throw Error(S(418));e.flags=e.flags&-4097|2,J=!1,Te=e}}}function jc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Te=e}function bn(e){if(e!==Te)return!1;if(!J)return jc(e),J=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ji(e.type,e.memoizedProps)),t&&(t=Pe)){if(Xi(e))throw $d(),Error(S(418));for(;t;)Ld(e,t),t=$t(t.nextSibling)}if(jc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(S(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Pe=$t(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Pe=null}}else Pe=Te?$t(e.stateNode.nextSibling):null;return!0}function $d(){for(var e=Pe;e;)e=$t(e.nextSibling)}function Wr(){Pe=Te=null,J=!1}function eo(e){Ke===null?Ke=[e]:Ke.push(e)}var gm=bt.ReactCurrentBatchConfig;function us(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(S(309));var s=r.stateNode}if(!s)throw Error(S(147,e));var a=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=a.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(S(284));if(!r._owner)throw Error(S(290,e))}return e}function wn(e,t){throw e=Object.prototype.toString.call(t),Error(S(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Nc(e){var t=e._init;return t(e._payload)}function Rd(e){function t(g,x){if(e){var y=g.deletions;y===null?(g.deletions=[x],g.flags|=16):y.push(x)}}function r(g,x){if(!e)return null;for(;x!==null;)t(g,x),x=x.sibling;return null}function s(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function a(g,x){return g=Ut(g,x),g.index=0,g.sibling=null,g}function i(g,x,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<x?(g.flags|=2,x):y):(g.flags|=2,x)):(g.flags|=1048576,x)}function l(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,x,y,b){return x===null||x.tag!==6?(x=fi(y,g.mode,b),x.return=g,x):(x=a(x,y),x.return=g,x)}function c(g,x,y,b){var j=y.type;return j===Sr?d(g,x,y.props.children,b,y.key):x!==null&&(x.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Nt&&Nc(j)===x.type)?(b=a(x,y.props),b.ref=us(g,x,y),b.return=g,b):(b=Bn(y.type,y.key,y.props,null,g.mode,b),b.ref=us(g,x,y),b.return=g,b)}function u(g,x,y,b){return x===null||x.tag!==4||x.stateNode.containerInfo!==y.containerInfo||x.stateNode.implementation!==y.implementation?(x=mi(y,g.mode,b),x.return=g,x):(x=a(x,y.children||[]),x.return=g,x)}function d(g,x,y,b,j){return x===null||x.tag!==7?(x=ar(y,g.mode,b,j),x.return=g,x):(x=a(x,y),x.return=g,x)}function h(g,x,y){if(typeof x=="string"&&x!==""||typeof x=="number")return x=fi(""+x,g.mode,y),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case un:return y=Bn(x.type,x.key,x.props,null,g.mode,y),y.ref=us(g,null,x),y.return=g,y;case _r:return x=mi(x,g.mode,y),x.return=g,x;case Nt:var b=x._init;return h(g,b(x._payload),y)}if(gs(x)||as(x))return x=ar(x,g.mode,y,null),x.return=g,x;wn(g,x)}return null}function f(g,x,y,b){var j=x!==null?x.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return j!==null?null:o(g,x,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case un:return y.key===j?c(g,x,y,b):null;case _r:return y.key===j?u(g,x,y,b):null;case Nt:return j=y._init,f(g,x,j(y._payload),b)}if(gs(y)||as(y))return j!==null?null:d(g,x,y,b,null);wn(g,y)}return null}function p(g,x,y,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(y)||null,o(x,g,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case un:return g=g.get(b.key===null?y:b.key)||null,c(x,g,b,j);case _r:return g=g.get(b.key===null?y:b.key)||null,u(x,g,b,j);case Nt:var N=b._init;return p(g,x,y,N(b._payload),j)}if(gs(b)||as(b))return g=g.get(y)||null,d(x,g,b,j,null);wn(x,b)}return null}function m(g,x,y,b){for(var j=null,N=null,_=x,E=x=0,D=null;_!==null&&E<y.length;E++){_.index>E?(D=_,_=null):D=_.sibling;var C=f(g,_,y[E],b);if(C===null){_===null&&(_=D);break}e&&_&&C.alternate===null&&t(g,_),x=i(C,x,E),N===null?j=C:N.sibling=C,N=C,_=D}if(E===y.length)return r(g,_),J&&Yt(g,E),j;if(_===null){for(;E<y.length;E++)_=h(g,y[E],b),_!==null&&(x=i(_,x,E),N===null?j=_:N.sibling=_,N=_);return J&&Yt(g,E),j}for(_=s(g,_);E<y.length;E++)D=p(_,g,E,y[E],b),D!==null&&(e&&D.alternate!==null&&_.delete(D.key===null?E:D.key),x=i(D,x,E),N===null?j=D:N.sibling=D,N=D);return e&&_.forEach(function(L){return t(g,L)}),J&&Yt(g,E),j}function v(g,x,y,b){var j=as(y);if(typeof j!="function")throw Error(S(150));if(y=j.call(y),y==null)throw Error(S(151));for(var N=j=null,_=x,E=x=0,D=null,C=y.next();_!==null&&!C.done;E++,C=y.next()){_.index>E?(D=_,_=null):D=_.sibling;var L=f(g,_,C.value,b);if(L===null){_===null&&(_=D);break}e&&_&&L.alternate===null&&t(g,_),x=i(L,x,E),N===null?j=L:N.sibling=L,N=L,_=D}if(C.done)return r(g,_),J&&Yt(g,E),j;if(_===null){for(;!C.done;E++,C=y.next())C=h(g,C.value,b),C!==null&&(x=i(C,x,E),N===null?j=C:N.sibling=C,N=C);return J&&Yt(g,E),j}for(_=s(g,_);!C.done;E++,C=y.next())C=p(_,g,E,C.value,b),C!==null&&(e&&C.alternate!==null&&_.delete(C.key===null?E:C.key),x=i(C,x,E),N===null?j=C:N.sibling=C,N=C);return e&&_.forEach(function(z){return t(g,z)}),J&&Yt(g,E),j}function k(g,x,y,b){if(typeof y=="object"&&y!==null&&y.type===Sr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case un:e:{for(var j=y.key,N=x;N!==null;){if(N.key===j){if(j=y.type,j===Sr){if(N.tag===7){r(g,N.sibling),x=a(N,y.props.children),x.return=g,g=x;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Nt&&Nc(j)===N.type){r(g,N.sibling),x=a(N,y.props),x.ref=us(g,N,y),x.return=g,g=x;break e}r(g,N);break}else t(g,N);N=N.sibling}y.type===Sr?(x=ar(y.props.children,g.mode,b,y.key),x.return=g,g=x):(b=Bn(y.type,y.key,y.props,null,g.mode,b),b.ref=us(g,x,y),b.return=g,g=b)}return l(g);case _r:e:{for(N=y.key;x!==null;){if(x.key===N)if(x.tag===4&&x.stateNode.containerInfo===y.containerInfo&&x.stateNode.implementation===y.implementation){r(g,x.sibling),x=a(x,y.children||[]),x.return=g,g=x;break e}else{r(g,x);break}else t(g,x);x=x.sibling}x=mi(y,g.mode,b),x.return=g,g=x}return l(g);case Nt:return N=y._init,k(g,x,N(y._payload),b)}if(gs(y))return m(g,x,y,b);if(as(y))return v(g,x,y,b);wn(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,x!==null&&x.tag===6?(r(g,x.sibling),x=a(x,y),x.return=g,g=x):(r(g,x),x=fi(y,g.mode,b),x.return=g,g=x),l(g)):r(g,x)}return k}var Vr=Rd(!0),Id=Rd(!1),sa=qt(null),na=null,$r=null,to=null;function ro(){to=$r=na=null}function so(e){var t=sa.current;K(sa),e._currentValue=t}function el(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function zr(e,t){na=e,to=$r=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ne=!0),e.firstContext=null)}function De(e){var t=e._currentValue;if(to!==e)if(e={context:e,memoizedValue:t,next:null},$r===null){if(na===null)throw Error(S(308));$r=e,na.dependencies={lanes:0,firstContext:e}}else $r=$r.next=e;return t}var rr=null;function no(e){rr===null?rr=[e]:rr.push(e)}function Md(e,t,r,s){var a=t.interleaved;return a===null?(r.next=r,no(t)):(r.next=a.next,a.next=r),t.interleaved=r,pt(e,s)}function pt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var _t=!1;function ao(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ud(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Rt(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,F&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,pt(e,r)}return a=s.interleaved,a===null?(t.next=t,no(s)):(t.next=a.next,a.next=t),s.interleaved=t,pt(e,r)}function In(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Hl(e,r)}}function _c(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=l:i=i.next=l,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function aa(e,t,r,s){var a=e.updateQueue;_t=!1;var i=a.firstBaseUpdate,l=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,u=c.next;c.next=null,l===null?i=u:l.next=u,l=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==l&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=a.baseState;l=0,d=u=c=null,o=i;do{var f=o.lane,p=o.eventTime;if((s&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,v=o;switch(f=t,p=r,v.tag){case 1:if(m=v.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=Y({},h,f);break e;case 2:_t=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,l|=f;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;f=o,o=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(d===null&&(c=h),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do l|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);ur|=l,e.lanes=l,e.memoizedState=h}}function Sc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=r,typeof a!="function")throw Error(S(191,a));a.call(s)}}}var en={},nt=qt(en),Bs=qt(en),qs=qt(en);function sr(e){if(e===en)throw Error(S(174));return e}function io(e,t){switch(H(qs,t),H(Bs,e),H(nt,en),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$i(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=$i(t,e)}K(nt),H(nt,t)}function Kr(){K(nt),K(Bs),K(qs)}function Dd(e){sr(qs.current);var t=sr(nt.current),r=$i(t,e.type);t!==r&&(H(Bs,e),H(nt,r))}function lo(e){Bs.current===e&&(K(nt),K(Bs))}var G=qt(0);function ia(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var li=[];function oo(){for(var e=0;e<li.length;e++)li[e]._workInProgressVersionPrimary=null;li.length=0}var Mn=bt.ReactCurrentDispatcher,oi=bt.ReactCurrentBatchConfig,cr=0,Q=null,ne=null,le=null,la=!1,Ns=!1,Hs=0,pm=0;function he(){throw Error(S(321))}function co(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ye(e[r],t[r]))return!1;return!0}function uo(e,t,r,s,a,i){if(cr=i,Q=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Mn.current=e===null||e.memoizedState===null?bm:wm,e=r(s,a),Ns){i=0;do{if(Ns=!1,Hs=0,25<=i)throw Error(S(301));i+=1,le=ne=null,t.updateQueue=null,Mn.current=km,e=r(s,a)}while(Ns)}if(Mn.current=oa,t=ne!==null&&ne.next!==null,cr=0,le=ne=Q=null,la=!1,t)throw Error(S(300));return e}function ho(){var e=Hs!==0;return Hs=0,e}function Ze(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return le===null?Q.memoizedState=le=e:le=le.next=e,le}function Fe(){if(ne===null){var e=Q.alternate;e=e!==null?e.memoizedState:null}else e=ne.next;var t=le===null?Q.memoizedState:le.next;if(t!==null)le=t,ne=e;else{if(e===null)throw Error(S(310));ne=e,e={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},le===null?Q.memoizedState=le=e:le=le.next=e}return le}function Ws(e,t){return typeof t=="function"?t(e):t}function ci(e){var t=Fe(),r=t.queue;if(r===null)throw Error(S(311));r.lastRenderedReducer=e;var s=ne,a=s.baseQueue,i=r.pending;if(i!==null){if(a!==null){var l=a.next;a.next=i.next,i.next=l}s.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,s=s.baseState;var o=l=null,c=null,u=i;do{var d=u.lane;if((cr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=h,l=s):c=c.next=h,Q.lanes|=d,ur|=d}u=u.next}while(u!==null&&u!==i);c===null?l=s:c.next=o,Ye(s,t.memoizedState)||(Ne=!0),t.memoizedState=s,t.baseState=l,t.baseQueue=c,r.lastRenderedState=s}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Q.lanes|=i,ur|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ui(e){var t=Fe(),r=t.queue;if(r===null)throw Error(S(311));r.lastRenderedReducer=e;var s=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var l=a=a.next;do i=e(i,l.action),l=l.next;while(l!==a);Ye(i,t.memoizedState)||(Ne=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,s]}function Fd(){}function zd(e,t){var r=Q,s=Fe(),a=t(),i=!Ye(s.memoizedState,a);if(i&&(s.memoizedState=a,Ne=!0),s=s.queue,fo(Hd.bind(null,r,s,e),[e]),s.getSnapshot!==t||i||le!==null&&le.memoizedState.tag&1){if(r.flags|=2048,Vs(9,qd.bind(null,r,s,a,t),void 0,null),oe===null)throw Error(S(349));cr&30||Bd(r,t,a)}return a}function Bd(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Q.updateQueue,t===null?(t={lastEffect:null,stores:null},Q.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function qd(e,t,r,s){t.value=r,t.getSnapshot=s,Wd(t)&&Vd(e)}function Hd(e,t,r){return r(function(){Wd(t)&&Vd(e)})}function Wd(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ye(e,r)}catch{return!0}}function Vd(e){var t=pt(e,1);t!==null&&Qe(t,e,1,-1)}function Cc(e){var t=Ze();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:e},t.queue=e,e=e.dispatch=vm.bind(null,Q,e),[t.memoizedState,e]}function Vs(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=Q.updateQueue,t===null?(t={lastEffect:null,stores:null},Q.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function Kd(){return Fe().memoizedState}function Un(e,t,r,s){var a=Ze();Q.flags|=e,a.memoizedState=Vs(1|t,r,void 0,s===void 0?null:s)}function Na(e,t,r,s){var a=Fe();s=s===void 0?null:s;var i=void 0;if(ne!==null){var l=ne.memoizedState;if(i=l.destroy,s!==null&&co(s,l.deps)){a.memoizedState=Vs(t,r,i,s);return}}Q.flags|=e,a.memoizedState=Vs(1|t,r,i,s)}function Ec(e,t){return Un(8390656,8,e,t)}function fo(e,t){return Na(2048,8,e,t)}function Jd(e,t){return Na(4,2,e,t)}function Gd(e,t){return Na(4,4,e,t)}function Qd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Yd(e,t,r){return r=r!=null?r.concat([e]):null,Na(4,4,Qd.bind(null,t,e),r)}function mo(){}function Xd(e,t){var r=Fe();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&co(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function Zd(e,t){var r=Fe();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&co(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function eh(e,t,r){return cr&21?(Ye(r,t)||(r=ad(),Q.lanes|=r,ur|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ne=!0),e.memoizedState=r)}function xm(e,t){var r=B;B=r!==0&&4>r?r:4,e(!0);var s=oi.transition;oi.transition={};try{e(!1),t()}finally{B=r,oi.transition=s}}function th(){return Fe().memoizedState}function ym(e,t,r){var s=Mt(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},rh(e))sh(t,r);else if(r=Md(e,t,r,s),r!==null){var a=ve();Qe(r,e,s,a),nh(r,t,s)}}function vm(e,t,r){var s=Mt(e),a={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(rh(e))sh(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,r);if(a.hasEagerState=!0,a.eagerState=o,Ye(o,l)){var c=t.interleaved;c===null?(a.next=a,no(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=Md(e,t,a,s),r!==null&&(a=ve(),Qe(r,e,s,a),nh(r,t,s))}}function rh(e){var t=e.alternate;return e===Q||t!==null&&t===Q}function sh(e,t){Ns=la=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function nh(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Hl(e,r)}}var oa={readContext:De,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useInsertionEffect:he,useLayoutEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useMutableSource:he,useSyncExternalStore:he,useId:he,unstable_isNewReconciler:!1},bm={readContext:De,useCallback:function(e,t){return Ze().memoizedState=[e,t===void 0?null:t],e},useContext:De,useEffect:Ec,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Un(4194308,4,Qd.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Un(4194308,4,e,t)},useInsertionEffect:function(e,t){return Un(4,2,e,t)},useMemo:function(e,t){var r=Ze();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=Ze();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=ym.bind(null,Q,e),[s.memoizedState,e]},useRef:function(e){var t=Ze();return e={current:e},t.memoizedState=e},useState:Cc,useDebugValue:mo,useDeferredValue:function(e){return Ze().memoizedState=e},useTransition:function(){var e=Cc(!1),t=e[0];return e=xm.bind(null,e[1]),Ze().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=Q,a=Ze();if(J){if(r===void 0)throw Error(S(407));r=r()}else{if(r=t(),oe===null)throw Error(S(349));cr&30||Bd(s,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Ec(Hd.bind(null,s,i,e),[e]),s.flags|=2048,Vs(9,qd.bind(null,s,i,r,t),void 0,null),r},useId:function(){var e=Ze(),t=oe.identifierPrefix;if(J){var r=ut,s=ct;r=(s&~(1<<32-Ge(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=Hs++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=pm++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},wm={readContext:De,useCallback:Xd,useContext:De,useEffect:fo,useImperativeHandle:Yd,useInsertionEffect:Jd,useLayoutEffect:Gd,useMemo:Zd,useReducer:ci,useRef:Kd,useState:function(){return ci(Ws)},useDebugValue:mo,useDeferredValue:function(e){var t=Fe();return eh(t,ne.memoizedState,e)},useTransition:function(){var e=ci(Ws)[0],t=Fe().memoizedState;return[e,t]},useMutableSource:Fd,useSyncExternalStore:zd,useId:th,unstable_isNewReconciler:!1},km={readContext:De,useCallback:Xd,useContext:De,useEffect:fo,useImperativeHandle:Yd,useInsertionEffect:Jd,useLayoutEffect:Gd,useMemo:Zd,useReducer:ui,useRef:Kd,useState:function(){return ui(Ws)},useDebugValue:mo,useDeferredValue:function(e){var t=Fe();return ne===null?t.memoizedState=e:eh(t,ne.memoizedState,e)},useTransition:function(){var e=ui(Ws)[0],t=Fe().memoizedState;return[e,t]},useMutableSource:Fd,useSyncExternalStore:zd,useId:th,unstable_isNewReconciler:!1};function He(e,t){if(e&&e.defaultProps){t=Y({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function tl(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:Y({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var _a={isMounted:function(e){return(e=e._reactInternals)?mr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=ve(),a=Mt(e),i=dt(s,a);i.payload=t,r!=null&&(i.callback=r),t=Rt(e,i,a),t!==null&&(Qe(t,e,a,s),In(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=ve(),a=Mt(e),i=dt(s,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Rt(e,i,a),t!==null&&(Qe(t,e,a,s),In(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ve(),s=Mt(e),a=dt(r,s);a.tag=2,t!=null&&(a.callback=t),t=Rt(e,a,s),t!==null&&(Qe(t,e,s,r),In(t,e,s))}};function Pc(e,t,r,s,a,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,l):t.prototype&&t.prototype.isPureReactComponent?!Us(r,s)||!Us(a,i):!0}function ah(e,t,r){var s=!1,a=Ft,i=t.contextType;return typeof i=="object"&&i!==null?i=De(i):(a=Se(t)?lr:pe.current,s=t.contextTypes,i=(s=s!=null)?Hr(e,a):Ft),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=_a,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Tc(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&_a.enqueueReplaceState(t,t.state,null)}function rl(e,t,r,s){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},ao(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=De(i):(i=Se(t)?lr:pe.current,a.context=Hr(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(tl(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&_a.enqueueReplaceState(a,a.state,null),aa(e,r,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Jr(e,t){try{var r="",s=t;do r+=Qf(s),s=s.return;while(s);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function di(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function sl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var jm=typeof WeakMap=="function"?WeakMap:Map;function ih(e,t,r){r=dt(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){ua||(ua=!0,fl=s),sl(e,t)},r}function lh(e,t,r){r=dt(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;r.payload=function(){return s(a)},r.callback=function(){sl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){sl(e,t),typeof s!="function"&&(It===null?It=new Set([this]):It.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function Oc(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new jm;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(r)||(a.add(r),e=Mm.bind(null,e,t,r),t.then(e,e))}function Ac(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Lc(e,t,r,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=dt(-1,1),t.tag=2,Rt(r,t,1))),r.lanes|=1),e)}var Nm=bt.ReactCurrentOwner,Ne=!1;function ye(e,t,r,s){t.child=e===null?Id(t,null,r,s):Vr(t,e.child,r,s)}function $c(e,t,r,s,a){r=r.render;var i=t.ref;return zr(t,a),s=uo(e,t,r,s,i,a),r=ho(),e!==null&&!Ne?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,xt(e,t,a)):(J&&r&&Xl(t),t.flags|=1,ye(e,t,s,a),t.child)}function Rc(e,t,r,s,a){if(e===null){var i=r.type;return typeof i=="function"&&!ko(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,oh(e,t,i,s,a)):(e=Bn(r.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var l=i.memoizedProps;if(r=r.compare,r=r!==null?r:Us,r(l,s)&&e.ref===t.ref)return xt(e,t,a)}return t.flags|=1,e=Ut(i,s),e.ref=t.ref,e.return=t,t.child=e}function oh(e,t,r,s,a){if(e!==null){var i=e.memoizedProps;if(Us(i,s)&&e.ref===t.ref)if(Ne=!1,t.pendingProps=s=i,(e.lanes&a)!==0)e.flags&131072&&(Ne=!0);else return t.lanes=e.lanes,xt(e,t,a)}return nl(e,t,r,s,a)}function ch(e,t,r){var s=t.pendingProps,a=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},H(Ir,Ee),Ee|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,H(Ir,Ee),Ee|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:r,H(Ir,Ee),Ee|=s}else i!==null?(s=i.baseLanes|r,t.memoizedState=null):s=r,H(Ir,Ee),Ee|=s;return ye(e,t,a,r),t.child}function uh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function nl(e,t,r,s,a){var i=Se(r)?lr:pe.current;return i=Hr(t,i),zr(t,a),r=uo(e,t,r,s,i,a),s=ho(),e!==null&&!Ne?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,xt(e,t,a)):(J&&s&&Xl(t),t.flags|=1,ye(e,t,r,a),t.child)}function Ic(e,t,r,s,a){if(Se(r)){var i=!0;ea(t)}else i=!1;if(zr(t,a),t.stateNode===null)Dn(e,t),ah(t,r,s),rl(t,r,s,a),s=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,u=r.contextType;typeof u=="object"&&u!==null?u=De(u):(u=Se(r)?lr:pe.current,u=Hr(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==s||c!==u)&&Tc(t,l,s,u),_t=!1;var f=t.memoizedState;l.state=f,aa(t,s,l,a),c=t.memoizedState,o!==s||f!==c||_e.current||_t?(typeof d=="function"&&(tl(t,r,d,s),c=t.memoizedState),(o=_t||Pc(t,r,o,s,f,c,u))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),l.props=s,l.state=c,l.context=u,s=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{l=t.stateNode,Ud(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:He(t.type,o),l.props=u,h=t.pendingProps,f=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=De(c):(c=Se(r)?lr:pe.current,c=Hr(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==h||f!==c)&&Tc(t,l,s,c),_t=!1,f=t.memoizedState,l.state=f,aa(t,s,l,a);var m=t.memoizedState;o!==h||f!==m||_e.current||_t?(typeof p=="function"&&(tl(t,r,p,s),m=t.memoizedState),(u=_t||Pc(t,r,u,s,f,m,c)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(s,m,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(s,m,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=m),l.props=s,l.state=m,l.context=c,s=u):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),s=!1)}return al(e,t,r,s,i,a)}function al(e,t,r,s,a,i){uh(e,t);var l=(t.flags&128)!==0;if(!s&&!l)return a&&wc(t,r,!1),xt(e,t,i);s=t.stateNode,Nm.current=t;var o=l&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&l?(t.child=Vr(t,e.child,null,i),t.child=Vr(t,null,o,i)):ye(e,t,o,i),t.memoizedState=s.state,a&&wc(t,r,!0),t.child}function dh(e){var t=e.stateNode;t.pendingContext?bc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bc(e,t.context,!1),io(e,t.containerInfo)}function Mc(e,t,r,s,a){return Wr(),eo(a),t.flags|=256,ye(e,t,r,s),t.child}var il={dehydrated:null,treeContext:null,retryLane:0};function ll(e){return{baseLanes:e,cachePool:null,transitions:null}}function hh(e,t,r){var s=t.pendingProps,a=G.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),H(G,a&1),e===null)return Zi(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=s.children,e=s.fallback,i?(s=t.mode,i=t.child,l={mode:"hidden",children:l},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Ea(l,s,0,null),e=ar(e,s,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ll(r),t.memoizedState=il,e):go(t,l));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return _m(e,t,l,s,o,a,r);if(i){i=s.fallback,l=t.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:s.children};return!(l&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=Ut(a,c),s.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=Ut(o,i):(i=ar(i,l,r,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,l=e.child.memoizedState,l=l===null?ll(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~r,t.memoizedState=il,s}return i=e.child,e=i.sibling,s=Ut(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function go(e,t){return t=Ea({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function kn(e,t,r,s){return s!==null&&eo(s),Vr(t,e.child,null,r),e=go(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _m(e,t,r,s,a,i,l){if(r)return t.flags&256?(t.flags&=-257,s=di(Error(S(422))),kn(e,t,l,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,a=t.mode,s=Ea({mode:"visible",children:s.children},a,0,null),i=ar(i,a,l,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&Vr(t,e.child,null,l),t.child.memoizedState=ll(l),t.memoizedState=il,i);if(!(t.mode&1))return kn(e,t,l,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var o=s.dgst;return s=o,i=Error(S(419)),s=di(i,s,void 0),kn(e,t,l,s)}if(o=(l&e.childLanes)!==0,Ne||o){if(s=oe,s!==null){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|l)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,pt(e,a),Qe(s,e,a,-1))}return wo(),s=di(Error(S(421))),kn(e,t,l,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Um.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Pe=$t(a.nextSibling),Te=t,J=!0,Ke=null,e!==null&&($e[Re++]=ct,$e[Re++]=ut,$e[Re++]=or,ct=e.id,ut=e.overflow,or=t),t=go(t,s.children),t.flags|=4096,t)}function Uc(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),el(e.return,t,r)}function hi(e,t,r,s,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=r,i.tailMode=a)}function fh(e,t,r){var s=t.pendingProps,a=s.revealOrder,i=s.tail;if(ye(e,t,s.children,r),s=G.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Uc(e,r,t);else if(e.tag===19)Uc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(H(G,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&ia(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),hi(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&ia(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}hi(t,!0,r,null,i);break;case"together":hi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Dn(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ur|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(S(153));if(t.child!==null){for(e=t.child,r=Ut(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ut(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Sm(e,t,r){switch(t.tag){case 3:dh(t),Wr();break;case 5:Dd(t);break;case 1:Se(t.type)&&ea(t);break;case 4:io(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;H(sa,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(H(G,G.current&1),t.flags|=128,null):r&t.child.childLanes?hh(e,t,r):(H(G,G.current&1),e=xt(e,t,r),e!==null?e.sibling:null);H(G,G.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return fh(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),H(G,G.current),s)break;return null;case 22:case 23:return t.lanes=0,ch(e,t,r)}return xt(e,t,r)}var mh,ol,gh,ph;mh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ol=function(){};gh=function(e,t,r,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,sr(nt.current);var i=null;switch(r){case"input":a=Ti(e,a),s=Ti(e,s),i=[];break;case"select":a=Y({},a,{value:void 0}),s=Y({},s,{value:void 0}),i=[];break;case"textarea":a=Li(e,a),s=Li(e,s),i=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Xn)}Ri(r,s);var l;r=null;for(u in a)if(!s.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var o=a[u];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Os.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in s){var c=s[u];if(o=a!=null?a[u]:void 0,s.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Os.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&V("scroll",e),i||o===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};ph=function(e,t,r,s){r!==s&&(t.flags|=4)};function ds(e,t){if(!J)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function fe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function Cm(e,t,r){var s=t.pendingProps;switch(Zl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(t),null;case 1:return Se(t.type)&&Zn(),fe(t),null;case 3:return s=t.stateNode,Kr(),K(_e),K(pe),oo(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(bn(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ke!==null&&(pl(Ke),Ke=null))),ol(e,t),fe(t),null;case 5:lo(t);var a=sr(qs.current);if(r=t.type,e!==null&&t.stateNode!=null)gh(e,t,r,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(S(166));return fe(t),null}if(e=sr(nt.current),bn(t)){s=t.stateNode,r=t.type;var i=t.memoizedProps;switch(s[tt]=t,s[zs]=i,e=(t.mode&1)!==0,r){case"dialog":V("cancel",s),V("close",s);break;case"iframe":case"object":case"embed":V("load",s);break;case"video":case"audio":for(a=0;a<xs.length;a++)V(xs[a],s);break;case"source":V("error",s);break;case"img":case"image":case"link":V("error",s),V("load",s);break;case"details":V("toggle",s);break;case"input":Ko(s,i),V("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},V("invalid",s);break;case"textarea":Go(s,i),V("invalid",s)}Ri(r,i),a=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?s.textContent!==o&&(i.suppressHydrationWarning!==!0&&vn(s.textContent,o,e),a=["children",o]):typeof o=="number"&&s.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&vn(s.textContent,o,e),a=["children",""+o]):Os.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&V("scroll",s)}switch(r){case"input":dn(s),Jo(s,i,!0);break;case"textarea":dn(s),Qo(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=Xn)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{l=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Hu(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=l.createElement(r,{is:s.is}):(e=l.createElement(r),r==="select"&&(l=e,s.multiple?l.multiple=!0:s.size&&(l.size=s.size))):e=l.createElementNS(e,r),e[tt]=t,e[zs]=s,mh(e,t,!1,!1),t.stateNode=e;e:{switch(l=Ii(r,s),r){case"dialog":V("cancel",e),V("close",e),a=s;break;case"iframe":case"object":case"embed":V("load",e),a=s;break;case"video":case"audio":for(a=0;a<xs.length;a++)V(xs[a],e);a=s;break;case"source":V("error",e),a=s;break;case"img":case"image":case"link":V("error",e),V("load",e),a=s;break;case"details":V("toggle",e),a=s;break;case"input":Ko(e,s),a=Ti(e,s),V("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=Y({},s,{value:void 0}),V("invalid",e);break;case"textarea":Go(e,s),a=Li(e,s),V("invalid",e);break;default:a=s}Ri(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?Ku(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Wu(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&As(e,c):typeof c=="number"&&As(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Os.hasOwnProperty(i)?c!=null&&i==="onScroll"&&V("scroll",e):c!=null&&Ul(e,i,c,l))}switch(r){case"input":dn(e),Jo(e,s,!1);break;case"textarea":dn(e),Qo(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Dt(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?Mr(e,!!s.multiple,i,!1):s.defaultValue!=null&&Mr(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Xn)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return fe(t),null;case 6:if(e&&t.stateNode!=null)ph(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(S(166));if(r=sr(qs.current),sr(nt.current),bn(t)){if(s=t.stateNode,r=t.memoizedProps,s[tt]=t,(i=s.nodeValue!==r)&&(e=Te,e!==null))switch(e.tag){case 3:vn(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vn(s.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[tt]=t,t.stateNode=s}return fe(t),null;case 13:if(K(G),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(J&&Pe!==null&&t.mode&1&&!(t.flags&128))$d(),Wr(),t.flags|=98560,i=!1;else if(i=bn(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(S(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(S(317));i[tt]=t}else Wr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;fe(t),i=!1}else Ke!==null&&(pl(Ke),Ke=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||G.current&1?ae===0&&(ae=3):wo())),t.updateQueue!==null&&(t.flags|=4),fe(t),null);case 4:return Kr(),ol(e,t),e===null&&Ds(t.stateNode.containerInfo),fe(t),null;case 10:return so(t.type._context),fe(t),null;case 17:return Se(t.type)&&Zn(),fe(t),null;case 19:if(K(G),i=t.memoizedState,i===null)return fe(t),null;if(s=(t.flags&128)!==0,l=i.rendering,l===null)if(s)ds(i,!1);else{if(ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=ia(e),l!==null){for(t.flags|=128,ds(i,!1),s=l.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)i=r,e=s,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return H(G,G.current&1|2),t.child}e=e.sibling}i.tail!==null&&ee()>Gr&&(t.flags|=128,s=!0,ds(i,!1),t.lanes=4194304)}else{if(!s)if(e=ia(l),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ds(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!J)return fe(t),null}else 2*ee()-i.renderingStartTime>Gr&&r!==1073741824&&(t.flags|=128,s=!0,ds(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(r=i.last,r!==null?r.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ee(),t.sibling=null,r=G.current,H(G,s?r&1|2:r&1),t):(fe(t),null);case 22:case 23:return bo(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Ee&1073741824&&(fe(t),t.subtreeFlags&6&&(t.flags|=8192)):fe(t),null;case 24:return null;case 25:return null}throw Error(S(156,t.tag))}function Em(e,t){switch(Zl(t),t.tag){case 1:return Se(t.type)&&Zn(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Kr(),K(_e),K(pe),oo(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return lo(t),null;case 13:if(K(G),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(S(340));Wr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return K(G),null;case 4:return Kr(),null;case 10:return so(t.type._context),null;case 22:case 23:return bo(),null;case 24:return null;default:return null}}var jn=!1,me=!1,Pm=typeof WeakSet=="function"?WeakSet:Set,T=null;function Rr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){X(e,t,s)}else r.current=null}function cl(e,t,r){try{r()}catch(s){X(e,t,s)}}var Dc=!1;function Tm(e,t){if(Vi=Gn,e=wd(),Yl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var l=0,o=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==r||a!==0&&h.nodeType!==3||(o=l+a),h!==i||s!==0&&h.nodeType!==3||(c=l+s),h.nodeType===3&&(l+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===r&&++u===a&&(o=l),f===i&&++d===s&&(c=l),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ki={focusedElem:e,selectionRange:r},Gn=!1,T=t;T!==null;)if(t=T,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,T=e;else for(;T!==null;){t=T;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,k=m.memoizedState,g=t.stateNode,x=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:He(t.type,v),k);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(S(163))}}catch(b){X(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,T=e;break}T=t.return}return m=Dc,Dc=!1,m}function _s(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&cl(t,r,i)}a=a.next}while(a!==s)}}function Sa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function ul(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function xh(e){var t=e.alternate;t!==null&&(e.alternate=null,xh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[tt],delete t[zs],delete t[Qi],delete t[hm],delete t[fm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function yh(e){return e.tag===5||e.tag===3||e.tag===4}function Fc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dl(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Xn));else if(s!==4&&(e=e.child,e!==null))for(dl(e,t,r),e=e.sibling;e!==null;)dl(e,t,r),e=e.sibling}function hl(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(hl(e,t,r),e=e.sibling;e!==null;)hl(e,t,r),e=e.sibling}var ce=null,We=!1;function wt(e,t,r){for(r=r.child;r!==null;)vh(e,t,r),r=r.sibling}function vh(e,t,r){if(st&&typeof st.onCommitFiberUnmount=="function")try{st.onCommitFiberUnmount(ya,r)}catch{}switch(r.tag){case 5:me||Rr(r,t);case 6:var s=ce,a=We;ce=null,wt(e,t,r),ce=s,We=a,ce!==null&&(We?(e=ce,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ce.removeChild(r.stateNode));break;case 18:ce!==null&&(We?(e=ce,r=r.stateNode,e.nodeType===8?ai(e.parentNode,r):e.nodeType===1&&ai(e,r),Is(e)):ai(ce,r.stateNode));break;case 4:s=ce,a=We,ce=r.stateNode.containerInfo,We=!0,wt(e,t,r),ce=s,We=a;break;case 0:case 11:case 14:case 15:if(!me&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var i=a,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&cl(r,t,l),a=a.next}while(a!==s)}wt(e,t,r);break;case 1:if(!me&&(Rr(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(o){X(r,t,o)}wt(e,t,r);break;case 21:wt(e,t,r);break;case 22:r.mode&1?(me=(s=me)||r.memoizedState!==null,wt(e,t,r),me=s):wt(e,t,r);break;default:wt(e,t,r)}}function zc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Pm),t.forEach(function(s){var a=Dm.bind(null,e,s);r.has(s)||(r.add(s),s.then(a,a))})}}function Be(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var a=r[s];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:ce=o.stateNode,We=!1;break e;case 3:ce=o.stateNode.containerInfo,We=!0;break e;case 4:ce=o.stateNode.containerInfo,We=!0;break e}o=o.return}if(ce===null)throw Error(S(160));vh(i,l,a),ce=null,We=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){X(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)bh(t,e),t=t.sibling}function bh(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Be(t,e),Xe(e),s&4){try{_s(3,e,e.return),Sa(3,e)}catch(v){X(e,e.return,v)}try{_s(5,e,e.return)}catch(v){X(e,e.return,v)}}break;case 1:Be(t,e),Xe(e),s&512&&r!==null&&Rr(r,r.return);break;case 5:if(Be(t,e),Xe(e),s&512&&r!==null&&Rr(r,r.return),e.flags&32){var a=e.stateNode;try{As(a,"")}catch(v){X(e,e.return,v)}}if(s&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,l=r!==null?r.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Bu(a,i),Ii(o,l);var u=Ii(o,i);for(l=0;l<c.length;l+=2){var d=c[l],h=c[l+1];d==="style"?Ku(a,h):d==="dangerouslySetInnerHTML"?Wu(a,h):d==="children"?As(a,h):Ul(a,d,h,u)}switch(o){case"input":Oi(a,i);break;case"textarea":qu(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Mr(a,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Mr(a,!!i.multiple,i.defaultValue,!0):Mr(a,!!i.multiple,i.multiple?[]:"",!1))}a[zs]=i}catch(v){X(e,e.return,v)}}break;case 6:if(Be(t,e),Xe(e),s&4){if(e.stateNode===null)throw Error(S(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(v){X(e,e.return,v)}}break;case 3:if(Be(t,e),Xe(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{Is(t.containerInfo)}catch(v){X(e,e.return,v)}break;case 4:Be(t,e),Xe(e);break;case 13:Be(t,e),Xe(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(yo=ee())),s&4&&zc(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(me=(u=me)||d,Be(t,e),me=u):Be(t,e),Xe(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(T=e,d=e.child;d!==null;){for(h=T=d;T!==null;){switch(f=T,p=f.child,f.tag){case 0:case 11:case 14:case 15:_s(4,f,f.return);break;case 1:Rr(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){s=f,r=f.return;try{t=s,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){X(s,r,v)}}break;case 5:Rr(f,f.return);break;case 22:if(f.memoizedState!==null){qc(h);continue}}p!==null?(p.return=f,T=p):qc(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{a=h.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,c=h.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Vu("display",l))}catch(v){X(e,e.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){X(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Be(t,e),Xe(e),s&4&&zc(e);break;case 21:break;default:Be(t,e),Xe(e)}}function Xe(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(yh(r)){var s=r;break e}r=r.return}throw Error(S(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(As(a,""),s.flags&=-33);var i=Fc(e);hl(e,i,a);break;case 3:case 4:var l=s.stateNode.containerInfo,o=Fc(e);dl(e,o,l);break;default:throw Error(S(161))}}catch(c){X(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Om(e,t,r){T=e,wh(e)}function wh(e,t,r){for(var s=(e.mode&1)!==0;T!==null;){var a=T,i=a.child;if(a.tag===22&&s){var l=a.memoizedState!==null||jn;if(!l){var o=a.alternate,c=o!==null&&o.memoizedState!==null||me;o=jn;var u=me;if(jn=l,(me=c)&&!u)for(T=a;T!==null;)l=T,c=l.child,l.tag===22&&l.memoizedState!==null?Hc(a):c!==null?(c.return=l,T=c):Hc(a);for(;i!==null;)T=i,wh(i),i=i.sibling;T=a,jn=o,me=u}Bc(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,T=i):Bc(e)}}function Bc(e){for(;T!==null;){var t=T;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:me||Sa(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!me)if(r===null)s.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:He(t.type,r.memoizedProps);s.componentDidUpdate(a,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Sc(t,i,s);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Sc(t,l,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Is(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(S(163))}me||t.flags&512&&ul(t)}catch(f){X(t,t.return,f)}}if(t===e){T=null;break}if(r=t.sibling,r!==null){r.return=t.return,T=r;break}T=t.return}}function qc(e){for(;T!==null;){var t=T;if(t===e){T=null;break}var r=t.sibling;if(r!==null){r.return=t.return,T=r;break}T=t.return}}function Hc(e){for(;T!==null;){var t=T;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Sa(4,t)}catch(c){X(t,r,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(c){X(t,a,c)}}var i=t.return;try{ul(t)}catch(c){X(t,i,c)}break;case 5:var l=t.return;try{ul(t)}catch(c){X(t,l,c)}}}catch(c){X(t,t.return,c)}if(t===e){T=null;break}var o=t.sibling;if(o!==null){o.return=t.return,T=o;break}T=t.return}}var Am=Math.ceil,ca=bt.ReactCurrentDispatcher,po=bt.ReactCurrentOwner,Me=bt.ReactCurrentBatchConfig,F=0,oe=null,te=null,ue=0,Ee=0,Ir=qt(0),ae=0,Ks=null,ur=0,Ca=0,xo=0,Ss=null,ke=null,yo=0,Gr=1/0,it=null,ua=!1,fl=null,It=null,Nn=!1,Tt=null,da=0,Cs=0,ml=null,Fn=-1,zn=0;function ve(){return F&6?ee():Fn!==-1?Fn:Fn=ee()}function Mt(e){return e.mode&1?F&2&&ue!==0?ue&-ue:gm.transition!==null?(zn===0&&(zn=ad()),zn):(e=B,e!==0||(e=window.event,e=e===void 0?16:hd(e.type)),e):1}function Qe(e,t,r,s){if(50<Cs)throw Cs=0,ml=null,Error(S(185));Ys(e,r,s),(!(F&2)||e!==oe)&&(e===oe&&(!(F&2)&&(Ca|=r),ae===4&&Ct(e,ue)),Ce(e,s),r===1&&F===0&&!(t.mode&1)&&(Gr=ee()+500,ja&&Ht()))}function Ce(e,t){var r=e.callbackNode;g0(e,t);var s=Jn(e,e===oe?ue:0);if(s===0)r!==null&&Zo(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&Zo(r),t===1)e.tag===0?mm(Wc.bind(null,e)):Od(Wc.bind(null,e)),um(function(){!(F&6)&&Ht()}),r=null;else{switch(id(s)){case 1:r=ql;break;case 4:r=sd;break;case 16:r=Kn;break;case 536870912:r=nd;break;default:r=Kn}r=Ph(r,kh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function kh(e,t){if(Fn=-1,zn=0,F&6)throw Error(S(327));var r=e.callbackNode;if(Br()&&e.callbackNode!==r)return null;var s=Jn(e,e===oe?ue:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=ha(e,s);else{t=s;var a=F;F|=2;var i=Nh();(oe!==e||ue!==t)&&(it=null,Gr=ee()+500,nr(e,t));do try{Rm();break}catch(o){jh(e,o)}while(!0);ro(),ca.current=i,F=a,te!==null?t=0:(oe=null,ue=0,t=ae)}if(t!==0){if(t===2&&(a=zi(e),a!==0&&(s=a,t=gl(e,a))),t===1)throw r=Ks,nr(e,0),Ct(e,s),Ce(e,ee()),r;if(t===6)Ct(e,s);else{if(a=e.current.alternate,!(s&30)&&!Lm(a)&&(t=ha(e,s),t===2&&(i=zi(e),i!==0&&(s=i,t=gl(e,i))),t===1))throw r=Ks,nr(e,0),Ct(e,s),Ce(e,ee()),r;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(S(345));case 2:Xt(e,ke,it);break;case 3:if(Ct(e,s),(s&130023424)===s&&(t=yo+500-ee(),10<t)){if(Jn(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){ve(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Gi(Xt.bind(null,e,ke,it),t);break}Xt(e,ke,it);break;case 4:if(Ct(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var l=31-Ge(s);i=1<<l,l=t[l],l>a&&(a=l),s&=~i}if(s=a,s=ee()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Am(s/1960))-s,10<s){e.timeoutHandle=Gi(Xt.bind(null,e,ke,it),s);break}Xt(e,ke,it);break;case 5:Xt(e,ke,it);break;default:throw Error(S(329))}}}return Ce(e,ee()),e.callbackNode===r?kh.bind(null,e):null}function gl(e,t){var r=Ss;return e.current.memoizedState.isDehydrated&&(nr(e,t).flags|=256),e=ha(e,t),e!==2&&(t=ke,ke=r,t!==null&&pl(t)),e}function pl(e){ke===null?ke=e:ke.push.apply(ke,e)}function Lm(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var a=r[s],i=a.getSnapshot;a=a.value;try{if(!Ye(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ct(e,t){for(t&=~xo,t&=~Ca,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ge(t),s=1<<r;e[r]=-1,t&=~s}}function Wc(e){if(F&6)throw Error(S(327));Br();var t=Jn(e,0);if(!(t&1))return Ce(e,ee()),null;var r=ha(e,t);if(e.tag!==0&&r===2){var s=zi(e);s!==0&&(t=s,r=gl(e,s))}if(r===1)throw r=Ks,nr(e,0),Ct(e,t),Ce(e,ee()),r;if(r===6)throw Error(S(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xt(e,ke,it),Ce(e,ee()),null}function vo(e,t){var r=F;F|=1;try{return e(t)}finally{F=r,F===0&&(Gr=ee()+500,ja&&Ht())}}function dr(e){Tt!==null&&Tt.tag===0&&!(F&6)&&Br();var t=F;F|=1;var r=Me.transition,s=B;try{if(Me.transition=null,B=1,e)return e()}finally{B=s,Me.transition=r,F=t,!(F&6)&&Ht()}}function bo(){Ee=Ir.current,K(Ir)}function nr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,cm(r)),te!==null)for(r=te.return;r!==null;){var s=r;switch(Zl(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Zn();break;case 3:Kr(),K(_e),K(pe),oo();break;case 5:lo(s);break;case 4:Kr();break;case 13:K(G);break;case 19:K(G);break;case 10:so(s.type._context);break;case 22:case 23:bo()}r=r.return}if(oe=e,te=e=Ut(e.current,null),ue=Ee=t,ae=0,Ks=null,xo=Ca=ur=0,ke=Ss=null,rr!==null){for(t=0;t<rr.length;t++)if(r=rr[t],s=r.interleaved,s!==null){r.interleaved=null;var a=s.next,i=r.pending;if(i!==null){var l=i.next;i.next=a,s.next=l}r.pending=s}rr=null}return e}function jh(e,t){do{var r=te;try{if(ro(),Mn.current=oa,la){for(var s=Q.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}la=!1}if(cr=0,le=ne=Q=null,Ns=!1,Hs=0,po.current=null,r===null||r.return===null){ae=1,Ks=t,te=null;break}e:{var i=e,l=r.return,o=r,c=t;if(t=ue,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Ac(l);if(p!==null){p.flags&=-257,Lc(p,l,o,i,t),p.mode&1&&Oc(i,u,t),t=p,c=u;var m=t.updateQueue;if(m===null){var v=new Set;v.add(c),t.updateQueue=v}else m.add(c);break e}else{if(!(t&1)){Oc(i,u,t),wo();break e}c=Error(S(426))}}else if(J&&o.mode&1){var k=Ac(l);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Lc(k,l,o,i,t),eo(Jr(c,o));break e}}i=c=Jr(c,o),ae!==4&&(ae=2),Ss===null?Ss=[i]:Ss.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=ih(i,c,t);_c(i,g);break e;case 1:o=c;var x=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(It===null||!It.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=lh(i,o,t);_c(i,b);break e}}i=i.return}while(i!==null)}Sh(r)}catch(j){t=j,te===r&&r!==null&&(te=r=r.return);continue}break}while(!0)}function Nh(){var e=ca.current;return ca.current=oa,e===null?oa:e}function wo(){(ae===0||ae===3||ae===2)&&(ae=4),oe===null||!(ur&268435455)&&!(Ca&268435455)||Ct(oe,ue)}function ha(e,t){var r=F;F|=2;var s=Nh();(oe!==e||ue!==t)&&(it=null,nr(e,t));do try{$m();break}catch(a){jh(e,a)}while(!0);if(ro(),F=r,ca.current=s,te!==null)throw Error(S(261));return oe=null,ue=0,ae}function $m(){for(;te!==null;)_h(te)}function Rm(){for(;te!==null&&!i0();)_h(te)}function _h(e){var t=Eh(e.alternate,e,Ee);e.memoizedProps=e.pendingProps,t===null?Sh(e):te=t,po.current=null}function Sh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Em(r,t),r!==null){r.flags&=32767,te=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ae=6,te=null;return}}else if(r=Cm(r,t,Ee),r!==null){te=r;return}if(t=t.sibling,t!==null){te=t;return}te=t=e}while(t!==null);ae===0&&(ae=5)}function Xt(e,t,r){var s=B,a=Me.transition;try{Me.transition=null,B=1,Im(e,t,r,s)}finally{Me.transition=a,B=s}return null}function Im(e,t,r,s){do Br();while(Tt!==null);if(F&6)throw Error(S(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(S(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(p0(e,i),e===oe&&(te=oe=null,ue=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Nn||(Nn=!0,Ph(Kn,function(){return Br(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Me.transition,Me.transition=null;var l=B;B=1;var o=F;F|=4,po.current=null,Tm(e,r),bh(r,e),rm(Ki),Gn=!!Vi,Ki=Vi=null,e.current=r,Om(r),l0(),F=o,B=l,Me.transition=i}else e.current=r;if(Nn&&(Nn=!1,Tt=e,da=a),i=e.pendingLanes,i===0&&(It=null),u0(r.stateNode),Ce(e,ee()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],s(a.value,{componentStack:a.stack,digest:a.digest});if(ua)throw ua=!1,e=fl,fl=null,e;return da&1&&e.tag!==0&&Br(),i=e.pendingLanes,i&1?e===ml?Cs++:(Cs=0,ml=e):Cs=0,Ht(),null}function Br(){if(Tt!==null){var e=id(da),t=Me.transition,r=B;try{if(Me.transition=null,B=16>e?16:e,Tt===null)var s=!1;else{if(e=Tt,Tt=null,da=0,F&6)throw Error(S(331));var a=F;for(F|=4,T=e.current;T!==null;){var i=T,l=i.child;if(T.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(T=u;T!==null;){var d=T;switch(d.tag){case 0:case 11:case 15:_s(8,d,i)}var h=d.child;if(h!==null)h.return=d,T=h;else for(;T!==null;){d=T;var f=d.sibling,p=d.return;if(xh(d),d===u){T=null;break}if(f!==null){f.return=p,T=f;break}T=p}}}var m=i.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var k=v.sibling;v.sibling=null,v=k}while(v!==null)}}T=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,T=l;else e:for(;T!==null;){if(i=T,i.flags&2048)switch(i.tag){case 0:case 11:case 15:_s(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,T=g;break e}T=i.return}}var x=e.current;for(T=x;T!==null;){l=T;var y=l.child;if(l.subtreeFlags&2064&&y!==null)y.return=l,T=y;else e:for(l=x;T!==null;){if(o=T,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Sa(9,o)}}catch(j){X(o,o.return,j)}if(o===l){T=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,T=b;break e}T=o.return}}if(F=a,Ht(),st&&typeof st.onPostCommitFiberRoot=="function")try{st.onPostCommitFiberRoot(ya,e)}catch{}s=!0}return s}finally{B=r,Me.transition=t}}return!1}function Vc(e,t,r){t=Jr(r,t),t=ih(e,t,1),e=Rt(e,t,1),t=ve(),e!==null&&(Ys(e,1,t),Ce(e,t))}function X(e,t,r){if(e.tag===3)Vc(e,e,r);else for(;t!==null;){if(t.tag===3){Vc(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(It===null||!It.has(s))){e=Jr(r,e),e=lh(t,e,1),t=Rt(t,e,1),e=ve(),t!==null&&(Ys(t,1,e),Ce(t,e));break}}t=t.return}}function Mm(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=ve(),e.pingedLanes|=e.suspendedLanes&r,oe===e&&(ue&r)===r&&(ae===4||ae===3&&(ue&130023424)===ue&&500>ee()-yo?nr(e,0):xo|=r),Ce(e,t)}function Ch(e,t){t===0&&(e.mode&1?(t=mn,mn<<=1,!(mn&130023424)&&(mn=4194304)):t=1);var r=ve();e=pt(e,t),e!==null&&(Ys(e,t,r),Ce(e,r))}function Um(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Ch(e,r)}function Dm(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(S(314))}s!==null&&s.delete(t),Ch(e,r)}var Eh;Eh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||_e.current)Ne=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ne=!1,Sm(e,t,r);Ne=!!(e.flags&131072)}else Ne=!1,J&&t.flags&1048576&&Ad(t,ra,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Dn(e,t),e=t.pendingProps;var a=Hr(t,pe.current);zr(t,r),a=uo(null,t,s,e,a,r);var i=ho();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Se(s)?(i=!0,ea(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,ao(t),a.updater=_a,t.stateNode=a,a._reactInternals=t,rl(t,s,e,r),t=al(null,t,s,!0,i,r)):(t.tag=0,J&&i&&Xl(t),ye(null,t,a,r),t=t.child),t;case 16:s=t.elementType;e:{switch(Dn(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=zm(s),e=He(s,e),a){case 0:t=nl(null,t,s,e,r);break e;case 1:t=Ic(null,t,s,e,r);break e;case 11:t=$c(null,t,s,e,r);break e;case 14:t=Rc(null,t,s,He(s.type,e),r);break e}throw Error(S(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:He(s,a),nl(e,t,s,a,r);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:He(s,a),Ic(e,t,s,a,r);case 3:e:{if(dh(t),e===null)throw Error(S(387));s=t.pendingProps,i=t.memoizedState,a=i.element,Ud(e,t),aa(t,s,null,r);var l=t.memoizedState;if(s=l.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Jr(Error(S(423)),t),t=Mc(e,t,s,r,a);break e}else if(s!==a){a=Jr(Error(S(424)),t),t=Mc(e,t,s,r,a);break e}else for(Pe=$t(t.stateNode.containerInfo.firstChild),Te=t,J=!0,Ke=null,r=Id(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Wr(),s===a){t=xt(e,t,r);break e}ye(e,t,s,r)}t=t.child}return t;case 5:return Dd(t),e===null&&Zi(t),s=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,l=a.children,Ji(s,a)?l=null:i!==null&&Ji(s,i)&&(t.flags|=32),uh(e,t),ye(e,t,l,r),t.child;case 6:return e===null&&Zi(t),null;case 13:return hh(e,t,r);case 4:return io(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Vr(t,null,s,r):ye(e,t,s,r),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:He(s,a),$c(e,t,s,a,r);case 7:return ye(e,t,t.pendingProps,r),t.child;case 8:return ye(e,t,t.pendingProps.children,r),t.child;case 12:return ye(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,i=t.memoizedProps,l=a.value,H(sa,s._currentValue),s._currentValue=l,i!==null)if(Ye(i.value,l)){if(i.children===a.children&&!_e.current){t=xt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=dt(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),el(i.return,r,t),o.lanes|=r;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(S(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),el(l,r,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}ye(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,zr(t,r),a=De(a),s=s(a),t.flags|=1,ye(e,t,s,r),t.child;case 14:return s=t.type,a=He(s,t.pendingProps),a=He(s.type,a),Rc(e,t,s,a,r);case 15:return oh(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:He(s,a),Dn(e,t),t.tag=1,Se(s)?(e=!0,ea(t)):e=!1,zr(t,r),ah(t,s,a),rl(t,s,a,r),al(null,t,s,!0,e,r);case 19:return fh(e,t,r);case 22:return ch(e,t,r)}throw Error(S(156,t.tag))};function Ph(e,t){return rd(e,t)}function Fm(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ie(e,t,r,s){return new Fm(e,t,r,s)}function ko(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zm(e){if(typeof e=="function")return ko(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Fl)return 11;if(e===zl)return 14}return 2}function Ut(e,t){var r=e.alternate;return r===null?(r=Ie(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Bn(e,t,r,s,a,i){var l=2;if(s=e,typeof e=="function")ko(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Sr:return ar(r.children,a,i,t);case Dl:l=8,a|=8;break;case Si:return e=Ie(12,r,t,a|2),e.elementType=Si,e.lanes=i,e;case Ci:return e=Ie(13,r,t,a),e.elementType=Ci,e.lanes=i,e;case Ei:return e=Ie(19,r,t,a),e.elementType=Ei,e.lanes=i,e;case Du:return Ea(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Mu:l=10;break e;case Uu:l=9;break e;case Fl:l=11;break e;case zl:l=14;break e;case Nt:l=16,s=null;break e}throw Error(S(130,e==null?e:typeof e,""))}return t=Ie(l,r,t,a),t.elementType=e,t.type=s,t.lanes=i,t}function ar(e,t,r,s){return e=Ie(7,e,s,t),e.lanes=r,e}function Ea(e,t,r,s){return e=Ie(22,e,s,t),e.elementType=Du,e.lanes=r,e.stateNode={isHidden:!1},e}function fi(e,t,r){return e=Ie(6,e,null,t),e.lanes=r,e}function mi(e,t,r){return t=Ie(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bm(e,t,r,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ja(0),this.expirationTimes=Ja(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ja(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function jo(e,t,r,s,a,i,l,o,c){return e=new Bm(e,t,r,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ie(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ao(i),e}function qm(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_r,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function Th(e){if(!e)return Ft;e=e._reactInternals;e:{if(mr(e)!==e||e.tag!==1)throw Error(S(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Se(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(S(171))}if(e.tag===1){var r=e.type;if(Se(r))return Td(e,r,t)}return t}function Oh(e,t,r,s,a,i,l,o,c){return e=jo(r,s,!0,e,a,i,l,o,c),e.context=Th(null),r=e.current,s=ve(),a=Mt(r),i=dt(s,a),i.callback=t??null,Rt(r,i,a),e.current.lanes=a,Ys(e,a,s),Ce(e,s),e}function Pa(e,t,r,s){var a=t.current,i=ve(),l=Mt(a);return r=Th(r),t.context===null?t.context=r:t.pendingContext=r,t=dt(i,l),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Rt(a,t,l),e!==null&&(Qe(e,a,l,i),In(e,a,l)),l}function fa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Kc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function No(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}function Hm(){return null}var Ah=typeof reportError=="function"?reportError:function(e){console.error(e)};function _o(e){this._internalRoot=e}Ta.prototype.render=_o.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(S(409));Pa(e,t,null,null)};Ta.prototype.unmount=_o.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;dr(function(){Pa(null,e,null,null)}),t[gt]=null}};function Ta(e){this._internalRoot=e}Ta.prototype.unstable_scheduleHydration=function(e){if(e){var t=cd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<St.length&&t!==0&&t<St[r].priority;r++);St.splice(r,0,e),r===0&&dd(e)}};function So(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Oa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Jc(){}function Wm(e,t,r,s,a){if(a){if(typeof s=="function"){var i=s;s=function(){var u=fa(l);i.call(u)}}var l=Oh(t,s,e,0,null,!1,!1,"",Jc);return e._reactRootContainer=l,e[gt]=l.current,Ds(e.nodeType===8?e.parentNode:e),dr(),l}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var o=s;s=function(){var u=fa(c);o.call(u)}}var c=jo(e,0,!1,null,null,!1,!1,"",Jc);return e._reactRootContainer=c,e[gt]=c.current,Ds(e.nodeType===8?e.parentNode:e),dr(function(){Pa(t,c,r,s)}),c}function Aa(e,t,r,s,a){var i=r._reactRootContainer;if(i){var l=i;if(typeof a=="function"){var o=a;a=function(){var c=fa(l);o.call(c)}}Pa(t,l,e,a)}else l=Wm(r,t,e,a,s);return fa(l)}ld=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ps(t.pendingLanes);r!==0&&(Hl(t,r|1),Ce(t,ee()),!(F&6)&&(Gr=ee()+500,Ht()))}break;case 13:dr(function(){var s=pt(e,1);if(s!==null){var a=ve();Qe(s,e,1,a)}}),No(e,1)}};Wl=function(e){if(e.tag===13){var t=pt(e,134217728);if(t!==null){var r=ve();Qe(t,e,134217728,r)}No(e,134217728)}};od=function(e){if(e.tag===13){var t=Mt(e),r=pt(e,t);if(r!==null){var s=ve();Qe(r,e,t,s)}No(e,t)}};cd=function(){return B};ud=function(e,t){var r=B;try{return B=e,t()}finally{B=r}};Ui=function(e,t,r){switch(t){case"input":if(Oi(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var a=ka(s);if(!a)throw Error(S(90));zu(s),Oi(s,a)}}}break;case"textarea":qu(e,r);break;case"select":t=r.value,t!=null&&Mr(e,!!r.multiple,t,!1)}};Qu=vo;Yu=dr;var Vm={usingClientEntryPoint:!1,Events:[Zs,Tr,ka,Ju,Gu,vo]},hs={findFiberByHostInstance:tr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Km={bundleType:hs.bundleType,version:hs.version,rendererPackageName:hs.rendererPackageName,rendererConfig:hs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ed(e),e===null?null:e.stateNode},findFiberByHostInstance:hs.findFiberByHostInstance||Hm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _n=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_n.isDisabled&&_n.supportsFiber)try{ya=_n.inject(Km),st=_n}catch{}}Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vm;Ae.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!So(t))throw Error(S(200));return qm(e,t,null,r)};Ae.createRoot=function(e,t){if(!So(e))throw Error(S(299));var r=!1,s="",a=Ah;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=jo(e,1,!1,null,null,r,!1,s,a),e[gt]=t.current,Ds(e.nodeType===8?e.parentNode:e),new _o(t)};Ae.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(S(188)):(e=Object.keys(e).join(","),Error(S(268,e)));return e=ed(t),e=e===null?null:e.stateNode,e};Ae.flushSync=function(e){return dr(e)};Ae.hydrate=function(e,t,r){if(!Oa(t))throw Error(S(200));return Aa(null,e,t,!0,r)};Ae.hydrateRoot=function(e,t,r){if(!So(e))throw Error(S(405));var s=r!=null&&r.hydratedSources||null,a=!1,i="",l=Ah;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=Oh(t,null,e,1,r??null,a,!1,i,l),e[gt]=t.current,Ds(e),s)for(e=0;e<s.length;e++)r=s[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Ta(t)};Ae.render=function(e,t,r){if(!Oa(t))throw Error(S(200));return Aa(null,e,t,!1,r)};Ae.unmountComponentAtNode=function(e){if(!Oa(e))throw Error(S(40));return e._reactRootContainer?(dr(function(){Aa(null,null,e,!1,function(){e._reactRootContainer=null,e[gt]=null})}),!0):!1};Ae.unstable_batchedUpdates=vo;Ae.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!Oa(r))throw Error(S(200));if(e==null||e._reactInternals===void 0)throw Error(S(38));return Aa(e,t,r,!1,s)};Ae.version="18.3.1-next-f1338f8080-20240426";function Lh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lh)}catch(e){console.error(e)}}Lh(),Lu.exports=Ae;var Jm=Lu.exports,$h,Gc=Jm;$h=Gc.createRoot,Gc.hydrateRoot;const Gm="modulepreload",Qm=function(e){return"/"+e},Qc={},tn=function(t,r,s){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=Qm(c),c in Qc)return;Qc[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Gm,u||(h.as="script"),h.crossOrigin="",h.href=c,o&&h.setAttribute("nonce",o),document.head.appendChild(h),u)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return a.then(l=>{for(const o of l||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},Ym=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>tn(async()=>{const{default:s}=await Promise.resolve().then(()=>rs);return{default:s}},void 0).then(({default:s})=>s(...r)):t=fetch,(...r)=>t(...r)};class Co extends Error{constructor(t,r="FunctionsError",s){super(t),this.name=r,this.context=s}}class Xm extends Co{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Yc extends Co{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Xc extends Co{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var xl;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(xl||(xl={}));var Zm=function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{u(s.next(d))}catch(h){l(h)}}function c(d){try{u(s.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((s=s.apply(e,t||[])).next())})};class eg{constructor(t,{headers:r={},customFetch:s,region:a=xl.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=Ym(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var s;return Zm(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:l}=r;let o={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(o["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=l):typeof l=="string"?(o["Content-Type"]="text/plain",d=l):typeof FormData<"u"&&l instanceof FormData?d=l:(o["Content-Type"]="application/json",d=JSON.stringify(l)));const h=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),a),body:d}).catch(v=>{throw new Xm(v)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new Yc(h);if(!h.ok)throw new Xc(h);let p=((s=h.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),m;return p==="application/json"?m=yield h.json():p==="application/octet-stream"?m=yield h.blob():p==="text/event-stream"?m=h:p==="multipart/form-data"?m=yield h.formData():m=yield h.text(),{data:m,error:null,response:h}}catch(a){return{data:null,error:a,response:a instanceof Xc||a instanceof Yc?a.context:void 0}}})}}var je={},Eo={},La={},rn={},$a={},Ra={},tg=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Qr=tg();const rg=Qr.fetch,Rh=Qr.fetch.bind(Qr),Ih=Qr.Headers,sg=Qr.Request,ng=Qr.Response,rs=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ih,Request:sg,Response:ng,default:Rh,fetch:rg},Symbol.toStringTag,{value:"Module"})),ag=kf(rs);var Ia={};Object.defineProperty(Ia,"__esModule",{value:!0});let ig=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ia.default=ig;var Mh=Ue&&Ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ra,"__esModule",{value:!0});const lg=Mh(ag),og=Mh(Ia);let cg=class{constructor(t){var r,s;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(s=t.isMaybeSingle)!==null&&s!==void 0?s:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=lg.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let a=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var l,o,c,u;let d=null,h=null,f=null,p=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const x=await i.text();x===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((l=this.headers.get("Accept"))===null||l===void 0)&&l.includes("application/vnd.pgrst.plan+text"))?h=x:h=JSON.parse(x))}const k=(o=this.headers.get("Prefer"))===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),g=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");k&&g&&g.length>1&&(f=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,p=406,m="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const k=await i.text();try{d=JSON.parse(k),Array.isArray(d)&&i.status===404&&(h=[],d=null,p=200,m="OK")}catch{i.status===404&&k===""?(p=204,m="No Content"):d={message:k}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,p=200,m="OK"),d&&this.shouldThrowOnError)throw new og.default(d)}return{error:d,data:h,count:f,status:p,statusText:m}});return this.shouldThrowOnError||(a=a.catch(i=>{var l,o,c;return{error:{message:`${(l=i==null?void 0:i.name)!==null&&l!==void 0?l:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};Ra.default=cg;var ug=Ue&&Ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($a,"__esModule",{value:!0});const dg=ug(Ra);let hg=class extends dg.default{select(t){let r=!1;const s=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:s,foreignTable:a,referencedTable:i=a}={}){const l=i?`${i}.order`:"order",o=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:s=r}={}){const a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:s,referencedTable:a=s}={}){const i=typeof a>"u"?"offset":`${a}.offset`,l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(l,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:s=!1,buffers:a=!1,wal:i=!1,format:l="text"}={}){var o;const c=[t?"analyze":null,r?"verbose":null,s?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${u}"; options=${c};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};$a.default=hg;var fg=Ue&&Ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rn,"__esModule",{value:!0});const mg=fg($a);let gg=class extends mg.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const s=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:s,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const l=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${i}fts${l}.${r}`),this}match(t){return Object.entries(t).forEach(([r,s])=>{this.url.searchParams.append(r,`eq.${s}`)}),this}not(t,r,s){return this.url.searchParams.append(t,`not.${r}.${s}`),this}or(t,{foreignTable:r,referencedTable:s=r}={}){const a=s?`${s}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,s){return this.url.searchParams.append(t,`${r}.${s}`),this}};rn.default=gg;var pg=Ue&&Ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(La,"__esModule",{value:!0});const fs=pg(rn);let xg=class{constructor(t,{headers:r={},schema:s,fetch:a}){this.url=t,this.headers=new Headers(r),this.schema=s,this.fetch=a}select(t,{head:r=!1,count:s}={}){const a=r?"HEAD":"GET";let i=!1;const l=(t??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",l),s&&this.headers.append("Prefer",`count=${s}`),new fs.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:s=!0}={}){var a;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(l.length>0){const o=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new fs.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:s=!1,count:a,defaultToNull:i=!0}={}){var l;const o="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),a&&this.headers.append("Prefer",`count=${a}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new fs.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(t,{count:r}={}){var s;const a="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new fs.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:t}={}){var r;const s="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new fs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};La.default=xg;var Uh=Ue&&Ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Eo,"__esModule",{value:!0});const yg=Uh(La),vg=Uh(rn);let bg=class Dh{constructor(t,{headers:r={},schema:s,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=s,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new yg.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Dh(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:s=!1,get:a=!1,count:i}={}){var l;let o;const c=new URL(`${this.url}/rpc/${t}`);let u;s||a?(o=s?"HEAD":"GET",Object.entries(r).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{c.searchParams.append(h,f)})):(o="POST",u=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new vg.default({method:o,url:c,headers:d,schema:this.schemaName,body:u,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};Eo.default=bg;var ss=Ue&&Ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(je,"__esModule",{value:!0});je.PostgrestError=je.PostgrestBuilder=je.PostgrestTransformBuilder=je.PostgrestFilterBuilder=je.PostgrestQueryBuilder=je.PostgrestClient=void 0;const Fh=ss(Eo);je.PostgrestClient=Fh.default;const zh=ss(La);je.PostgrestQueryBuilder=zh.default;const Bh=ss(rn);je.PostgrestFilterBuilder=Bh.default;const qh=ss($a);je.PostgrestTransformBuilder=qh.default;const Hh=ss(Ra);je.PostgrestBuilder=Hh.default;const Wh=ss(Ia);je.PostgrestError=Wh.default;var wg=je.default={PostgrestClient:Fh.default,PostgrestQueryBuilder:zh.default,PostgrestFilterBuilder:Bh.default,PostgrestTransformBuilder:qh.default,PostgrestBuilder:Hh.default,PostgrestError:Wh.default};const{PostgrestClient:kg,PostgrestQueryBuilder:Hy,PostgrestFilterBuilder:Wy,PostgrestTransformBuilder:Vy,PostgrestBuilder:Ky,PostgrestError:Jy}=wg;class jg{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const s=r.node,a=parseInt(s.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const s=this.getWebSocketConstructor();return new s(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Ng="2.15.5",_g=`realtime-js/${Ng}`,Sg="1.0.0",yl=1e4,Cg=1e3,Eg=100;var Es;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Es||(Es={}));var re;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(re||(re={}));var Ve;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ve||(Ve={}));var vl;(function(e){e.websocket="websocket"})(vl||(vl={}));var er;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(er||(er={}));class Pg{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,r,s)}_decodeBroadcast(t,r,s){const a=r.getUint8(1),i=r.getUint8(2);let l=this.HEADER_LENGTH+2;const o=s.decode(t.slice(l,l+a));l=l+a;const c=s.decode(t.slice(l,l+i));l=l+i;const u=JSON.parse(s.decode(t.slice(l,t.byteLength)));return{ref:null,topic:o,event:c,payload:u}}}class Vh{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var q;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(q||(q={}));const Zc=(e,t,r={})=>{var s;const a=(s=r.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((i,l)=>(i[l]=Tg(l,e,t,a),i),{})},Tg=(e,t,r,s)=>{const a=t.find(o=>o.name===e),i=a==null?void 0:a.type,l=r[e];return i&&!s.includes(i)?Kh(i,l):bl(l)},Kh=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return $g(t,r)}switch(e){case q.bool:return Og(t);case q.float4:case q.float8:case q.int2:case q.int4:case q.int8:case q.numeric:case q.oid:return Ag(t);case q.json:case q.jsonb:return Lg(t);case q.timestamp:return Rg(t);case q.abstime:case q.date:case q.daterange:case q.int4range:case q.int8range:case q.money:case q.reltime:case q.text:case q.time:case q.timestamptz:case q.timetz:case q.tsrange:case q.tstzrange:return bl(t);default:return bl(t)}},bl=e=>e,Og=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Ag=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Lg=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},$g=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,s=e[r];if(e[0]==="{"&&s==="}"){let i;const l=e.slice(1,r);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(o=>Kh(t,o))}return e},Rg=e=>typeof e=="string"?e.replace(" ","T"):e,Jh=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class gi{constructor(t,r,s={},a=yl){this.channel=t,this.event=r,this.payload=s,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var s;return this._hasReceived(t)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var eu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(eu||(eu={}));class Ps{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},a=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ps.syncState(this.state,a,i,l),this.pendingDiffs.forEach(c=>{this.state=Ps.syncDiff(this.state,c,i,l)}),this.pendingDiffs=[],o()}),this.channel._on(s.diff,{},a=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Ps.syncDiff(this.state,a,i,l),o())}),this.onJoin((a,i,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:l})}),this.onLeave((a,i,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,s,a){const i=this.cloneDeep(t),l=this.transformState(r),o={},c={};return this.map(i,(u,d)=>{l[u]||(c[u]=d)}),this.map(l,(u,d)=>{const h=i[u];if(h){const f=d.map(k=>k.presence_ref),p=h.map(k=>k.presence_ref),m=d.filter(k=>p.indexOf(k.presence_ref)<0),v=h.filter(k=>f.indexOf(k.presence_ref)<0);m.length>0&&(o[u]=m),v.length>0&&(c[u]=v)}else o[u]=d}),this.syncDiff(i,{joins:o,leaves:c},s,a)}static syncDiff(t,r,s,a){const{joins:i,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),a||(a=()=>{}),this.map(i,(o,c)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(c),d.length>0){const h=t[o].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);t[o].unshift(...f)}s(o,d,c)}),this.map(l,(o,c)=>{let u=t[o];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[o]=u,a(o,u,c),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(s=>r(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,s)=>{const a=t[s];return"metas"in a?r[s]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[s]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var tu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(tu||(tu={}));var Ts;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ts||(Ts={}));var lt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(lt||(lt={}));class Po{constructor(t,r={config:{}},s){this.topic=t,this.params=r,this.socket=s,this.bindings={},this.state=re.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new gi(this,Ve.join,this.params,this.timeout),this.rejoinTimer=new Vh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=re.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=re.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=re.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ve.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new Ps(this),this.broadcastEndpointURL=Jh(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var s,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==re.closed){const{config:{broadcast:l,presence:o,private:c}}=this.params,u=(a=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(p=>p.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[Ts.PRESENCE]&&this.bindings[Ts.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:l,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(lt.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(lt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var m;if(this.socket.setAuth(),p===void 0){t==null||t(lt.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,k=(m=v==null?void 0:v.length)!==null&&m!==void 0?m:0,g=[];for(let x=0;x<k;x++){const y=v[x],{filter:{event:b,schema:j,table:N,filter:_}}=y,E=p&&p[x];if(E&&E.event===b&&E.schema===j&&E.table===N&&E.filter===_)g.push(Object.assign(Object.assign({},y),{id:E.id}));else{this.unsubscribe(),this.state=re.errored,t==null||t(lt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(lt.SUBSCRIBED);return}}).receive("error",p=>{this.state=re.errored,t==null||t(lt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(lt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,s){return this.state===re.joined&&t===Ts.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,s)}async send(t,r={}){var s,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:l}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:l,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var l,o,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(l=this.params)===null||l===void 0?void 0:l.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=re.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ve.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(a=>{s=new gi(this,Ve.leave,{},t),s.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=re.closed,this.bindings={}}async _fetchWithTimeout(t,r,s){const a=new AbortController,i=setTimeout(()=>a.abort(),s),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),l}_push(t,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new gi(this,t,r,s);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Eg){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,s){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,s){var a,i;const l=t.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=Ve;if(s&&[o,c,u,d].indexOf(l)>=0&&s!==this._joinRef())return;let f=this._onMessage(l,r,s);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var m,v,k;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((k=(v=p.filter)===null||v===void 0?void 0:v.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===l}).map(p=>p.callback(f,s)):(i=this.bindings[l])===null||i===void 0||i.filter(p=>{var m,v,k,g,x,y;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in p){const b=p.id,j=(m=p.filter)===null||m===void 0?void 0:m.event;return b&&((v=r.ids)===null||v===void 0?void 0:v.includes(b))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const b=(x=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return b==="*"||b===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===l}).map(p=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:v,table:k,commit_timestamp:g,type:x,errors:y}=m;f=Object.assign(Object.assign({},{schema:v,table:k,commit_timestamp:g,eventType:x,new:{},old:{},errors:y}),this._getPayloadRecords(m))}p.callback(f,s)})}_isClosed(){return this.state===re.closed}_isJoined(){return this.state===re.joined}_isJoining(){return this.state===re.joining}_isLeaving(){return this.state===re.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,s){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:s};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const s=t.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&Po.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const s in t)if(t[s]!==r[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ve.close,{},t)}_onError(t){this._on(Ve.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=re.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Zc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Zc(t.columns,t.old_record)),r}}const pi=()=>{},Sn={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Ig=[1e3,2e3,5e3,1e4],Mg=1e4,Ug=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Dg{constructor(t,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=yl,this.transport=null,this.heartbeatIntervalMs=Sn.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=pi,this.ref=0,this.reconnectTimer=null,this.logger=pi,this.conn=null,this.sendBuffer=[],this.serializer=new Pg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...l)=>tn(async()=>{const{default:o}=await Promise.resolve().then(()=>rs);return{default:o}},void 0).then(({default:o})=>o(...l)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...l)=>i(...l)},!(!((s=r==null?void 0:r.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${vl.websocket}`,this.httpEndpoint=Jh(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=jg.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Sg}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,s){this.logger(t,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Es.connecting:return er.Connecting;case Es.open:return er.Open;case Es.closing:return er.Closing;default:return er.Closed}}isConnected(){return this.connectionState()===er.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const s=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===s);if(a)return a;{const i=new Po(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:s,payload:a,ref:i}=t,l=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${s} (${i})`,a),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Cg,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Sn.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:a,payload:i,ref:l}=r,o=l?`(${l})`:"",c=i.status||"";this.log("receive",`${c} ${s} ${a} ${o}`.trim(),i),this.channels.filter(u=>u._isMember(s)).forEach(u=>u._trigger(a,i,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ve.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const s=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${s}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const s=new Blob([Ug],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const a={access_token:r,version:_g};r&&s.updateJoinPayload(a),s.joinedOnce&&s._isJoined()&&s._push(Ve.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(s=>{try{s(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(s){this.log("error",`error triggering ${t} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Vh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Sn.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,s,a,i,l,o,c,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(s=t==null?void 0:t.timeout)!==null&&s!==void 0?s:yl,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Sn.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:pi,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:h=>Ig[h-1]||Mg,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(h,f)=>f(JSON.stringify(h)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class To extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function se(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Fg extends To{constructor(t,r,s){super(t),this.name="StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class wl extends To{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var zg=function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{u(s.next(d))}catch(h){l(h)}}function c(d){try{u(s.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((s=s.apply(e,t||[])).next())})};const Gh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>tn(async()=>{const{default:s}=await Promise.resolve().then(()=>rs);return{default:s}},void 0).then(({default:s})=>s(...r)):t=fetch,(...r)=>t(...r)},Bg=()=>zg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield tn(()=>Promise.resolve().then(()=>rs),void 0)).Response:Response}),kl=e=>{if(Array.isArray(e))return e.map(r=>kl(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,s])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=kl(s)}),t},qg=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var gr=function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{u(s.next(d))}catch(h){l(h)}}function c(d){try{u(s.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((s=s.apply(e,t||[])).next())})};const xi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Hg=(e,t,r)=>gr(void 0,void 0,void 0,function*(){const s=yield Bg();e instanceof s&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,l=(a==null?void 0:a.statusCode)||i+"";t(new Fg(xi(a),i,l))}).catch(a=>{t(new wl(xi(a),a))}):t(new wl(xi(e),e))}),Wg=(e,t,r,s)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!s?a:(qg(s)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(s)):a.body=s,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function sn(e,t,r,s,a,i){return gr(this,void 0,void 0,function*(){return new Promise((l,o)=>{e(r,Wg(t,s,a,i)).then(c=>{if(!c.ok)throw c;return s!=null&&s.noResolveJson?c:c.json()}).then(c=>l(c)).catch(c=>Hg(c,o,s))})})}function ma(e,t,r,s){return gr(this,void 0,void 0,function*(){return sn(e,"GET",t,r,s)})}function et(e,t,r,s,a){return gr(this,void 0,void 0,function*(){return sn(e,"POST",t,s,a,r)})}function jl(e,t,r,s,a){return gr(this,void 0,void 0,function*(){return sn(e,"PUT",t,s,a,r)})}function Vg(e,t,r,s){return gr(this,void 0,void 0,function*(){return sn(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function Qh(e,t,r,s,a){return gr(this,void 0,void 0,function*(){return sn(e,"DELETE",t,s,a,r)})}var xe=function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{u(s.next(d))}catch(h){l(h)}}function c(d){try{u(s.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((s=s.apply(e,t||[])).next())})};const Kg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ru={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Jg{constructor(t,r={},s,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=s,this.fetch=Gh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,s,a){return xe(this,void 0,void 0,function*(){try{let i;const l=Object.assign(Object.assign({},ru),a);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const c=l.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=s,o["cache-control"]=`max-age=${l.cacheControl}`,o["content-type"]=l.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(o=Object.assign(Object.assign({},o),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(t=="PUT"?jl:et)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:o},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(se(i))return{data:null,error:i};throw i}})}upload(t,r,s){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,s)})}uploadToSignedUrl(t,r,s,a){return xe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),l=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${l}`);o.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:ru.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",u.cacheControl)):(c=s,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield jl(this.fetch,o.toString(),c,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(se(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return xe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield et(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:a}),l=new URL(this.url+i.url),o=l.searchParams.get("token");if(!o)throw new To("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:o},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(se(s))return{data:null,error:s};throw s}})}update(t,r,s){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,s)})}move(t,r,s){return xe(this,void 0,void 0,function*(){try{return{data:yield et(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(se(a))return{data:null,error:a};throw a}})}copy(t,r,s){return xe(this,void 0,void 0,function*(){try{return{data:{path:(yield et(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(se(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,s){return xe(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield et(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const l=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${l}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(se(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,s){return xe(this,void 0,void 0,function*(){try{const a=yield et(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:a.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(se(a))return{data:null,error:a};throw a}})}download(t,r){return xe(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=i?`?${i}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield ma(this.fetch,`${this.url}/${a}/${o}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(se(o))return{data:null,error:o};throw o}})}info(t){return xe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const s=yield ma(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:kl(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(se(s))return{data:null,error:s};throw s}})}exists(t){return xe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Vg(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(se(s)&&s instanceof wl){const a=s.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,r){const s=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${s}${u}`)}}}remove(t){return xe(this,void 0,void 0,function*(){try{return{data:yield Qh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}list(t,r,s){return xe(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Kg),r),{prefix:t||""});return{data:yield et(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},s),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(se(a))return{data:null,error:a};throw a}})}listV2(t,r){return xe(this,void 0,void 0,function*(){try{const s=Object.assign({},t);return{data:yield et(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(se(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Gg="2.12.1",Qg={"X-Client-Info":`storage-js/${Gg}`};var yr=function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{u(s.next(d))}catch(h){l(h)}}function c(d){try{u(s.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((s=s.apply(e,t||[])).next())})};class Yg{constructor(t,r={},s,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},Qg),r),this.fetch=Gh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return yr(this,void 0,void 0,function*(){try{return{data:yield ma(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(se(t))return{data:null,error:t};throw t}})}getBucket(t){return yr(this,void 0,void 0,function*(){try{return{data:yield ma(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return yr(this,void 0,void 0,function*(){try{return{data:yield et(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(se(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return yr(this,void 0,void 0,function*(){try{return{data:yield jl(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(se(s))return{data:null,error:s};throw s}})}emptyBucket(t){return yr(this,void 0,void 0,function*(){try{return{data:yield et(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}deleteBucket(t){return yr(this,void 0,void 0,function*(){try{return{data:yield Qh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}}class Xg extends Yg{constructor(t,r={},s,a){super(t,r,s,a)}from(t){return new Jg(this.url,this.headers,t,this.fetch)}}const Zg="2.57.4";let ys="";typeof Deno<"u"?ys="deno":typeof document<"u"?ys="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ys="react-native":ys="node";const ep={"X-Client-Info":`supabase-js-${ys}/${Zg}`},tp={headers:ep},rp={schema:"public"},sp={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},np={};var ap=function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{u(s.next(d))}catch(h){l(h)}}function c(d){try{u(s.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((s=s.apply(e,t||[])).next())})};const ip=e=>{let t;return e?t=e:typeof fetch>"u"?t=Rh:t=fetch,(...r)=>t(...r)},lp=()=>typeof Headers>"u"?Ih:Headers,op=(e,t,r)=>{const s=ip(r),a=lp();return(i,l)=>ap(void 0,void 0,void 0,function*(){var o;const c=(o=yield t())!==null&&o!==void 0?o:e;let u=new a(l==null?void 0:l.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),s(i,Object.assign(Object.assign({},l),{headers:u}))})};var cp=function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{u(s.next(d))}catch(h){l(h)}}function c(d){try{u(s.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((s=s.apply(e,t||[])).next())})};function up(e){return e.endsWith("/")?e:e+"/"}function dp(e,t){var r,s;const{db:a,auth:i,realtime:l,global:o}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),l),storage:{},global:Object.assign(Object.assign(Object.assign({},h),o),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(s=o==null?void 0:o.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>cp(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function hp(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(up(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Yh="2.71.1",jr=30*1e3,Nl=3,yi=Nl*jr,fp="http://localhost:9999",mp="supabase.auth.token",gp={"X-Client-Info":`gotrue-js/${Yh}`},_l="X-Supabase-Api-Version",Xh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},pp=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,xp=10*60*1e3;class Oo extends Error{constructor(t,r,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function $(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class yp extends Oo{constructor(t,r,s){super(t,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function vp(e){return $(e)&&e.name==="AuthApiError"}class Zh extends Oo{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Wt extends Oo{constructor(t,r,s,a){super(t,s,a),this.name=r,this.status=s}}class jt extends Wt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function bp(e){return $(e)&&e.name==="AuthSessionMissingError"}class Cn extends Wt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class En extends Wt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Pn extends Wt{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function wp(e){return $(e)&&e.name==="AuthImplicitGrantRedirectError"}class su extends Wt{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Sl extends Wt{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function vi(e){return $(e)&&e.name==="AuthRetryableFetchError"}class nu extends Wt{constructor(t,r,s){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class Cl extends Wt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ga="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),au=` 	
\r=`.split(""),kp=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<au.length;t+=1)e[au[t].charCodeAt(0)]=-2;for(let t=0;t<ga.length;t+=1)e[ga[t].charCodeAt(0)]=t;return e})();function iu(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;r(ga[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;r(ga[s]),t.queuedBits-=6}}function ef(e,t,r){const s=kp[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function lu(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},s={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=l=>{_p(l,s,r)};for(let l=0;l<e.length;l+=1)ef(e.charCodeAt(l),a,i);return t.join("")}function jp(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Np(e,t){for(let r=0;r<e.length;r+=1){let s=e.charCodeAt(r);if(s>55295&&s<=56319){const a=(s-55296)*1024&65535;s=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}jp(s,t)}}function _p(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let s=1;s<6;s+=1)if(!(e>>7-s&1)){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Sp(e){const t=[],r={queue:0,queuedBits:0},s=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)ef(e.charCodeAt(a),r,s);return new Uint8Array(t)}function Cp(e){const t=[];return Np(e,r=>t.push(r)),new Uint8Array(t)}function Ep(e){const t=[],r={queue:0,queuedBits:0},s=a=>{t.push(a)};return e.forEach(a=>iu(a,r,s)),iu(null,r,s),t.join("")}function Pp(e){return Math.round(Date.now()/1e3)+e}function Tp(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const qe=()=>typeof window<"u"&&typeof document<"u",Gt={tested:!1,writable:!1},tf=()=>{if(!qe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Gt.tested)return Gt.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Gt.tested=!0,Gt.writable=!0}catch{Gt.tested=!0,Gt.writable=!1}return Gt.writable};function Op(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((s,a)=>{t[a]=s}),t}const rf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>tn(async()=>{const{default:s}=await Promise.resolve().then(()=>rs);return{default:s}},void 0).then(({default:s})=>s(...r)):t=fetch,(...r)=>t(...r)},Ap=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Nr=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Qt=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},kt=async(e,t)=>{await e.removeItem(t)};class Ma{constructor(){this.promise=new Ma.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ma.promiseConstructor=Promise;function bi(e){const t=e.split(".");if(t.length!==3)throw new Cl("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!pp.test(t[s]))throw new Cl("JWT not in base64url format");return{header:JSON.parse(lu(t[0])),payload:JSON.parse(lu(t[1])),signature:Sp(t[2]),raw:{header:t[0],payload:t[1]}}}async function Lp(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function $p(e,t){return new Promise((s,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const l=await e(i);if(!t(i,null,l)){s(l);return}}catch(l){if(!t(i,l)){a(l);return}}})()})}function Rp(e){return("0"+e.toString(16)).substr(-2)}function Ip(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*s));return a}return crypto.getRandomValues(t),Array.from(t,Rp).join("")}async function Mp(e){const r=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(s);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function Up(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Mp(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vr(e,t,r=!1){const s=Ip();let a=s;r&&(a+="/PASSWORD_RECOVERY"),await Nr(e,`${t}-code-verifier`,a);const i=await Up(s);return[i,s===i?"plain":"s256"]}const Dp=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Fp(e){const t=e.headers.get(_l);if(!t||!t.match(Dp))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function zp(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Bp(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const qp=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function br(e){if(!qp.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function wi(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ou(e){return JSON.parse(JSON.stringify(e))}var Hp=function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r};const Zt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Wp=[502,503,504];async function cu(e){var t;if(!Ap(e))throw new Sl(Zt(e),0);if(Wp.includes(e.status))throw new Sl(Zt(e),e.status);let r;try{r=await e.json()}catch(i){throw new Zh(Zt(i),i)}let s;const a=Fp(e);if(a&&a.getTime()>=Xh["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new nu(Zt(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new jt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0))throw new nu(Zt(r),e.status,r.weak_password.reasons);throw new yp(Zt(r),e.status||500,s)}const Vp=(e,t,r,s)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),r))};async function M(e,t,r,s){var a;const i=Object.assign({},s==null?void 0:s.headers);i[_l]||(i[_l]=Xh["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const l=(a=s==null?void 0:s.query)!==null&&a!==void 0?a:{};s!=null&&s.redirectTo&&(l.redirect_to=s.redirectTo);const o=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",c=await Kp(e,t,r+o,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function Kp(e,t,r,s,a,i){const l=Vp(t,s,a,i);let o;try{o=await e(r,Object.assign({},l))}catch(c){throw console.error(c),new Sl(Zt(c),0)}if(o.ok||await cu(o),s!=null&&s.noResolveJson)return o;try{return await o.json()}catch(c){await cu(c)}}function at(e){var t;let r=null;Yp(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Pp(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:s},error:null}}function uu(e){const t=at(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Et(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Jp(e){return{data:e,error:null}}function Gp(e){const{action_link:t,email_otp:r,hashed_token:s,redirect_to:a,verification_type:i}=e,l=Hp(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:s,redirect_to:a,verification_type:i},c=Object.assign({},l);return{data:{properties:o,user:c},error:null}}function Qp(e){return e}function Yp(e){return e.access_token&&e.refresh_token&&e.expires_in}const ki=["global","local","others"];var Xp=function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r};class Zp{constructor({url:t="",headers:r={},fetch:s}){this.url=t,this.headers=r,this.fetch=rf(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=ki[0]){if(ki.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ki.join(", ")}`);try{return await M(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if($(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,r={}){try{return await M(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Et})}catch(s){if($(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:r}=t,s=Xp(t,["options"]),a=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(a.new_email=s==null?void 0:s.newEmail,delete a.newEmail),await M(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Gp,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if($(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await M(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Et})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,s,a,i,l,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await M(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Qp});if(d.error)throw d.error;const h=await d.json(),f=(l=d.headers.get("x-total-count"))!==null&&l!==void 0?l:0,p=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(m=>{const v=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(m.split(";")[1].split("=")[1]);u[`${k}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if($(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){br(t);try{return await M(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Et})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){br(t);try{return await M(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Et})}catch(s){if($(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,r=!1){br(t);try{return await M(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Et})}catch(s){if($(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){br(t.userId);try{const{data:r,error:s}=await M(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:s}}catch(r){if($(r))return{data:null,error:r};throw r}}async _deleteFactor(t){br(t.userId),br(t.id);try{return{data:await M(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}}function du(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function ex(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const wr={debug:!!(globalThis&&tf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class sf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class tx extends sf{}async function rx(e,t,r){wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),wr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async a=>{if(a){wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new tx(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(wr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}ex();const sx={url:fp,storageKey:mp,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gp,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function hu(e,t,r){return await r()}const kr={};class Js{constructor(t){var r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Js.nextInstanceID,Js.nextInstanceID+=1,this.instanceID>0&&qe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},sx),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Zp({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=rf(a.fetch),this.lock=a.lock||hu,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:qe()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=rx:this.lock=hu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:tf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=du(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=du(this.memoryStorage)),qe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=kr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){kr[this.storageKey]=Object.assign(Object.assign({},kr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=kr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){kr[this.storageKey]=Object.assign(Object.assign({},kr[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Yh}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Op(window.location.href);let s="none";if(this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce"),qe()&&this.detectSessionInUrl&&s!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),wp(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:l,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",o),await this._saveSession(l),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return $(r)?{error:r}:{error:new Zh("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,s,a;try{const i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:at}),{data:l,error:o}=i;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if($(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,s,a;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await vr(this.storage,this.storageKey)),i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:m},xform:at})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},channel:(a=f==null?void 0:f.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:at})}else throw new En("You must provide either an email or phone number and a password");const{data:l,error:o}=i;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if($(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:l,options:o}=t;r=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:uu})}else if("phone"in t){const{phone:i,password:l,options:o}=t;r=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:uu})}else throw new En("You must provide either an email or phone number and a password");const{data:s,error:a}=r;return a?{data:{user:null,session:null},error:a}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Cn}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:a})}catch(r){if($(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,s,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,s,a,i,l,o,c,u,d,h,f,p;let m,v;if("message"in t)m=t.message,v=t.signature;else{const{chain:k,wallet:g,statement:x,options:y}=t;let b;if(qe())if(typeof g=="object")b=g;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))b=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=g}const j=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const N=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),x?{statement:x}:null));let _;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")_=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)_=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)m=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),v=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${j.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(a=(s=y==null?void 0:y.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((h=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...y.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const N=await b.signMessage(new TextEncoder().encode(m),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=N}}try{const{data:k,error:g}=await M(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:Ep(v)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:at});if(g)throw g;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new Cn}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:g})}catch(k){if($(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(t){const r=await Qt(this.storage,`${this.storageKey}-code-verifier`),[s,a]=(r??"").split("/");try{const{data:i,error:l}=await M(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:at});if(await kt(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Cn}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:l})}catch(i){if($(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:s,token:a,access_token:i,nonce:l}=t,o=await M(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:a,access_token:i,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:at}),{data:c,error:u}=o;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Cn}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if($(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,s,a,i,l;try{if("email"in t){const{email:o,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await vr(this.storage,this.storageKey));const{error:h}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:o,options:c}=t,{data:u,error:d}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(l=c==null?void 0:c.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new En("You must provide either an email or phone number.")}catch(o){if($(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,s;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:l,error:o}=await M(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:at});if(o)throw o;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,u=l.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if($(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,s,a;try{let i=null,l=null;return this.flowType==="pkce"&&([i,l]=await vr(this.storage,this.storageKey)),await M(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:l}),headers:this.headers,xform:Jp})}catch(i){if($(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:s}=t;if(s)throw s;if(!r)throw new jt;const{error:a}=await M(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if($(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:s,type:a,options:i}=t,{error:l}=await M(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:s,type:a,options:i}=t,{data:l,error:o}=await M(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:o}}throw new En("You must provide either an email or phone number and a type")}catch(r){if($(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Qt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<yi:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const l=await Qt(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=wi()}if(this.storage.isServer&&t.user){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!l&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Et}):await this._useSession(async r=>{var s,a,i;const{data:l,error:o}=r;if(o)throw o;return!(!((s=l.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jt}:await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Et})})}catch(r){if($(r))return bp(r)&&(await this._removeSession(),await kt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async s=>{const{data:a,error:i}=s;if(i)throw i;if(!a.session)throw new jt;const l=a.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await vr(this.storage,this.storageKey));const{data:u,error:d}=await M(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:l.access_token,xform:Et});if(d)throw d;return l.user=u.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(s){if($(s))return{data:{user:null},error:s};throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new jt;const r=Date.now()/1e3;let s=r,a=!0,i=null;const{payload:l}=bi(t.access_token);if(l.exp&&(s=l.exp,a=s<=r),a){const{session:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if($(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var s;if(!t){const{data:l,error:o}=r;if(o)throw o;t=(s=l.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new jt;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if($(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!qe())throw new Pn("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Pn(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new su("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Pn("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new su("No code detected.");const{data:x,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:a,access_token:i,refresh_token:l,expires_in:o,expires_at:c,token_type:u}=t;if(!i||!o||!l||!u)throw new Pn("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let f=d+h;c&&(f=parseInt(c));const p=f-d;p*1e3<=jr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const m=f-h;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,d);const{data:v,error:k}=await this._getUser(i);if(k)throw k;const g={provider_token:s,provider_refresh_token:a,access_token:i,expires_in:h,expires_at:f,refresh_token:l,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(s){if($(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Qt(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:a,error:i}=r;if(i)return{error:i};const l=(s=a.session)===null||s===void 0?void 0:s.access_token;if(l){const{error:o}=await this.admin.signOut(l,t);if(o&&!(vp(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await kt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Tp(),s={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async r=>{var s,a;try{const{data:{session:i},error:l}=r;if(l)throw l;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let s=null,a=null;this.flowType==="pkce"&&([s,a]=await vr(this.storage,this.storageKey,!0));try{return await M(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if($(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:s,error:a}=await this._useSession(async i=>{var l,o,c,u,d;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await M(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return qe()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:t.provider,url:s==null?void 0:s.url},error:null}}catch(s){if($(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var s,a;const{data:i,error:l}=r;if(l)throw l;return await M(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if($(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await $p(async a=>(a>0&&await Lp(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await M(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:at})),(a,i)=>{const l=200*Math.pow(2,a);return i&&vi(i)&&Date.now()+l-s<jr})}catch(s){if(this._debug(r,"error",s),$(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",s),qe()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const a=await Qt(this.storage,this.storageKey);if(a&&this.userStorage){let l=await Qt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:a.user},await Nr(this.userStorage,this.storageKey+"-user",l)),a.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:wi()}else if(a&&!a.user&&!a.user){const l=await Qt(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(a.user=l.user,await kt(this.storage,this.storageKey+"-user"),await Nr(this.storage,this.storageKey,a)):a.user=wi()}if(this._debug(s,"session from storage",a),!this._isValidSession(a)){this._debug(s,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<yi;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${yi}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:l}=await this._callRefreshToken(a.refresh_token);l&&(console.error(l),vi(l)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:o}=await this._getUser(a.access_token);!o&&(l!=null&&l.user)?(a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(s,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(s,"error",a),console.error(a);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var r,s;if(!t)throw new jt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Ma;const{data:i,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!i.session)throw new jt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(a,"error",i),$(i)){const l={session:null,error:i};return vi(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,s=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],l=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(l),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await Nr(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=ou(a);await Nr(this.storage,this.storageKey,i)}else{const a=ou(r);await Nr(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await kt(this.storage,this.storageKey),await kt(this.storage,this.storageKey+"-code-verifier"),await kt(this.storage,this.storageKey+"-user"),this.userStorage&&await kt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&qe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),jr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((s.expires_at*1e3-t)/jr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${jr}ms, refresh threshold is ${Nl} ticks`),a<=Nl&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof sf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,s){const a=[`provider=${encodeURIComponent(r)}`];if(s!=null&&s.redirectTo&&a.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&a.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,l]=await vr(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(o.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);a.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&a.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var s;const{data:a,error:i}=r;return i?{data:null,error:i}:await M(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if($(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var s,a;const{data:i,error:l}=r;if(l)return{data:null,error:l};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await M(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if($(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:l,error:o}=await M(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:o})})}catch(r){if($(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:a,error:i}=r;return i?{data:null,error:i}:await M(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if($(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const s=(t==null?void 0:t.factors)||[],a=s.filter(l=>l.factor_type==="totp"&&l.status==="verified"),i=s.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:s,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,s;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=bi(a.access_token);let o=null;l.aal&&(o=l.aal);let c=o;((s=(r=a.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const d=l.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let s=r.keys.find(o=>o.kid===t);if(s)return s;const a=Date.now();if(s=this.jwks.keys.find(o=>o.kid===t),s&&this.jwks_cached_at+xp>a)return s;const{data:i,error:l}=await M(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,s=i.keys.find(o=>o.kid===t),!s)?null:s}async getClaims(t,r={}){try{let s=t;if(!s){const{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};s=p.session.access_token}const{header:a,payload:i,signature:l,raw:{header:o,payload:c}}=bi(s);r!=null&&r.allowExpired||zp(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(s);if(p)throw p;return{data:{claims:i,header:a,signature:l},error:null}}const d=Bp(a.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,l,Cp(`${o}.${c}`)))throw new Cl("Invalid JWT signature");return{data:{claims:i,header:a,signature:l},error:null}}catch(s){if($(s))return{data:null,error:s};throw s}}}Js.nextInstanceID=0;const nx=Js;class ax extends nx{constructor(t){super(t)}}var ix=function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{u(s.next(d))}catch(h){l(h)}}function c(d){try{u(s.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((s=s.apply(e,t||[])).next())})};class lx{constructor(t,r,s){var a,i,l;this.supabaseUrl=t,this.supabaseKey=r;const o=hp(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const c=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:rp,realtime:np,auth:Object.assign(Object.assign({},sp),{storageKey:c}),global:tp},d=dp(s??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=d.auth)!==null&&l!==void 0?l:{},this.headers,d.global.fetch),this.fetch=op(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new kg(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Xg(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new eg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},s={}){return this.rest.rpc(t,r,s)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return ix(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(r=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:s,storage:a,userStorage:i,storageKey:l,flowType:o,lock:c,debug:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ax({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:l,autoRefreshToken:t,persistSession:r,detectSessionInUrl:s,storage:a,userStorage:i,flowType:o,lock:c,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Dg(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,s)=>{this._handleTokenChanged(r,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(t,r,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ox=(e,t,r)=>new lx(e,t,r);function cx(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}cx()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ux=void 0,dx=void 0;throw new Error("Missing Supabase environment variables");const O=ox(ux,dx),nf=w.createContext(void 0),W=()=>{const e=w.useContext(nf);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},hx=({children:e})=>{const[t,r]=w.useState(null),[s,a]=w.useState(null),[i,l]=w.useState(null),[o,c]=w.useState(!0);w.useEffect(()=>{O.auth.getSession().then(({data:{session:k}})=>{l(k),r((k==null?void 0:k.user)??null),k!=null&&k.user?u(k.user.id):c(!1)});const{data:{subscription:v}}=O.auth.onAuthStateChange((k,g)=>{(async()=>(l(g),r((g==null?void 0:g.user)??null),g!=null&&g.user?await u(g.user.id):(a(null),c(!1))))()});return()=>v.unsubscribe()},[]);const u=async v=>{try{const{data:k,error:g}=await O.from("profiles").select("*").eq("id",v).maybeSingle();if(g)throw g;a(k)}catch(k){console.error("Error loading profile:",k)}finally{c(!1)}},m={user:t,profile:s,session:i,loading:o,signIn:async(v,k)=>{try{const{error:g}=await O.auth.signInWithPassword({email:v,password:k});return{error:g}}catch(g){return{error:g}}},signUp:async(v,k,g,x)=>{try{const{data:y,error:b}=await O.auth.signUp({email:v,password:k});if(b)return{error:b};if(y.user){const{error:j}=await O.from("profiles").insert({id:y.user.id,email:v,full_name:g,roles:x});if(j)return{error:j}}return{error:null}}catch(y){return{error:y}}},signOut:async()=>{await O.auth.signOut(),a(null)},updateProfile:async v=>{if(!t)return{error:new Error("No user logged in")};try{const{error:k}=await O.from("profiles").update(v).eq("id",t.id);if(k)throw k;return await u(t.id),{error:null}}catch(k){return{error:k}}}};return n.jsx(nf.Provider,{value:m,children:e})},af=w.createContext(void 0),pr=()=>{const e=w.useContext(af);if(!e)throw new Error("useCart must be used within CartProvider");return e},fx=({children:e})=>{const[t,r]=w.useState([]);w.useEffect(()=>{const d=localStorage.getItem("cart");if(d)try{r(JSON.parse(d))}catch(h){console.error("Error loading cart:",h)}},[]),w.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(t))},[t]);const s=(d,h=1)=>{r(f=>f.find(m=>m.product.id===d.id)?f.map(m=>m.product.id===d.id?{...m,quantity:Math.min(m.quantity+h,d.stock)}:m):[...f,{product:d,quantity:Math.min(h,d.stock)}])},a=d=>{r(h=>h.filter(f=>f.product.id!==d))},i=(d,h)=>{if(h<=0){a(d);return}r(f=>f.map(p=>p.product.id===d?{...p,quantity:Math.min(h,p.product.stock)}:p))},l=()=>{r([])},o=t.reduce((d,h)=>d+h.quantity,0),c=t.reduce((d,h)=>d+h.product.price*h.quantity,0),u={items:t,addItem:s,removeItem:a,updateQuantity:i,clearCart:l,totalItems:o,totalPrice:c};return n.jsx(af.Provider,{value:u,children:e})},lf=w.createContext(void 0),of=()=>{const e=w.useContext(lf);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e},mx=({children:e})=>{const{user:t}=W(),[r,s]=w.useState("system"),[a,i]=w.useState("blue"),[l,o]=w.useState("light"),[c,u]=w.useState(!0),d=()=>typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",h=m=>m==="system"?d():m;w.useEffect(()=>{(async()=>{const v=localStorage.getItem("themeMode"),k=localStorage.getItem("colorScheme");if(v?(s(v),o(h(v))):o(d()),k&&i(k),t)try{const{data:g,error:x}=await O.from("user_preferences").select("theme_mode, color_scheme").eq("user_id",t.id).maybeSingle();g&&!x&&(s(g.theme_mode),i(g.color_scheme),o(h(g.theme_mode)),localStorage.setItem("themeMode",g.theme_mode),localStorage.setItem("colorScheme",g.color_scheme))}catch(g){console.error("Error loading theme preferences:",g)}u(!1)})()},[t]),w.useEffect(()=>{const m=window.matchMedia("(prefers-color-scheme: dark)"),v=()=>{r==="system"&&o(d())};return m.addEventListener("change",v),()=>m.removeEventListener("change",v)},[r]),w.useEffect(()=>{const m=window.document.documentElement;l==="dark"?m.classList.add("dark"):m.classList.remove("dark")},[l]);const f=async m=>{if(s(m),o(h(m)),localStorage.setItem("themeMode",m),t)try{const{error:v}=await O.from("user_preferences").upsert({user_id:t.id,theme_mode:m,updated_at:new Date().toISOString()});if(v)throw v}catch(v){console.error("Error saving theme mode:",v)}},p=async m=>{if(i(m),localStorage.setItem("colorScheme",m),t)try{const{error:v}=await O.from("user_preferences").upsert({user_id:t.id,color_scheme:m,updated_at:new Date().toISOString()});if(v)throw v}catch(v){console.error("Error saving color scheme:",v)}};return n.jsx(lf.Provider,{value:{themeMode:r,effectiveTheme:l,colorScheme:a,setThemeMode:f,setColorScheme:p,loading:c},children:e})},cf=w.createContext(void 0),Ao=()=>{const e=w.useContext(cf);if(!e)throw new Error("useFavorites must be used within FavoritesProvider");return e},gx=({children:e})=>{const{user:t}=W(),[r,s]=w.useState([]),[a,i]=w.useState([]),[l,o]=w.useState(!0);w.useEffect(()=>{t?c():(s([]),i([]),o(!1))},[t]);const c=async()=>{if(t)try{const{data:p,error:m}=await O.from("favorites").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(m)throw m;if(s(p||[]),p&&p.length>0){const v=p.map(x=>x.product_id),{data:k,error:g}=await O.from("products").select("*").in("id",v);if(g)throw g;i(k||[])}else i([])}catch(p){console.error("Error loading favorites:",p)}finally{o(!1)}},u=p=>r.some(m=>m.product_id===p),d=async p=>{if(t)try{const{data:m,error:v}=await O.from("favorites").insert({user_id:t.id,product_id:p}).select().single();if(v)throw v;s(g=>[m,...g]);const{data:k}=await O.from("products").select("*").eq("id",p).single();k&&i(g=>[k,...g])}catch(m){throw console.error("Error adding favorite:",m),m}},h=async p=>{if(t)try{const{error:m}=await O.from("favorites").delete().eq("user_id",t.id).eq("product_id",p);if(m)throw m;s(v=>v.filter(k=>k.product_id!==p)),i(v=>v.filter(k=>k.id!==p))}catch(m){throw console.error("Error removing favorite:",m),m}},f=async()=>{if(t)try{const{error:p}=await O.from("favorites").delete().eq("user_id",t.id);if(p)throw p;s([]),i([])}catch(p){throw console.error("Error clearing favorites:",p),p}};return n.jsx(cf.Provider,{value:{favorites:r,favoriteProducts:a,isFavorite:u,addFavorite:d,removeFavorite:h,clearFavorites:f,loading:l},children:e})},uf=w.createContext(void 0),df=()=>{const e=w.useContext(uf);if(!e)throw new Error("useNotifications must be used within NotificationsProvider");return e},px=({children:e})=>{const{user:t}=W(),[r,s]=w.useState([]),[a,i]=w.useState(!0);w.useEffect(()=>{if(t){l();const h=O.channel("notifications").on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`user_id=eq.${t.id}`},()=>{l()}).subscribe();return()=>{O.removeChannel(h)}}else s([]),i(!1)},[t]);const l=async()=>{if(t)try{const{data:h,error:f}=await O.from("notifications").select("*").eq("user_id",t.id).order("created_at",{ascending:!1}).limit(50);if(f)throw f;s(h||[])}catch(h){console.error("Error loading notifications:",h)}finally{i(!1)}},o=r.filter(h=>!h.read).length,c=async h=>{try{const{error:f}=await O.from("notifications").update({read:!0}).eq("id",h);if(f)throw f;s(p=>p.map(m=>m.id===h?{...m,read:!0}:m))}catch(f){console.error("Error marking notification as read:",f)}},u=async()=>{if(t)try{const{error:h}=await O.from("notifications").update({read:!0}).eq("user_id",t.id).eq("read",!1);if(h)throw h;s(f=>f.map(p=>({...p,read:!0})))}catch(h){console.error("Error marking all as read:",h)}},d=async h=>{try{const{error:f}=await O.from("notifications").delete().eq("id",h);if(f)throw f;s(p=>p.filter(m=>m.id!==h))}catch(f){console.error("Error deleting notification:",f)}};return n.jsx(uf.Provider,{value:{notifications:r,unreadCount:o,markAsRead:c,markAllAsRead:u,deleteNotification:d,loading:a},children:e})},ji=new Map,fu=async e=>{if(ji.has(e))return ji.get(e);try{const{data:t,error:r}=await O.from("translations").select(`
        value,
        translation_keys!inner(key)
      `).eq("language_code",e);if(r)throw r;const s={};return t==null||t.forEach(a=>{s[a.translation_keys.key]=a.value}),ji.set(e,s),s}catch(t){return console.error("Error loading translations:",t),{}}},xx=(e,t,r,s)=>{let a=t[e]||r[e]||e;return s&&Object.keys(s).forEach(i=>{const l=new RegExp(`{{${i}}}`,"g");a=a.replace(l,String(s[i]))}),a},yx=()=>localStorage.getItem("preferred_language"),mu=e=>{localStorage.setItem("preferred_language",e)},vx=["ar","he","fa","ur"],gu=e=>vx.includes(e),pu=["en","es","fr","de","pt","ru","zh-CN","ja","ko","ar","hi","it"],xu="en",Ni="en",hf=w.createContext(void 0),bx=()=>{const e=w.useContext(hf);if(!e)throw new Error("useLanguage must be used within LanguageProvider");return e},wx=({children:e})=>{const{user:t}=W(),[r,s]=w.useState(xu),[a,i]=w.useState([]),[l,o]=w.useState({}),[c,u]=w.useState({}),[d,h]=w.useState(!0);w.useEffect(()=>{f(),p()},[]),w.useEffect(()=>{t&&m()},[t]),w.useEffect(()=>{v(r),k(r)},[r]);const f=async()=>{const b=yx(),j=navigator.language.split("-")[0];s(b||j||xu),await v(Ni),h(!1)},p=async()=>{try{const{data:b,error:j}=await O.from("languages").select("*").eq("is_active",!0).order("sort_order");if(j)throw j;b&&i(b)}catch(b){console.error("Error loading languages:",b)}},m=async()=>{if(t)try{const{data:b,error:j}=await O.from("user_language_preferences").select("language_code").eq("user_id",t.id).maybeSingle();if(j)throw j;b!=null&&b.language_code&&(s(b.language_code),mu(b.language_code))}catch(b){console.error("Error loading user language preference:",b)}},v=async b=>{const j=await fu(b);if(b===Ni)u(j);else if(o(j),Object.keys(c).length===0){const N=await fu(Ni);u(N)}},k=b=>{const j=gu(b)?"rtl":"ltr";document.documentElement.lang=b,document.documentElement.dir=j},g=async b=>{if(s(b),mu(b),t)try{await O.from("user_language_preferences").upsert({user_id:t.id,language_code:b,updated_at:new Date().toISOString()})}catch(j){console.error("Error saving language preference:",j)}},x=(b,j)=>xx(b,l,c,j),y={language:r,languages:a,isRTL:gu(r),loading:d,changeLanguage:g,t:x};return n.jsx(hf.Provider,{value:y,children:e})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),P=(e,t)=>{const r=w.forwardRef(({color:s="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:o="",children:c,...u},d)=>w.createElement("svg",{ref:d,...kx,width:a,height:a,stroke:s,strokeWidth:l?Number(i)*24/Number(a):i,className:["lucide",`lucide-${jx(e)}`,o].join(" "),...u},[...t.map(([h,f])=>w.createElement(h,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=P("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=P("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=P("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=P("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=P("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=P("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=P("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=P("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=P("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=P("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=P("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=P("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=P("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=P("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=P("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=P("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=P("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=P("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=P("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=P("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=P("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=P("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=P("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=P("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=P("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=P("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=P("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=P("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=P("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=P("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=P("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=P("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=P("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=P("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=P("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=P("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=P("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=P("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=P("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=P("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=P("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=P("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=P("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=P("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=P("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=P("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=P("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=P("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=P("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=P("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=P("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=P("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=P("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=P("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=P("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=P("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=P("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=P("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=P("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=P("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=P("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=P("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=P("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=P("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=P("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=P("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=P("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Yx=({onToggleForm:e})=>{const{signIn:t}=W(),[r,s]=w.useState(""),[a,i]=w.useState(""),[l,o]=w.useState(!1),[c,u]=w.useState(""),[d,h]=w.useState(""),[f,p]=w.useState(!1),m=k=>{const g=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return k?g.test(k)?(h(""),!0):(h("Please enter a valid email address"),!1):(h("Email is required"),!1)},v=async k=>{if(k.preventDefault(),u(""),!m(r))return;if(a.length<6){u("Password must be at least 6 characters");return}p(!0);const{error:g}=await t(r,a);g&&u(g.message||"Failed to sign in"),p(!1)};return n.jsxs("div",{className:"w-full max-w-md mx-auto bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8",children:[n.jsxs("div",{className:"flex items-center justify-center mb-6",children:[n.jsx(zx,{className:"w-8 h-8 text-blue-600 mr-2"}),n.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Sign In"})]}),c&&n.jsx("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/20 border border-red-400 dark:border-red-800 text-red-700 dark:text-red-200 rounded",children:c}),n.jsxs("form",{onSubmit:v,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email *"}),n.jsx("input",{id:"email",type:"email",value:r,onChange:k=>{s(k.target.value),d&&m(k.target.value)},onBlur:()=>m(r),required:!0,className:`w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${d?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"you@example.com"}),d&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:d})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password *"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{id:"password",type:l?"text":"password",value:a,onChange:k=>i(k.target.value),required:!0,minLength:6,className:"w-full px-4 py-2 pr-12 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:""}),n.jsx("button",{type:"button",onClick:()=>o(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 focus:outline-none",children:l?n.jsx(gf,{className:"w-5 h-5"}):n.jsx(nn,{className:"w-5 h-5"})})]}),n.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Minimum 6 characters required"})]}),n.jsx("button",{type:"submit",disabled:f,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:f?"Signing in...":"Sign In"})]}),n.jsx("div",{className:"mt-6 text-center",children:n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Don't have an account?"," ",n.jsx("button",{onClick:e,className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium",children:"Sign Up"})]})})]})},Xx=({onToggleForm:e})=>{const{signUp:t}=W(),[r,s]=w.useState(""),[a,i]=w.useState(""),[l,o]=w.useState(""),[c,u]=w.useState(!1),[d,h]=w.useState(["buyer"]),[f,p]=w.useState(""),[m,v]=w.useState(""),[k,g]=w.useState(!1),[x,y]=w.useState(!1),b=C=>{const L=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return C?L.test(C)?(v(""),!0):(v("Please enter a valid email address"),!1):(v("Email is required"),!1)},j=[{label:"At least 8 characters",met:a.length>=8},{label:"Contains uppercase letter",met:/[A-Z]/.test(a)},{label:"Contains lowercase letter",met:/[a-z]/.test(a)},{label:"Contains number",met:/[0-9]/.test(a)}],N=j.every(C=>C.met),_=[{value:"buyer",label:"Buyer"},{value:"seller",label:"Seller"},{value:"job_seeker",label:"Job Seeker"},{value:"employer",label:"Employer"}],E=C=>{h(L=>L.includes(C)?L.filter(z=>z!==C):[...L,C])},D=async C=>{if(C.preventDefault(),p(""),!b(r))return;if(!N){p("Please meet all password requirements");return}if(d.length===0){p("Please select at least one role");return}g(!0);const{error:L}=await t(r,a,l,d);L?p(L.message||"Failed to sign up"):y(!0),g(!1)};return x?n.jsx("div",{className:"w-full max-w-md mx-auto bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 dark:bg-green-900/30 mb-4",children:n.jsx(vu,{className:"h-6 w-6 text-green-600"})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Account Created!"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:"Your account has been created successfully. You can now sign in."}),n.jsx("button",{onClick:e,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Go to Sign In"})]})}):n.jsxs("div",{className:"w-full max-w-md mx-auto bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8",children:[n.jsxs("div",{className:"flex items-center justify-center mb-6",children:[n.jsx(vu,{className:"w-8 h-8 text-blue-600 mr-2"}),n.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Sign Up"})]}),f&&n.jsx("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/20 border border-red-400 dark:border-red-800 text-red-700 dark:text-red-200 rounded",children:f}),n.jsxs("form",{onSubmit:D,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Full Name *"}),n.jsx("input",{id:"fullName",type:"text",value:l,onChange:C=>o(C.target.value),required:!0,minLength:2,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"John Doe"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),n.jsx("input",{id:"email",type:"email",value:r,onChange:C=>{s(C.target.value),m&&b(C.target.value)},onBlur:()=>b(r),required:!0,className:`w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${m?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"you@example.com"}),m&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:m})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password *"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{id:"password",type:c?"text":"password",value:a,onChange:C=>i(C.target.value),required:!0,className:"w-full px-4 py-2 pr-12 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:""}),n.jsx("button",{type:"button",onClick:()=>u(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 focus:outline-none",children:c?n.jsx(gf,{className:"w-5 h-5"}):n.jsx(nn,{className:"w-5 h-5"})})]}),n.jsx("div",{className:"mt-2 space-y-1",children:j.map((C,L)=>n.jsxs("div",{className:"flex items-center text-sm",children:[C.met?n.jsx(yt,{className:"w-4 h-4 text-green-600 mr-2"}):n.jsx(ft,{className:"w-4 h-4 text-gray-400 mr-2"}),n.jsx("span",{className:C.met?"text-green-600 dark:text-green-400":"text-gray-600 dark:text-gray-400",children:C.label})]},L))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"I want to be a (select all that apply):"}),n.jsx("div",{className:"space-y-2",children:_.map(C=>n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",checked:d.includes(C.value),onChange:()=>E(C.value),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:C.label})]},C.value))})]}),n.jsx("button",{type:"submit",disabled:k,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:k?"Creating account...":"Sign Up"})]}),n.jsx("div",{className:"mt-6 text-center",children:n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Already have an account?"," ",n.jsx("button",{onClick:e,className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium",children:"Sign In"})]})})]})},bf=({variant:e="header"})=>{const{language:t,languages:r,changeLanguage:s}=bx(),[a,i]=w.useState(!1),[l,o]=w.useState(""),c=w.useRef(null),u=r.find(m=>m.code===t);w.useEffect(()=>{const m=v=>{c.current&&!c.current.contains(v.target)&&i(!1)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);const d=r.filter(m=>m.name.toLowerCase().includes(l.toLowerCase())||m.native_name.toLowerCase().includes(l.toLowerCase())||m.code.toLowerCase().includes(l.toLowerCase())),h=d.filter(m=>pu.includes(m.code)),f=d.filter(m=>!pu.includes(m.code)),p=async m=>{await s(m),i(!1),o("")};return e==="settings"?n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Language"}),n.jsx("select",{value:t,onChange:m=>s(m.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:r.map(m=>n.jsxs("option",{value:m.code,children:[m.flag_emoji," ",m.native_name," (",m.name,")"]},m.code))})]}):n.jsxs("div",{className:"relative",ref:c,children:[n.jsxs("button",{onClick:()=>i(!a),className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-colors ${e==="header"?"hover:bg-gray-100 dark:hover:bg-gray-800":"w-full hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:[n.jsx(Mx,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),e==="header"&&u&&n.jsxs("span",{className:"hidden md:inline text-sm font-medium text-gray-700 dark:text-gray-300",children:[u.flag_emoji," ",u.code.toUpperCase()]}),e==="sidebar"&&u&&n.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[u.flag_emoji," ",u.native_name]})]}),a&&n.jsxs("div",{className:`absolute ${e==="header"?"right-0":"left-0"} mt-2 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50 max-h-96 overflow-hidden flex flex-col`,children:[n.jsx("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700",children:n.jsxs("div",{className:"relative",children:[n.jsx(Gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"text",value:l,onChange:m=>o(m.target.value),placeholder:"Search languages...",className:"w-full pl-9 pr-9 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoFocus:!0}),l&&n.jsx("button",{onClick:()=>o(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:n.jsx(ft,{className:"w-4 h-4"})})]})}),n.jsxs("div",{className:"overflow-y-auto",children:[h.length>0&&!l&&n.jsxs("div",{children:[n.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider bg-gray-50 dark:bg-gray-900",children:"Popular"}),h.map(m=>n.jsxs("button",{onClick:()=>p(m.code),className:"w-full px-3 py-2 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsxs("span",{className:"flex items-center gap-3 text-sm",children:[n.jsx("span",{className:"text-2xl",children:m.flag_emoji}),n.jsxs("span",{children:[n.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:m.native_name}),n.jsx("span",{className:"text-gray-500 dark:text-gray-400 ml-2",children:m.name})]})]}),t===m.code&&n.jsx(yt,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})]},m.code))]}),f.length>0&&n.jsxs("div",{children:[!l&&n.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider bg-gray-50 dark:bg-gray-900",children:"All Languages"}),f.map(m=>n.jsxs("button",{onClick:()=>p(m.code),className:"w-full px-3 py-2 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsxs("span",{className:"flex items-center gap-3 text-sm",children:[n.jsx("span",{className:"text-2xl",children:m.flag_emoji}),n.jsxs("span",{children:[n.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:m.native_name}),n.jsx("span",{className:"text-gray-500 dark:text-gray-400 ml-2",children:m.name}),m.is_rtl&&n.jsx("span",{className:"ml-2 text-xs bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 px-2 py-0.5 rounded",children:"RTL"})]})]}),t===m.code&&n.jsx(yt,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})]},m.code))]}),d.length===0&&n.jsx("div",{className:"px-3 py-8 text-center text-gray-500 dark:text-gray-400",children:"No languages found"})]}),n.jsx("div",{className:"p-3 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:[r.length," languages available"]})})]})]})},Zx=({currentView:e,onViewChange:t,isOpen:r,onClose:s})=>{const{profile:a}=W(),{totalItems:i}=pr(),{favoriteProducts:l}=Ao(),{unreadCount:o}=df(),[c,u]=w.useState(new Set),d=a==null?void 0:a.roles.includes("seller"),h=a==null?void 0:a.roles.includes("employer"),f=[{id:"home",label:"Home",icon:El,view:"home",color:"bg-blue-500"},{id:"marketplace",label:"Marketplace",icon:Je,view:"marketplace",color:"bg-green-500",children:[{id:"all-products",label:"All Products",icon:Je,view:"marketplace",color:"bg-green-500"},{id:"categories",label:"Categories",icon:Je,view:"categories",color:"bg-green-500"},{id:"deals",label:"Deals & Discounts",icon:ir,view:"deals",color:"bg-green-500"}]},{id:"jobs",label:"Jobs",icon:rt,view:"jobs",color:"bg-purple-500",children:[{id:"browse-jobs",label:"Browse Jobs",icon:rt,view:"jobs",color:"bg-purple-500"},{id:"my-applications",label:"My Applications",icon:rt,view:"my-applications",color:"bg-purple-500",requiresAuth:!0},{id:"saved-jobs",label:"Saved Jobs",icon:Xr,view:"saved-jobs",color:"bg-purple-500",requiresAuth:!0},{id:"post-job",label:"Post a Job",icon:rt,view:"post-job",color:"bg-purple-500",requiresAuth:!0}]},{id:"wishlist",label:"Wishlist",icon:Xr,view:"wishlist",color:"bg-red-500",badge:l.length,requiresAuth:!0},{id:"cart",label:"Cart",icon:vt,view:"cart",color:"bg-orange-500",badge:i},{id:"orders",label:"Orders",icon:ht,view:"my-orders",color:"bg-indigo-500",requiresAuth:!0,children:[{id:"active-orders",label:"Active Orders",icon:ht,view:"my-orders",color:"bg-indigo-500"},{id:"order-history",label:"Order History",icon:ht,view:"order-history",color:"bg-indigo-500"}]},{id:"selling",label:"Selling",icon:ir,view:"seller-dashboard",color:"bg-teal-500",requiresAuth:!0,requiresRole:"seller",children:[{id:"seller-dashboard",label:"Dashboard",icon:ir,view:"seller-dashboard",color:"bg-teal-500"},{id:"my-products",label:"My Products",icon:Je,view:"my-products",color:"bg-teal-500"},{id:"add-product",label:"Add Product",icon:Je,view:"add-product",color:"bg-teal-500"}]},{id:"messages",label:"Messages",icon:Mo,view:"messages",color:"bg-pink-500",badge:o,requiresAuth:!0},{id:"profile",label:"Profile",icon:hr,view:"profile",color:"bg-gray-500",requiresAuth:!0,children:[{id:"my-profile",label:"My Profile",icon:hr,view:"profile",color:"bg-gray-500"},{id:"browsing-history",label:"Browsing History",icon:El,view:"browsing-history",color:"bg-gray-500"}]},{id:"settings",label:"Settings",icon:Uo,view:"settings",color:"bg-gray-600",requiresAuth:!0}],p=g=>{const x=new Set(c);x.has(g)?x.delete(g):x.add(g),u(x)},m=g=>{g.children&&g.children.length>0?p(g.id):(t(g.view),window.innerWidth<1024&&s())},v=f.filter(g=>!(g.requiresAuth&&!a||g.requiresRole==="seller"&&!d||g.requiresRole==="employer"&&!h)),k=(g,x=!1)=>{var E;const y=e===g.view,b=c.has(g.id),j=g.children&&g.children.length>0,N=g.icon,_=(E=g.children)==null?void 0:E.filter(D=>!(D.requiresAuth&&!a));return n.jsxs("div",{children:[n.jsxs("button",{onClick:()=>m(g),className:`w-full flex items-center justify-between px-4 py-3 transition-all ${x?"pl-12":""} ${y?`${g.color} text-white`:"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[!x&&n.jsx(N,{className:"w-5 h-5"}),n.jsx("span",{className:"font-medium",children:g.label})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[g.badge!==void 0&&g.badge>0&&n.jsx("span",{className:`px-2 py-0.5 text-xs font-bold rounded-full ${y?"bg-white text-gray-900":"bg-red-500 text-white"}`,children:g.badge>99?"99+":g.badge}),j&&(b?n.jsx(Ua,{className:"w-4 h-4"}):n.jsx(Ox,{className:"w-4 h-4"}))]})]}),j&&b&&_&&n.jsx("div",{className:"bg-gray-50 dark:bg-gray-900",children:_.map(D=>k(D,!0))})]},g.id)};return n.jsxs(n.Fragment,{children:[r&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:s}),n.jsxs("aside",{className:`fixed top-0 left-0 h-full w-64 bg-white dark:bg-gray-800 shadow-lg z-50 transform transition-transform duration-300 ease-in-out overflow-y-auto ${r?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[n.jsx("h1",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:"MarketHub"}),n.jsx("button",{onClick:s,className:"lg:hidden p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:n.jsx(ft,{className:"w-5 h-5"})})]}),n.jsx("nav",{className:"py-2",children:v.map(g=>k(g))}),n.jsx("div",{className:"px-4 py-3 border-t border-gray-200 dark:border-gray-700",children:n.jsx(bf,{variant:"sidebar"})}),!a&&n.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:n.jsx("button",{onClick:()=>{t("home"),s()},className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Sign In"})})]})]})},ey=()=>{const{themeMode:e,setThemeMode:t}=of(),[r,s]=w.useState(!1),a=[{value:"light",label:"Light",icon:Tl},{value:"dark",label:"Dark",icon:yf},{value:"system",label:"System",icon:xf}],l=(a.find(o=>o.value===e)||a[2]).icon;return n.jsxs("div",{className:"relative",children:[n.jsx("button",{onClick:()=>s(!r),className:"p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors","aria-label":"Toggle theme",children:n.jsx(l,{className:"w-5 h-5"})}),r&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>s(!1)}),n.jsx("div",{className:"absolute right-0 mt-2 w-40 bg-white dark:bg-gray-800 rounded-lg shadow-lg py-2 border border-gray-200 dark:border-gray-700 z-20",children:a.map(o=>{const c=o.icon;return n.jsxs("button",{onClick:()=>{t(o.value),s(!1)},className:`w-full text-left px-4 py-2 text-sm flex items-center transition-colors ${e===o.value?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[n.jsx(c,{className:"w-4 h-4 mr-3"}),o.label]},o.value)})})]})]})},ty=({onViewAll:e})=>{const{notifications:t,unreadCount:r,markAsRead:s,markAllAsRead:a}=df(),[i,l]=w.useState(!1),o=w.useRef(null),c=t.slice(0,10);w.useEffect(()=>{const h=f=>{o.current&&!o.current.contains(f.target)&&l(!1)};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]);const u=h=>{switch(h){case"order":return n.jsx(ht,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"});case"message":return n.jsx(qx,{className:"w-5 h-5 text-green-600 dark:text-green-400"});case"application":return n.jsx(rt,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"});case"price_drop":return n.jsx(Ol,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"});case"review":return n.jsx(pa,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"});default:return n.jsx(qn,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}},d=h=>{const f=new Date(h),m=Math.floor((new Date().getTime()-f.getTime())/1e3);return m<60?"Just now":m<3600?`${Math.floor(m/60)}m ago`:m<86400?`${Math.floor(m/3600)}h ago`:m<604800?`${Math.floor(m/86400)}d ago`:f.toLocaleDateString()};return n.jsxs("div",{ref:o,className:"relative",children:[n.jsxs("button",{onClick:()=>l(!i),className:"relative p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors",children:[n.jsx(qn,{className:"w-6 h-6"}),r>0&&n.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:r>9?"9+":r})]}),i&&n.jsxs("div",{className:"absolute right-0 mt-2 w-96 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-50 overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:[n.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white",children:["Notifications ",r>0&&`(${r})`]}),r>0&&n.jsxs("button",{onClick:a,className:"text-xs text-blue-600 dark:text-blue-400 hover:underline flex items-center gap-1",children:[n.jsx(yt,{className:"w-3 h-3"}),"Mark all read"]})]}),n.jsx("div",{className:"max-h-96 overflow-y-auto",children:c.length===0?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx(qn,{className:"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No notifications yet"})]}):c.map(h=>n.jsx("div",{className:`px-4 py-3 border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors cursor-pointer ${h.read?"":"bg-blue-50 dark:bg-blue-900/10"}`,onClick:()=>{h.read||s(h.id)},children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex-shrink-0 mt-1",children:u(h.type)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white mb-1",children:h.title}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:h.message}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:d(h.created_at)})]}),!h.read&&n.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full flex-shrink-0 mt-2"})]})},h.id))}),t.length>0&&n.jsx("div",{className:"px-4 py-3 bg-gray-50 dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700",children:n.jsx("button",{onClick:()=>{l(!1),e()},className:"w-full text-center text-sm font-medium text-blue-600 dark:text-blue-400 hover:underline",children:"View all notifications"})})]})]})},ry=({onViewChange:e,onMenuToggle:t})=>{const{profile:r,signOut:s}=W(),{totalItems:a}=pr(),[i,l]=w.useState(!1),[o,c]=w.useState(""),u=d=>{d.preventDefault(),o.trim()&&e("marketplace")};return n.jsx("header",{className:"bg-white dark:bg-gray-900 shadow-sm sticky top-0 z-30 transition-colors border-b border-gray-200 dark:border-gray-800",children:n.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"flex justify-between items-center h-16",children:[n.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[n.jsx("button",{onClick:t,className:"lg:hidden p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:n.jsx(pf,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})}),n.jsx("form",{onSubmit:u,className:"hidden md:flex flex-1 max-w-2xl",children:n.jsxs("div",{className:"relative w-full",children:[n.jsx(Gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"text",value:o,onChange:d=>c(d.target.value),placeholder:"Search products, jobs, and more...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(bf,{variant:"header"}),n.jsx(ey,{}),n.jsx(ty,{onViewAll:()=>e("notifications")}),n.jsxs("button",{onClick:()=>e("cart"),className:"relative p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors",children:[n.jsx(vt,{className:"w-6 h-6"}),a>0&&n.jsx("span",{className:"absolute top-0 right-0 bg-orange-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:a>9?"9+":a})]}),r&&n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>l(!i),className:"flex items-center gap-2 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[n.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:n.jsx(hr,{className:"w-5 h-5 text-white"})}),n.jsx("span",{className:"hidden sm:block text-sm font-medium text-gray-700 dark:text-gray-300",children:r.full_name||"User"})]}),i&&n.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 py-2 z-50",children:[n.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:r.full_name}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:r.email})]}),n.jsxs("button",{onClick:()=>{e("profile"),l(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center",children:[n.jsx(hr,{className:"w-4 h-4 mr-2"}),"My Profile"]}),n.jsxs("button",{onClick:()=>{e("wishlist"),l(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center",children:[n.jsx(Xr,{className:"w-4 h-4 mr-2"}),"Wishlist"]}),n.jsxs("button",{onClick:()=>{e("settings"),l(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center",children:[n.jsx(Uo,{className:"w-4 h-4 mr-2"}),"Settings"]}),n.jsx("hr",{className:"my-2 border-gray-200 dark:border-gray-700"}),n.jsxs("button",{onClick:()=>{s(),l(!1)},className:"w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center",children:[n.jsx(Bx,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})]})]})]}),n.jsx("form",{onSubmit:u,className:"md:hidden pb-3",children:n.jsxs("div",{className:"relative w-full",children:[n.jsx(Gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"text",value:o,onChange:d=>c(d.target.value),placeholder:"Search...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]})})]})})},sy=({onViewChange:e})=>{const t=[{icon:Je,title:"Buy & Sell",description:"Discover unique products from trusted sellers",action:"marketplace",color:"blue"},{icon:rt,title:"Find Jobs",description:"Explore career opportunities that match your skills",action:"jobs",color:"green"},{icon:Qx,title:"Hire Talent",description:"Connect with qualified candidates for your team",action:"jobs",color:"orange"},{icon:ir,title:"Grow Business",description:"Expand your reach and increase sales",action:"marketplace",color:"purple"}],r=s=>{const a={blue:"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 group-hover:bg-blue-100 dark:group-hover:bg-blue-900/30",green:"bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 group-hover:bg-green-100 dark:group-hover:bg-green-900/30",orange:"bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400 group-hover:bg-orange-100 dark:group-hover:bg-orange-900/30",purple:"bg-purple-50 dark:bg-purple-900/20 text-purple-600 dark:text-purple-400 group-hover:bg-purple-100 dark:group-hover:bg-purple-900/30"};return a[s]||a.blue};return n.jsx("div",{className:"bg-gradient-to-br from-blue-50 via-white to-green-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsxs("h1",{className:"text-5xl md:text-6xl font-bold text-gray-900 dark:text-white mb-6",children:["Your Complete",n.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:" Marketplace"})," &",n.jsx("span",{className:"text-green-600 dark:text-green-400",children:" Career Hub"})]}),n.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto",children:"One platform connecting buyers, sellers, job seekers, and employers. Everything you need to grow your business and advance your career."})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:t.map(s=>{const a=s.icon;return n.jsxs("button",{onClick:()=>e(s.action),className:"group bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm hover:shadow-md transition-all duration-200 text-left border border-gray-100 dark:border-gray-700",children:[n.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center mb-4 transition-colors ${r(s.color)}`,children:n.jsx(a,{className:"w-6 h-6"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:s.title}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:s.description})]},s.title)})}),n.jsxs("div",{className:"flex justify-center space-x-4",children:[n.jsx("button",{onClick:()=>e("marketplace"),className:"px-8 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium shadow-sm",children:"Browse Products"}),n.jsx("button",{onClick:()=>e("jobs"),className:"px-8 py-3 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors font-medium shadow-sm",children:"Find Jobs"})]})]})})},wf=({productId:e,size:t="md",showToast:r=!0})=>{const{isFavorite:s,addFavorite:a,removeFavorite:i}=Ao(),[l,o]=w.useState(!1),[c,u]=w.useState(!1),d=s(e),h={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},f={sm:"p-1.5",md:"p-2",lg:"p-2.5"},p=async m=>{if(m.preventDefault(),m.stopPropagation(),!l){o(!0);try{d?(await i(e),r&&(u(!0),setTimeout(()=>u(!1),2e3))):(await a(e),r&&(u(!0),setTimeout(()=>u(!1),2e3)))}catch(v){console.error("Error toggling favorite:",v)}finally{o(!1)}}};return n.jsxs("div",{className:"relative",children:[n.jsx("button",{onClick:p,disabled:l,className:`${f[t]} bg-white dark:bg-gray-800 rounded-full shadow-md hover:shadow-lg transition-all hover:scale-110 disabled:opacity-50 disabled:cursor-not-allowed border border-gray-200 dark:border-gray-700`,"aria-label":d?"Remove from favorites":"Add to favorites",children:n.jsx(Xr,{className:`${h[t]} transition-colors ${d?"fill-red-500 text-red-500":"text-gray-600 dark:text-gray-400 hover:text-red-500"}`})}),c&&n.jsx("div",{className:"absolute top-full mt-2 right-0 bg-gray-900 dark:bg-gray-700 text-white text-xs py-1 px-3 rounded shadow-lg whitespace-nowrap z-10 animate-fade-in",children:d?"Added to Wishlist":"Removed from Wishlist"})]})},Fo=({product:e,onViewDetails:t,onAddToCart:r})=>n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm hover:shadow-md transition-shadow overflow-hidden border border-gray-100 dark:border-gray-700",children:[n.jsxs("div",{className:"relative h-48 bg-gray-200 dark:bg-gray-700 overflow-hidden",children:[n.jsx("img",{src:e.images[0]||"https://images.pexels.com/photos/230544/pexels-photo-230544.jpeg?auto=compress&cs=tinysrgb&w=400",alt:e.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"}),n.jsx("div",{className:"absolute top-2 right-2 z-10",children:n.jsx(wf,{productId:e.id,size:"md"})}),e.status==="sold_out"&&n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:n.jsx("span",{className:"bg-red-500 text-white px-4 py-2 rounded-full font-medium",children:"Sold Out"})})]}),n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2 line-clamp-1",children:e.title}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-3 line-clamp-2",children:e.description}),n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("div",{children:n.jsxs("span",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$",e.price.toFixed(2)]})}),n.jsx("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:n.jsxs("span",{children:[e.stock," in stock"]})})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>t(e),className:"flex-1 px-4 py-2 border border-blue-600 dark:border-blue-400 text-blue-600 dark:text-blue-400 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors font-medium",children:"View Details"}),r&&e.status==="active"&&e.stock>0&&n.jsx("button",{onClick:()=>r(e),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:n.jsx(vt,{className:"w-5 h-5"})})]})]})]}),ny=({value:e,onChange:t,onSearch:r,placeholder:s="Search..."})=>{const[a,i]=w.useState([]),[l,o]=w.useState(!1),c=w.useRef(null),u=w.useRef(null);w.useEffect(()=>{const m=localStorage.getItem("recentSearches");m&&i(JSON.parse(m))},[]),w.useEffect(()=>{const m=v=>{u.current&&!u.current.contains(v.target)&&o(!1)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);const d=()=>{if(e.trim()){const m=[e,...a.filter(v=>v!==e)].slice(0,10);i(m),localStorage.setItem("recentSearches",JSON.stringify(m)),o(!1),r()}},h=m=>{m.key==="Enter"&&d()},f=m=>{t(m),o(!1),setTimeout(()=>r(),100)},p=()=>{i([]),localStorage.removeItem("recentSearches")};return n.jsxs("div",{ref:u,className:"relative w-full",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{ref:c,type:"text",value:e,onChange:m=>t(m.target.value),onKeyPress:h,onFocus:()=>o(!0),placeholder:s,className:"w-full pl-10 pr-24 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),n.jsxs("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 flex items-center gap-2",children:[e&&n.jsx("button",{onClick:()=>{var m;t(""),(m=c.current)==null||m.focus()},className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors","aria-label":"Clear search",children:n.jsx(ft,{className:"w-4 h-4 text-gray-400"})}),n.jsx("button",{onClick:d,className:"px-4 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium text-sm",children:"Search"})]})]}),l&&a.length>0&&n.jsxs("div",{className:"absolute z-20 w-full mt-2 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-gray-200 dark:border-gray-700",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Recent Searches"}),n.jsx("button",{onClick:p,className:"text-xs text-blue-600 dark:text-blue-400 hover:underline",children:"Clear"})]}),n.jsx("div",{className:"max-h-60 overflow-y-auto",children:a.map((m,v)=>n.jsxs("button",{onClick:()=>f(m),className:"w-full px-4 py-2.5 text-left hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center gap-3 transition-colors",children:[n.jsx(mf,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:m})]},v))})]})]})},ay=({type:e,filters:t,onFilterChange:r,categories:s=[]})=>{const[a,i]=w.useState(new Set(["price","categories"])),l=f=>{const p=new Set(a);p.has(f)?p.delete(f):p.add(f),i(p)},o=({title:f,id:p,children:m})=>{const v=a.has(p);return n.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-4",children:[n.jsxs("button",{onClick:()=>l(p),className:"w-full flex items-center justify-between py-2 text-left",children:[n.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:f}),v?n.jsx(Lo,{className:"w-4 h-4 text-gray-500"}):n.jsx(Ua,{className:"w-4 h-4 text-gray-500"})]}),v&&n.jsx("div",{className:"mt-3 space-y-2",children:m})]})};if(e==="product"){const f=t;return n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4 space-y-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsx("h3",{className:"font-semibold text-lg text-gray-900 dark:text-white",children:"Filters"})}),n.jsx(o,{title:"Price Range",id:"price",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Min Price"}),n.jsx("input",{type:"number",value:f.minPrice,onChange:p=>r({...f,minPrice:Number(p.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",min:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Max Price"}),n.jsx("input",{type:"number",value:f.maxPrice,onChange:p=>r({...f,maxPrice:Number(p.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",min:"0"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>r({...f,minPrice:0,maxPrice:50}),className:"flex-1 px-3 py-1.5 text-xs border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300",children:"$0-$50"}),n.jsx("button",{onClick:()=>r({...f,minPrice:50,maxPrice:100}),className:"flex-1 px-3 py-1.5 text-xs border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300",children:"$50-$100"}),n.jsx("button",{onClick:()=>r({...f,minPrice:100,maxPrice:1e4}),className:"flex-1 px-3 py-1.5 text-xs border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300",children:"$100+"})]})]})}),s.length>0&&n.jsx(o,{title:"Categories",id:"categories",children:n.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:s.map(p=>n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",checked:f.categories.includes(p.id),onChange:m=>{const v=m.target.checked?[...f.categories,p.id]:f.categories.filter(k=>k!==p.id);r({...f,categories:v})},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:p.name})]},p.id))})}),n.jsx(o,{title:"Availability",id:"availability",children:n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",checked:f.inStockOnly,onChange:p=>r({...f,inStockOnly:p.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"In Stock Only"})]})}),n.jsx("button",{onClick:()=>r({minPrice:0,maxPrice:1e4,categories:[],minRating:0,inStockOnly:!1,condition:[]}),className:"w-full mt-4 px-4 py-2 text-sm bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Clear All Filters"})]})}const c=t,u=["full_time","part_time","contract","freelance"],d=["remote","on_site","hybrid"],h=["entry","mid","senior"];return n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4 space-y-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsx("h3",{className:"font-semibold text-lg text-gray-900 dark:text-white",children:"Filters"})}),n.jsx(o,{title:"Salary Range",id:"salary",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Min Salary ($/year)"}),n.jsx("input",{type:"number",value:c.minSalary,onChange:f=>r({...c,minSalary:Number(f.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",min:"0",step:"1000"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Max Salary ($/year)"}),n.jsx("input",{type:"number",value:c.maxSalary,onChange:f=>r({...c,maxSalary:Number(f.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",min:"0",step:"1000"})]})]})}),n.jsx(o,{title:"Job Type",id:"jobType",children:n.jsx("div",{className:"space-y-2",children:u.map(f=>n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",checked:c.jobTypes.includes(f),onChange:p=>{const m=p.target.checked?[...c.jobTypes,f]:c.jobTypes.filter(v=>v!==f);r({...c,jobTypes:m})},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300 capitalize",children:f.replace("_"," ")})]},f))})}),n.jsx(o,{title:"Location Type",id:"locationType",children:n.jsx("div",{className:"space-y-2",children:d.map(f=>n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",checked:c.locationTypes.includes(f),onChange:p=>{const m=p.target.checked?[...c.locationTypes,f]:c.locationTypes.filter(v=>v!==f);r({...c,locationTypes:m})},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300 capitalize",children:f.replace("_"," ")})]},f))})}),n.jsx(o,{title:"Experience Level",id:"experience",children:n.jsx("div",{className:"space-y-2",children:h.map(f=>n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",checked:c.experienceLevels.includes(f),onChange:p=>{const m=p.target.checked?[...c.experienceLevels,f]:c.experienceLevels.filter(v=>v!==f);r({...c,experienceLevels:m})},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300 capitalize",children:f})]},f))})}),n.jsx("button",{onClick:()=>r({minSalary:0,maxSalary:5e5,jobTypes:[],locationTypes:[],postedWithin:"",experienceLevels:[]}),className:"w-full mt-4 px-4 py-2 text-sm bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Clear All Filters"})]})},iy=({type:e,value:t,onChange:r})=>{const[s,a]=w.useState(!1),i=w.useRef(null),c=e==="product"?[{value:"featured",label:"Featured"},{value:"price_asc",label:"Price: Low to High"},{value:"price_desc",label:"Price: High to Low"},{value:"rating",label:"Customer Rating"},{value:"newest",label:"Newest First"}]:[{value:"relevant",label:"Most Relevant"},{value:"date_posted",label:"Date Posted"},{value:"salary_desc",label:"Salary: High to Low"}],u=c.find(d=>d.value===t)||c[0];return w.useEffect(()=>{const d=h=>{i.current&&!i.current.contains(h.target)&&a(!1)};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[]),n.jsxs("div",{ref:i,className:"relative",children:[n.jsxs("button",{onClick:()=>a(!s),className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-sm font-medium text-gray-700 dark:text-gray-300",children:[n.jsx(Cx,{className:"w-4 h-4"}),n.jsxs("span",{children:["Sort: ",u.label]})]}),s&&n.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-20 overflow-hidden",children:c.map(d=>n.jsxs("button",{onClick:()=>{r(d.value),a(!1)},className:`w-full px-4 py-2.5 text-left text-sm hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center justify-between transition-colors ${t===d.value?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"text-gray-700 dark:text-gray-300"}`,children:[n.jsx("span",{children:d.label}),t===d.value&&n.jsx(yt,{className:"w-4 h-4"})]},d.value))})]})},ly=({onProductSelect:e,onAddProduct:t,onAddToCart:r})=>{const{profile:s}=W(),[a,i]=w.useState([]),[l,o]=w.useState([]),[c,u]=w.useState(!0),[d,h]=w.useState(""),[f,p]=w.useState(!0),[m,v]=w.useState("featured"),[k,g]=w.useState({minPrice:0,maxPrice:1e4,categories:[],minRating:0,inStockOnly:!1,condition:[]});w.useEffect(()=>{x()},[]);const x=async()=>{u(!0),await Promise.all([y(),b()]),u(!1)},y=async()=>{try{const{data:C,error:L}=await O.from("products").select("*").eq("status","active").order("created_at",{ascending:!1});if(L)throw L;i(C||[])}catch(C){console.error("Error loading products:",C)}},b=async()=>{try{const{data:C,error:L}=await O.from("categories").select("*").eq("type","product").order("name");if(L)throw L;o(C||[])}catch(C){console.error("Error loading categories:",C)}},j=()=>{x()},_=(()=>{let C=a.filter(L=>{const z=d===""||L.title.toLowerCase().includes(d.toLowerCase())||L.description.toLowerCase().includes(d.toLowerCase()),Vt=L.price>=k.minPrice&&L.price<=k.maxPrice,an=k.categories.length===0||L.category_id&&k.categories.includes(L.category_id),Da=!k.inStockOnly||L.stock>0;return z&&Vt&&an&&Da});return C.sort((L,z)=>{switch(m){case"price_asc":return L.price-z.price;case"price_desc":return z.price-L.price;case"newest":return new Date(z.created_at).getTime()-new Date(L.created_at).getTime();case"featured":default:return 0}}),C})(),E=s==null?void 0:s.roles.includes("seller"),D=(k.categories.length>0?1:0)+(k.minPrice>0||k.maxPrice<1e4?1:0)+(k.inStockOnly?1:0);return c?n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 dark:border-blue-400"})})}):n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Marketplace"}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:[_.length," ",_.length===1?"product":"products"," found"]})]}),E&&n.jsxs("button",{onClick:t,className:"flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium shadow-sm",children:[n.jsx(zt,{className:"w-5 h-5 mr-2"}),"List Product"]})]}),n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:[n.jsx("div",{className:"flex-1",children:n.jsx(ny,{value:d,onChange:h,onSearch:j,placeholder:"Search products..."})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>p(!f),className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-sm font-medium text-gray-700 dark:text-gray-300 lg:hidden",children:[n.jsx(Vx,{className:"w-4 h-4"}),"Filters",D>0&&n.jsx("span",{className:"px-2 py-0.5 bg-blue-600 text-white text-xs rounded-full",children:D})]}),n.jsx(iy,{type:"product",value:m,onChange:v})]})]}),D>0&&n.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[k.categories.length>0&&n.jsxs("button",{onClick:()=>g({...k,categories:[]}),className:"flex items-center gap-2 px-3 py-1.5 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 rounded-full text-sm",children:[n.jsxs("span",{children:[k.categories.length," ",k.categories.length===1?"category":"categories"]}),n.jsx(ft,{className:"w-3 h-3"})]}),(k.minPrice>0||k.maxPrice<1e4)&&n.jsxs("button",{onClick:()=>g({...k,minPrice:0,maxPrice:1e4}),className:"flex items-center gap-2 px-3 py-1.5 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 rounded-full text-sm",children:[n.jsxs("span",{children:["$",k.minPrice," - $",k.maxPrice]}),n.jsx(ft,{className:"w-3 h-3"})]}),k.inStockOnly&&n.jsxs("button",{onClick:()=>g({...k,inStockOnly:!1}),className:"flex items-center gap-2 px-3 py-1.5 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 rounded-full text-sm",children:[n.jsx("span",{children:"In Stock Only"}),n.jsx(ft,{className:"w-3 h-3"})]})]})]}),n.jsxs("div",{className:"flex gap-6",children:[(f||window.innerWidth>=1024)&&n.jsx("aside",{className:"w-full lg:w-64 flex-shrink-0",children:n.jsx("div",{className:"lg:sticky lg:top-24",children:n.jsx(ay,{type:"product",filters:k,onFilterChange:g,categories:l.map(C=>({id:C.id,name:C.name}))})})}),n.jsx("div",{className:"flex-1",children:_.length===0?n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-12 text-center",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No products found"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Try adjusting your search or filters"})]}):n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-6",children:_.map(C=>n.jsx(Fo,{product:C,onViewDetails:e,onAddToCart:r},C.id))})})]})]})},oy=({product:e,onBack:t,onAddToCart:r})=>{W();const[s,a]=w.useState(null),[i,l]=w.useState([]),[o,c]=w.useState(!0),[u,d]=w.useState(0);w.useEffect(()=>{h()},[e.id]);const h=async()=>{c(!0),await Promise.all([f(),p()]),c(!1)},f=async()=>{try{const{data:g,error:x}=await O.from("profiles").select("*").eq("id",e.seller_id).maybeSingle();if(x)throw x;a(g)}catch(g){console.error("Error loading seller:",g)}},p=async()=>{try{const{data:g,error:x}=await O.from("reviews").select("*").eq("product_id",e.id).order("created_at",{ascending:!1});if(x)throw x;l(g||[])}catch(g){console.error("Error loading reviews:",g)}},m=i.length>0?i.reduce((g,x)=>g+x.rating,0)/i.length:0,k=e.images.length>0?e.images:["https://images.pexels.com/photos/230544/pexels-photo-230544.jpeg?auto=compress&cs=tinysrgb&w=800"];return o?n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("button",{onClick:t,className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-6",children:[n.jsx(ze,{className:"w-5 h-5 mr-2"}),"Back to Marketplace"]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden",children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 p-6 lg:p-8",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"relative bg-gray-100 dark:bg-gray-700 rounded-lg overflow-hidden mb-4 h-96",children:[n.jsx("div",{className:"absolute top-4 right-4 z-10",children:n.jsx(wf,{productId:e.id,size:"lg"})}),n.jsx("img",{src:k[u],alt:e.title,className:"w-full h-full object-cover"})]}),k.length>1&&n.jsx("div",{className:"grid grid-cols-4 gap-2",children:k.map((g,x)=>n.jsx("button",{onClick:()=>d(x),className:`bg-gray-100 rounded-lg overflow-hidden h-20 ${u===x?"ring-2 ring-blue-600":""}`,children:n.jsx("img",{src:g,alt:`${e.title} ${x+1}`,className:"w-full h-full object-cover"})},x))})]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:e.title}),i.length>0&&n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"flex items-center",children:[...Array(5)].map((g,x)=>n.jsx(pa,{className:`w-5 h-5 ${x<Math.round(m)?"text-yellow-400 fill-current":"text-gray-300"}`},x))}),n.jsxs("span",{className:"ml-2 text-gray-600",children:[m.toFixed(1)," (",i.length," reviews)"]})]}),n.jsx("div",{className:"mb-6",children:n.jsxs("span",{className:"text-4xl font-bold text-gray-900",children:["$",e.price.toFixed(2)]})}),n.jsx("div",{className:"mb-6",children:n.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${e.stock>10?"bg-green-100 text-green-700":e.stock>0?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:e.stock>0?`${e.stock} in stock`:"Out of stock"})}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Description"}),n.jsx("p",{className:"text-gray-600 whitespace-pre-line",children:e.description})]}),s&&n.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Sold by"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mr-3",children:n.jsx(hr,{className:"w-6 h-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:s.full_name}),s.location&&n.jsx("p",{className:"text-sm text-gray-600",children:s.location})]})]})]}),e.stock>0&&e.status==="active"&&n.jsxs("button",{onClick:()=>r(e),className:"w-full flex items-center justify-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium text-lg",children:[n.jsx(vt,{className:"w-6 h-6 mr-2"}),"Add to Cart"]})]})]}),i.length>0&&n.jsxs("div",{className:"border-t border-gray-200 p-6 lg:p-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Customer Reviews"}),n.jsx("div",{className:"space-y-4",children:i.map(g=>n.jsxs("div",{className:"border-b border-gray-200 pb-4 last:border-0",children:[n.jsx("div",{className:"flex items-center mb-2",children:[...Array(5)].map((x,y)=>n.jsx(pa,{className:`w-4 h-4 ${y<g.rating?"text-yellow-400 fill-current":"text-gray-300"}`},y))}),g.comment&&n.jsx("p",{className:"text-gray-600",children:g.comment})]},g.id))})]})]})]})},cy=({formData:e,className:t=""})=>{const[r,s]=w.useState(null),[a,i]=w.useState(!1),[l,o]=w.useState(!1);w.useEffect(()=>{const f=setTimeout(()=>{c()},500);return()=>clearTimeout(f)},[e]);const c=async()=>{i(!0);try{const{data:{session:f}}=await O.auth.getSession();if(!f){i(!1);return}const m=await fetch("undefined/functions/v1/ai-product-assistant",{method:"POST",headers:{Authorization:`Bearer ${f.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({action:"score_completeness",data:e})});if(!m.ok)throw new Error("Failed to calculate score");const v=await m.json();s(v)}catch(f){console.error("Error calculating completeness score:",f)}finally{i(!1)}},u=f=>{switch(f){case"excellent":return"text-green-600";case"good":return"text-blue-600";case"fair":return"text-yellow-600";case"poor":return"text-red-600";default:return"text-gray-600"}},d=f=>f>=90?"bg-green-500":f>=75?"bg-blue-500":f>=50?"bg-yellow-500":"bg-red-500",h=f=>{switch(f){case"complete":return n.jsx(Tx,{className:"w-5 h-5 text-green-600"});case"partial":return n.jsx(Nx,{className:"w-5 h-5 text-yellow-600"});case"missing":return n.jsx(yu,{className:"w-5 h-5 text-gray-400"});default:return n.jsx(yu,{className:"w-5 h-5 text-gray-400"})}};return a&&!r?n.jsx("div",{className:`bg-white rounded-lg shadow-sm p-6 ${t}`,children:n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):r?n.jsxs("div",{className:`bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg shadow-sm p-6 ${t}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ge,{className:"w-6 h-6 text-blue-600"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Listing Quality Score"})]}),n.jsx("button",{onClick:()=>o(!l),className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:l?"Hide Details":"Show Details"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("span",{className:`text-3xl font-bold ${u(r.qualityLevel)}`,children:[r.score,"/100"]}),n.jsx("span",{className:"text-sm text-gray-600",children:r.qualityLevel.toUpperCase()})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:n.jsx("div",{className:`h-full ${d(r.percentage)} transition-all duration-500 ease-out rounded-full`,style:{width:`${r.percentage}%`}})}),n.jsx("p",{className:"mt-2 text-sm text-gray-600",children:r.qualityMessage})]}),r.recommendations.length>0&&n.jsxs("div",{className:"mb-4 p-4 bg-white rounded-lg border border-blue-200",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Top Recommendations:"}),n.jsx("ul",{className:"space-y-1",children:r.recommendations.map((f,p)=>n.jsxs("li",{className:"text-sm text-gray-700 flex items-start",children:[n.jsx("span",{className:"text-blue-600 mr-2",children:""}),n.jsx("span",{children:f})]},p))})]}),l&&n.jsxs("div",{className:"mt-4 space-y-2",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Detailed Breakdown:"}),r.feedback.map((f,p)=>n.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded-lg border border-gray-200",children:[h(f.status),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("span",{className:"text-sm font-medium text-gray-900",children:f.category}),n.jsxs("span",{className:"text-sm text-gray-600",children:[f.score,"/",f.maxScore]})]}),n.jsx("p",{className:"text-xs text-gray-600",children:f.message})]})]},p))]}),r.percentage>=90&&n.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:n.jsx("p",{className:"text-sm text-green-800 font-medium text-center",children:" Your listing is excellent and ready to publish!"})})]}):null},uy=({title:e,price:t,category:r,existingDescription:s,onSelect:a,className:i=""})=>{const[l,o]=w.useState(!1),[c,u]=w.useState([]),[d,h]=w.useState(null),[f,p]=w.useState(null),m=async()=>{if(!e){alert("Please enter a product title first");return}o(!0);try{const{data:{session:g}}=await O.auth.getSession();if(!g){alert("Please sign in to use AI features");return}const y=await fetch("undefined/functions/v1/ai-product-assistant",{method:"POST",headers:{Authorization:`Bearer ${g.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({action:"generate_description",data:{title:e,price:t,category:r,existingDescription:s}})});if(!y.ok)throw new Error("Failed to generate descriptions");const b=await y.json();u(b.variants)}catch(g){console.error("Error generating descriptions:",g),alert("Failed to generate descriptions. Please try again.")}finally{o(!1)}},v=g=>{h(g),a(c[g].text)},k=async g=>{await navigator.clipboard.writeText(c[g].text),p(g),setTimeout(()=>p(null),2e3)};return n.jsxs("div",{className:`bg-white rounded-lg border border-gray-200 p-4 ${i}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ge,{className:"w-5 h-5 text-blue-600"}),n.jsx("h3",{className:"font-semibold text-gray-900",children:"AI Description Generator"})]}),n.jsx("button",{onClick:m,disabled:l||!e,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:l?n.jsxs(n.Fragment,{children:[n.jsx(ns,{className:"w-4 h-4 animate-spin"}),"Generating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(ge,{className:"w-4 h-4"}),"Generate"]})})]}),c.length>0&&n.jsx("div",{className:"space-y-3",children:c.map((g,x)=>n.jsxs("div",{className:`p-4 rounded-lg border-2 transition-all ${d===x?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900 capitalize",children:g.style}),n.jsx("p",{className:"text-xs text-gray-600",children:g.description})]}),n.jsx("div",{className:"flex gap-2",children:n.jsx("button",{onClick:()=>k(x),className:"p-2 text-gray-600 hover:text-gray-900 transition-colors",title:"Copy to clipboard",children:f===x?n.jsx(yt,{className:"w-4 h-4 text-green-600"}):n.jsx($o,{className:"w-4 h-4"})})})]}),n.jsx("p",{className:"text-sm text-gray-700 mb-3",children:g.text}),n.jsx("button",{onClick:()=>v(x),className:`w-full py-2 rounded-lg font-medium transition-colors ${d===x?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:d===x?"Selected":"Use This"})]},x))}),c.length===0&&n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(ge,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),n.jsx("p",{className:"text-sm",children:"Click Generate to create AI-powered descriptions"})]})]})},dy=({currentTitle:e,description:t,category:r,onSelect:s,className:a=""})=>{const[i,l]=w.useState(!1),[o,c]=w.useState([]),[u,d]=w.useState(""),[h,f]=w.useState(null),p=async()=>{if(!e){alert("Please enter a title first");return}l(!0);try{const{data:{session:v}}=await O.auth.getSession();if(!v){alert("Please sign in to use AI features");return}const g=await fetch("undefined/functions/v1/ai-product-assistant",{method:"POST",headers:{Authorization:`Bearer ${v.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({action:"optimize_title",data:{title:e,description:t,category:r}})});if(!g.ok)throw new Error("Failed to optimize title");const x=await g.json();c(x.suggestions),d(x.analysis),f(null)}catch(v){console.error("Error optimizing title:",v),alert("Failed to optimize title. Please try again.")}finally{l(!1)}},m=v=>{f(v),s(o[v])};return n.jsxs("div",{className:`bg-white rounded-lg border border-gray-200 p-4 ${a}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ge,{className:"w-5 h-5 text-blue-600"}),n.jsx("h3",{className:"font-semibold text-gray-900",children:"AI Title Optimizer"})]}),n.jsx("button",{onClick:p,disabled:i||!e,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:i?n.jsxs(n.Fragment,{children:[n.jsx(ns,{className:"w-4 h-4 animate-spin"}),"Optimizing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(ge,{className:"w-4 h-4"}),"Optimize"]})})]}),e&&o.length>0&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[n.jsx("div",{className:"flex items-center gap-2 mb-2",children:n.jsx("span",{className:"text-xs font-semibold text-gray-600 uppercase",children:"Current Title"})}),n.jsx("p",{className:"text-sm text-gray-700",children:e}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[e.length," characters"]})]}),u&&n.jsx("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:n.jsx("p",{className:"text-sm text-blue-900",children:u})}),n.jsx("div",{className:"flex items-center justify-center",children:n.jsx(Sx,{className:"w-5 h-5 text-gray-400"})}),n.jsx("div",{className:"space-y-3",children:o.map((v,k)=>n.jsxs("div",{className:`p-3 rounded-lg border-2 transition-all ${h===k?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm text-gray-900 font-medium",children:v}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[v.length," characters"]})]}),h===k&&n.jsx(yt,{className:"w-5 h-5 text-blue-600 flex-shrink-0 ml-2"})]}),n.jsx("button",{onClick:()=>m(k),className:`w-full py-2 rounded-lg font-medium transition-colors text-sm ${h===k?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:h===k?"Selected":"Use This Title"})]},k))})]}),o.length===0&&n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(ge,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),n.jsx("p",{className:"text-sm",children:"Get AI-powered suggestions to improve your title"}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"SEO optimized and conversion-focused"})]})]})},hy=({title:e,description:t,availableCategories:r,onSelect:s,className:a=""})=>{const[i,l]=w.useState(!1),[o,c]=w.useState(""),[u,d]=w.useState(""),[h,f]=w.useState(""),[p,m]=w.useState([]),v=async()=>{if(!e&&!t){alert("Please enter a title or description first");return}l(!0);try{const{data:{session:x}}=await O.auth.getSession();if(!x){alert("Please sign in to use AI features");return}const y=r.map(_=>_.name),j=await fetch("undefined/functions/v1/ai-product-assistant",{method:"POST",headers:{Authorization:`Bearer ${x.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({action:"recommend_category",data:{title:e,description:t,availableCategories:y}})});if(!j.ok)throw new Error("Failed to get category recommendation");const N=await j.json();c(N.recommended),d(N.confidence),f(N.reasoning),m(N.alternatives||[])}catch(x){console.error("Error getting recommendation:",x),alert("Failed to get recommendation. Please try again.")}finally{l(!1)}},k=x=>{const y=r.find(b=>b.name===x);y&&s(y.id)},g=x=>{switch(x){case"high":return"text-green-600 bg-green-50 border-green-200";case"medium":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"low":return"text-orange-600 bg-orange-50 border-orange-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}};return n.jsxs("div",{className:`bg-white rounded-lg border border-gray-200 p-4 ${a}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ge,{className:"w-5 h-5 text-blue-600"}),n.jsx("h3",{className:"font-semibold text-gray-900",children:"AI Category Recommender"})]}),n.jsx("button",{onClick:v,disabled:i||!e&&!t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:i?n.jsxs(n.Fragment,{children:[n.jsx(ns,{className:"w-4 h-4 animate-spin"}),"Analyzing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(ge,{className:"w-4 h-4"}),"Recommend"]})})]}),o&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-lg border-2 border-blue-200",children:[n.jsx("div",{className:"flex items-start justify-between mb-2",children:n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Jx,{className:"w-5 h-5 text-blue-600"}),n.jsx("h4",{className:"font-semibold text-gray-900",children:"Recommended Category"})]}),n.jsx("p",{className:"text-2xl font-bold text-blue-600 mb-2",children:o}),n.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full border text-xs font-semibold ${g(u)}`,children:[u.toUpperCase()," CONFIDENCE"]})]})}),h&&n.jsx("div",{className:"mt-3 p-3 bg-white rounded-lg",children:n.jsx("p",{className:"text-sm text-gray-700",children:h})}),n.jsx("button",{onClick:()=>k(o),className:"w-full mt-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Apply This Category"})]}),p.length>0&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Alternative Options:"}),n.jsx("div",{className:"grid grid-cols-1 gap-2",children:p.map((x,y)=>n.jsx("button",{onClick:()=>k(x),className:"p-3 text-left bg-gray-50 hover:bg-gray-100 rounded-lg border border-gray-200 transition-colors",children:n.jsx("p",{className:"text-sm font-medium text-gray-900",children:x})},y))})]})]}),!o&&n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(ge,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),n.jsx("p",{className:"text-sm",children:"AI will analyze your product and suggest the best category"}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Based on title and description"})]})]})},fy=({title:e,description:t,currentPrice:r,category:s,onSelect:a,className:i=""})=>{const[l,o]=w.useState(!1),[c,u]=w.useState(0),[d,h]=w.useState(0),[f,p]=w.useState(0),[m,v]=w.useState(""),[k,g]=w.useState(null),x=async()=>{if(!e){alert("Please enter a title first");return}o(!0);try{const{data:{session:y}}=await O.auth.getSession();if(!y){alert("Please sign in to use AI features");return}const j=await fetch("undefined/functions/v1/ai-product-assistant",{method:"POST",headers:{Authorization:`Bearer ${y.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({action:"analyze_pricing",data:{title:e,description:t,currentPrice:parseFloat(r)||null,category:s}})});if(!j.ok)throw new Error("Failed to analyze pricing");const N=await j.json();u(N.suggestedMin),h(N.suggestedMax),p(N.optimal),v(N.reasoning),g(N.pricePoints)}catch(y){console.error("Error analyzing pricing:",y),alert("Failed to analyze pricing. Please try again.")}finally{o(!1)}};return n.jsxs("div",{className:`bg-white rounded-lg border border-gray-200 p-4 ${i}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ge,{className:"w-5 h-5 text-blue-600"}),n.jsx("h3",{className:"font-semibold text-gray-900",children:"AI Pricing Suggestions"})]}),n.jsx("button",{onClick:x,disabled:l||!e,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:l?n.jsxs(n.Fragment,{children:[n.jsx(ns,{className:"w-4 h-4 animate-spin"}),"Analyzing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(ge,{className:"w-4 h-4"}),"Analyze"]})})]}),f>0&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-4 rounded-lg border-2 border-green-200",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(ir,{className:"w-5 h-5 text-green-600"}),n.jsx("h4",{className:"font-semibold text-gray-900",children:"Optimal Price"})]}),n.jsxs("div",{className:"flex items-baseline gap-2",children:[n.jsx(Yr,{className:"w-6 h-6 text-green-600"}),n.jsx("span",{className:"text-4xl font-bold text-green-600",children:f.toFixed(2)})]}),n.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Suggested range: $",c.toFixed(2)," - $",d.toFixed(2)]}),n.jsx("button",{onClick:()=>a(f),className:"w-full mt-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Apply Optimal Price"})]}),m&&n.jsx("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:n.jsx("p",{className:"text-sm text-blue-900",children:m})}),k&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Price Strategy Options:"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[n.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:[n.jsx("p",{className:"text-xs font-semibold text-gray-600 uppercase mb-1",children:"Budget"}),n.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",k.budget.toFixed(2)]}),n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Value-conscious buyers"}),n.jsx("button",{onClick:()=>a(k.budget),className:"w-full mt-2 py-1.5 bg-gray-100 hover:bg-gray-200 rounded text-xs font-medium transition-colors",children:"Apply"})]}),n.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border-2 border-blue-300",children:[n.jsx("p",{className:"text-xs font-semibold text-blue-600 uppercase mb-1",children:"Standard"}),n.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["$",k.standard.toFixed(2)]}),n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Balanced approach"}),n.jsx("button",{onClick:()=>a(k.standard),className:"w-full mt-2 py-1.5 bg-blue-100 hover:bg-blue-200 rounded text-xs font-medium transition-colors",children:"Apply"})]}),n.jsxs("div",{className:"p-3 bg-amber-50 rounded-lg border border-amber-200",children:[n.jsx("p",{className:"text-xs font-semibold text-amber-600 uppercase mb-1",children:"Premium"}),n.jsxs("p",{className:"text-2xl font-bold text-amber-600",children:["$",k.premium.toFixed(2)]}),n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Quality-focused buyers"}),n.jsx("button",{onClick:()=>a(k.premium),className:"w-full mt-2 py-1.5 bg-amber-100 hover:bg-amber-200 rounded text-xs font-medium transition-colors",children:"Apply"})]})]})]})]}),f===0&&n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(Yr,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),n.jsx("p",{className:"text-sm",children:"Get AI-powered pricing recommendations"}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Based on market data and product analysis"})]})]})},my=({title:e,description:t,className:r=""})=>{const[s,a]=w.useState(!1),[i,l]=w.useState([]),[o,c]=w.useState([]),[u,d]=w.useState([]),[h,f]=w.useState(""),[p,m]=w.useState(!1),v=async()=>{if(!e&&!t){alert("Please enter a title or description first");return}a(!0);try{const{data:{session:x}}=await O.auth.getSession();if(!x){alert("Please sign in to use AI features");return}const b=await fetch("undefined/functions/v1/ai-product-assistant",{method:"POST",headers:{Authorization:`Bearer ${x.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({action:"extract_keywords",data:{title:e,description:t}})});if(!b.ok)throw new Error("Failed to extract keywords");const j=await b.json();l(j.primary||[]),c(j.secondary||[]),d(j.longTail||[]),f(j.searchVolume||"medium")}catch(x){console.error("Error extracting keywords:",x),alert("Failed to extract keywords. Please try again.")}finally{a(!1)}},k=async()=>{const x=[...i,...o,...u].join(", ");await navigator.clipboard.writeText(x),m(!0),setTimeout(()=>m(!1),2e3)},g=x=>{switch(x){case"high":return"text-green-600 bg-green-50 border-green-200";case"medium":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"low":return"text-orange-600 bg-orange-50 border-orange-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}};return n.jsxs("div",{className:`bg-white rounded-lg border border-gray-200 p-4 ${r}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ge,{className:"w-5 h-5 text-blue-600"}),n.jsx("h3",{className:"font-semibold text-gray-900",children:"AI Keyword Extractor"})]}),n.jsx("button",{onClick:v,disabled:s||!e&&!t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:s?n.jsxs(n.Fragment,{children:[n.jsx(ns,{className:"w-4 h-4 animate-spin"}),"Extracting..."]}):n.jsxs(n.Fragment,{children:[n.jsx(ge,{className:"w-4 h-4"}),"Extract"]})})]}),i.length>0&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full border text-xs font-semibold ${g(h)}`,children:[h.toUpperCase()," SEARCH VOLUME"]}),n.jsx("button",{onClick:k,className:"flex items-center gap-2 px-3 py-1.5 text-sm text-gray-600 hover:text-gray-900 transition-colors",children:p?n.jsxs(n.Fragment,{children:[n.jsx(yt,{className:"w-4 h-4 text-green-600"}),n.jsx("span",{className:"text-green-600",children:"Copied"})]}):n.jsxs(n.Fragment,{children:[n.jsx($o,{className:"w-4 h-4"}),"Copy All"]})})]}),n.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-4 rounded-lg border border-blue-200",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(Tn,{className:"w-4 h-4 text-blue-600"}),n.jsx("h4",{className:"font-semibold text-gray-900",children:"Primary Keywords"}),n.jsx("span",{className:"text-xs text-gray-500",children:"(Most important)"})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:i.map((x,y)=>n.jsx("span",{className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg text-sm font-medium",children:x},y))})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(Tn,{className:"w-4 h-4 text-gray-600"}),n.jsx("h4",{className:"font-semibold text-gray-900",children:"Secondary Keywords"}),n.jsx("span",{className:"text-xs text-gray-500",children:"(Supporting)"})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:o.map((x,y)=>n.jsx("span",{className:"px-3 py-1.5 bg-gray-200 text-gray-700 rounded-lg text-sm",children:x},y))})]}),n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(Tn,{className:"w-4 h-4 text-green-600"}),n.jsx("h4",{className:"font-semibold text-gray-900",children:"Long-Tail Keywords"}),n.jsx("span",{className:"text-xs text-gray-500",children:"(Specific phrases)"})]}),n.jsx("div",{className:"space-y-2",children:u.map((x,y)=>n.jsx("div",{className:"px-3 py-2 bg-white rounded-lg text-sm text-gray-700 border border-green-300",children:x},y))})]}),n.jsx("div",{className:"bg-amber-50 p-3 rounded-lg border border-amber-200",children:n.jsxs("p",{className:"text-xs text-amber-900",children:[n.jsx("strong",{children:"SEO Tip:"})," Use primary keywords in your title, secondary keywords in your description, and long-tail keywords for specific product variations or details."]})})]}),i.length===0&&n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(Tn,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),n.jsx("p",{className:"text-sm",children:"Extract SEO keywords from your product content"}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Improve search visibility and discoverability"})]})]})},gy=({title:e,description:t,onUse:r,className:s=""})=>{const[a,i]=w.useState(!1),[l,o]=w.useState([]),[c,u]=w.useState(!1),d=async()=>{if(!e&&!t){alert("Please enter a title or description first");return}i(!0);try{const{data:{session:p}}=await O.auth.getSession();if(!p){alert("Please sign in to use AI features");return}const v=await fetch("undefined/functions/v1/ai-product-assistant",{method:"POST",headers:{Authorization:`Bearer ${p.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({action:"generate_features",data:{title:e,description:t}})});if(!v.ok)throw new Error("Failed to generate features");const k=await v.json();o(k.features||[])}catch(p){console.error("Error generating features:",p),alert("Failed to generate features. Please try again.")}finally{i(!1)}},h=async()=>{const p=l.map((m,v)=>` ${m}`).join(`
`);await navigator.clipboard.writeText(p),u(!0),setTimeout(()=>u(!1),2e3)},f=()=>{r&&r(l)};return n.jsxs("div",{className:`bg-white rounded-lg border border-gray-200 p-4 ${s}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ge,{className:"w-5 h-5 text-blue-600"}),n.jsx("h3",{className:"font-semibold text-gray-900",children:"AI Feature Generator"})]}),n.jsx("button",{onClick:d,disabled:a||!e&&!t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:a?n.jsxs(n.Fragment,{children:[n.jsx(ns,{className:"w-4 h-4 animate-spin"}),"Generating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(ge,{className:"w-4 h-4"}),"Generate"]})})]}),l.length>0&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-4 rounded-lg border border-green-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Pl,{className:"w-5 h-5 text-green-600"}),n.jsx("h4",{className:"font-semibold text-gray-900",children:"Feature Bullets"})]}),n.jsx("button",{onClick:h,className:"flex items-center gap-2 px-3 py-1.5 text-sm text-gray-600 hover:text-gray-900 transition-colors",children:c?n.jsxs(n.Fragment,{children:[n.jsx(yt,{className:"w-4 h-4 text-green-600"}),n.jsx("span",{className:"text-green-600",children:"Copied"})]}):n.jsxs(n.Fragment,{children:[n.jsx($o,{className:"w-4 h-4"}),"Copy"]})})]}),n.jsx("ul",{className:"space-y-3",children:l.map((p,m)=>n.jsxs("li",{className:"flex items-start gap-3 p-3 bg-white rounded-lg border border-green-300",children:[n.jsx("span",{className:"flex-shrink-0 w-6 h-6 flex items-center justify-center bg-green-600 text-white rounded-full text-xs font-bold",children:m+1}),n.jsx("span",{className:"text-sm text-gray-800 flex-1",children:p})]},m))}),r&&n.jsx("button",{onClick:f,className:"w-full mt-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Add to Description"})]}),n.jsx("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:n.jsxs("p",{className:"text-xs text-blue-900",children:[n.jsx("strong",{children:"Pro Tip:"})," Feature bullets help customers quickly scan the key benefits of your product. They should be concise, benefit-focused, and easy to read."]})})]}),l.length===0&&n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(Pl,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),n.jsx("p",{className:"text-sm",children:"Generate compelling feature bullet points"}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Highlight key benefits that drive sales"})]})]})},py=({formData:e,categories:t,onUpdateField:r,className:s=""})=>{const[a,i]=w.useState(!0),[l,o]=w.useState("basic"),c=u=>{const d=t.find(h=>h.id===u);return(d==null?void 0:d.name)||""};return n.jsxs("div",{className:`bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border-2 border-blue-200 ${s}`,children:[n.jsxs("button",{onClick:()=>i(!a),className:"w-full flex items-center justify-between p-4 hover:bg-blue-100/50 transition-colors rounded-t-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:n.jsx(Ex,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{className:"text-left",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"AI Product Assistant"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Get intelligent suggestions to optimize your listing"})]})]}),a?n.jsx(Lo,{className:"w-6 h-6 text-gray-600"}):n.jsx(Ua,{className:"w-6 h-6 text-gray-600"})]}),a&&n.jsxs("div",{className:"p-4 pt-0",children:[n.jsxs("div",{className:"flex gap-2 mb-4",children:[n.jsx("button",{onClick:()=>o("basic"),className:`flex-1 py-2 px-4 rounded-lg font-medium transition-colors ${l==="basic"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Basic Tools"}),n.jsx("button",{onClick:()=>o("advanced"),className:`flex-1 py-2 px-4 rounded-lg font-medium transition-colors ${l==="advanced"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Advanced Tools"})]}),n.jsxs("div",{className:"space-y-4",children:[l==="basic"&&n.jsxs(n.Fragment,{children:[n.jsx(dy,{currentTitle:e.title,description:e.description,category:c(e.category_id),onSelect:u=>r("title",u)}),n.jsx(uy,{title:e.title,price:e.price,category:c(e.category_id),existingDescription:e.description,onSelect:u=>r("description",u)}),n.jsx(hy,{title:e.title,description:e.description,availableCategories:t,onSelect:u=>r("category_id",u)})]}),l==="advanced"&&n.jsxs(n.Fragment,{children:[n.jsx(fy,{title:e.title,description:e.description,currentPrice:e.price,category:c(e.category_id),onSelect:u=>r("price",u.toString())}),n.jsx(my,{title:e.title,description:e.description}),n.jsx(gy,{title:e.title,description:e.description,onUse:u=>{const d=u.map(f=>` ${f}`).join(`
`),h=e.description?`${e.description}

Key Features:
${d}`:`Key Features:
${d}`;r("description",h)}})]})]})]})]})},bu=({product:e,onBack:t,onSuccess:r})=>{var y,b;const{profile:s}=W(),[a,i]=w.useState([]),[l,o]=w.useState(!1),[c,u]=w.useState(""),[d,h]=w.useState({title:(e==null?void 0:e.title)||"",description:(e==null?void 0:e.description)||"",price:((y=e==null?void 0:e.price)==null?void 0:y.toString())||"",stock:((b=e==null?void 0:e.stock)==null?void 0:b.toString())||"0",category_id:(e==null?void 0:e.category_id)||"",status:(e==null?void 0:e.status)||"draft",images:(e==null?void 0:e.images)||[]}),[f,p]=w.useState("");w.useEffect(()=>{m()},[]);const m=async()=>{try{const{data:j,error:N}=await O.from("categories").select("*").eq("type","product").order("name");if(N)throw N;i(j||[])}catch(j){console.error("Error loading categories:",j)}},v=()=>{f.trim()&&(h({...d,images:[...d.images,f.trim()]}),p(""))},k=j=>{h({...d,images:d.images.filter((N,_)=>_!==j)})},g=(j,N)=>{h({...d,[j]:N})},x=async j=>{j.preventDefault(),u(""),o(!0);try{const N={seller_id:s.id,title:d.title,description:d.description,price:parseFloat(d.price),stock:parseInt(d.stock),category_id:d.category_id||null,status:d.status,images:d.images};if(e){const{error:_}=await O.from("products").update(N).eq("id",e.id);if(_)throw _}else{const{error:_}=await O.from("products").insert(N);if(_)throw _}r()}catch(N){u(N.message||"Failed to save product")}finally{o(!1)}};return n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("button",{onClick:t,className:"flex items-center text-gray-600 hover:text-gray-900 mb-6",children:[n.jsx(ze,{className:"w-5 h-5 mr-2"}),"Back"]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 lg:p-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:e?"Edit Product":"Add New Product"}),c&&n.jsx("div",{className:"mb-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded",children:c}),n.jsx(cy,{formData:d,className:"mb-6"}),n.jsx(py,{formData:d,categories:a,onUpdateField:g,className:"mb-6"}),n.jsxs("form",{onSubmit:x,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Title *"}),n.jsx("input",{id:"title",type:"text",value:d.title,onChange:j=>h({...d,title:j.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter product title"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),n.jsx("textarea",{id:"description",value:d.description,onChange:j=>h({...d,description:j.target.value}),required:!0,rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Describe your product in detail..."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-1",children:"Price ($) *"}),n.jsx("input",{id:"price",type:"number",step:"0.01",min:"0",value:d.price,onChange:j=>h({...d,price:j.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"stock",className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock Quantity *"}),n.jsx("input",{id:"stock",type:"number",min:"0",value:d.stock,onChange:j=>h({...d,stock:j.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),n.jsxs("select",{id:"category",value:d.category_id,onChange:j=>h({...d,category_id:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Select a category"}),a.map(j=>n.jsx("option",{value:j.id,children:j.name},j.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status *"}),n.jsxs("select",{id:"status",value:d.status,onChange:j=>h({...d,status:j.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"draft",children:"Draft"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"sold_out",children:"Sold Out"}),n.jsx("option",{value:"archived",children:"Archived"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Images"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"url",value:f,onChange:j=>p(j.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter image URL"}),n.jsx("button",{type:"button",onClick:v,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:n.jsx(zt,{className:"w-5 h-5"})})]}),d.images.length>0&&n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:d.images.map((j,N)=>n.jsxs("div",{className:"relative group",children:[n.jsx("img",{src:j,alt:`Product ${N+1}`,className:"w-full h-24 object-cover rounded-lg"}),n.jsx("button",{type:"button",onClick:()=>k(N),className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(ft,{className:"w-4 h-4"})})]},N))})]})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("button",{type:"button",onClick:t,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:l,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Saving...":e?"Update Product":"Create Product"})]})]})]})]})},xy=({onProductSelect:e,onBack:t,onAddToCart:r})=>{const[s,a]=w.useState([]),[i,l]=w.useState(null),[o,c]=w.useState([]),[u,d]=w.useState(!0),[h,f]=w.useState("grid");w.useEffect(()=>{p()},[]),w.useEffect(()=>{i&&m()},[i]);const p=async()=>{try{const{data:v,error:k}=await O.from("categories").select("*").eq("type","product").order("name");if(k)throw k;a(v||[])}catch(v){console.error("Error loading categories:",v)}finally{d(!1)}},m=async()=>{if(i){d(!0);try{const{data:v,error:k}=await O.from("products").select("*").eq("category_id",i.id).eq("status","active").order("created_at",{ascending:!1});if(k)throw k;c(v||[])}catch(v){console.error("Error loading products:",v)}finally{d(!1)}}};return u&&!i?n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 dark:border-blue-400"})})}):i?n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("button",{onClick:()=>l(null),className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-6 transition-colors",children:[n.jsx(ze,{className:"w-5 h-5 mr-2"}),"Back to Categories"]}),n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:i.name}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:[o.length," ",o.length===1?"product":"products"," found"]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>f("grid"),className:`p-2 rounded-lg transition-colors ${h==="grid"?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400"}`,children:n.jsx(Ux,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>f("list"),className:`p-2 rounded-lg transition-colors ${h==="list"?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400"}`,children:n.jsx(Pl,{className:"w-5 h-5"})})]})]}),u?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 dark:border-blue-400"})}):o.length===0?n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-12 text-center",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No products in this category yet"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Check back later for new items"})]}):n.jsx("div",{className:h==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",children:o.map(v=>n.jsx(Fo,{product:v,onViewDetails:e,onAddToCart:r},v.id))})]}):n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("button",{onClick:t,className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-6 transition-colors",children:[n.jsx(ze,{className:"w-5 h-5 mr-2"}),"Back to Marketplace"]}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-8",children:"Browse by Category"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:s.map(v=>n.jsxs("button",{onClick:()=>l(v),className:"p-6 bg-white dark:bg-gray-800 rounded-lg shadow-sm hover:shadow-md transition-all border border-gray-200 dark:border-gray-700 group",children:[n.jsx("div",{className:"text-4xl mb-4",children:""}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:v.name}),v.description&&n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:v.description})]},v.id))})]})},yy=({onProductSelect:e,onBack:t,onAddToCart:r})=>{const[s,a]=w.useState([]),[i,l]=w.useState(!0);w.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:c,error:u}=await O.from("products").select("*").eq("status","active").gt("stock",0).order("price",{ascending:!0}).limit(50);if(u)throw u;a(c||[])}catch(c){console.error("Error loading deals:",c)}finally{l(!1)}};return i?n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 dark:border-blue-400"})})}):n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("button",{onClick:t,className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-6 transition-colors",children:[n.jsx(ze,{className:"w-5 h-5 mr-2"}),"Back to Marketplace"]}),n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx(Ol,{className:"w-8 h-8 text-orange-600 dark:text-orange-400"}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Deals & Discounts"})]}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[s.length," great deals available now"]})]}),n.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 rounded-lg p-6 mb-8 text-white",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Limited Time Offers"}),n.jsx("p",{className:"text-orange-100",children:"Save big on selected items. Don't miss out!"})]}),n.jsx(mf,{className:"w-16 h-16 opacity-50"})]})}),s.length===0?n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-12 text-center",children:[n.jsx(Ol,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No deals available right now"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Check back soon for amazing offers!"})]}):n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:s.map(c=>n.jsxs("div",{className:"relative",children:[c.price<50&&n.jsx("div",{className:"absolute top-2 left-2 z-10 bg-red-500 text-white px-3 py-1 rounded-full text-xs font-bold",children:"HOT DEAL"}),n.jsx(Fo,{product:c,onViewDetails:e,onAddToCart:r})]},c.id))})]})},vy=({job:e,onViewDetails:t})=>{var a;const r=i=>({full_time:"Full Time",part_time:"Part Time",contract:"Contract",freelance:"Freelance"})[i]||i,s=i=>({full_time:"bg-green-100 text-green-700",part_time:"bg-blue-100 text-blue-700",contract:"bg-orange-100 text-orange-700",freelance:"bg-purple-100 text-purple-700"})[i]||"bg-gray-100 text-gray-700";return n.jsxs("div",{className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow p-6 border border-gray-100",children:[n.jsx("div",{className:"flex justify-between items-start mb-4",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:e.title}),n.jsxs("div",{className:"flex items-center text-gray-600 text-sm space-x-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Io,{className:"w-4 h-4 mr-1"}),e.location]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(rt,{className:"w-4 h-4 mr-1"}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s(e.job_type)}`,children:r(e.job_type)})]})]})]})}),n.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:e.description}),(e.salary_min||e.salary_max)&&n.jsxs("div",{className:"flex items-center text-gray-700 font-medium mb-4",children:[n.jsx(Yr,{className:"w-5 h-5 mr-1 text-green-600"}),e.salary_min&&e.salary_max?`$${e.salary_min.toLocaleString()} - $${e.salary_max.toLocaleString()}`:e.salary_min?`From $${e.salary_min.toLocaleString()}`:`Up to $${(a=e.salary_max)==null?void 0:a.toLocaleString()}`]}),e.requirements&&e.requirements.length>0&&n.jsxs("div",{className:"mb-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Requirements:"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.requirements.slice(0,3).map((i,l)=>n.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:i},l)),e.requirements.length>3&&n.jsxs("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:["+",e.requirements.length-3," more"]})]})]}),n.jsx("button",{onClick:()=>t(e),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"View Details"})]})},by=({onJobSelect:e,onAddJob:t})=>{const{profile:r}=W(),[s,a]=w.useState([]),[i,l]=w.useState([]),[o,c]=w.useState(!0),[u,d]=w.useState(""),[h,f]=w.useState("all"),[p,m]=w.useState("all");w.useEffect(()=>{v()},[]);const v=async()=>{c(!0),await Promise.all([k(),g()]),c(!1)},k=async()=>{try{const{data:j,error:N}=await O.from("jobs").select("*").eq("status","open").order("created_at",{ascending:!1});if(N)throw N;a(j||[])}catch(j){console.error("Error loading jobs:",j)}},g=async()=>{try{const{data:j,error:N}=await O.from("categories").select("*").eq("type","job").order("name");if(N)throw N;l(j||[])}catch(j){console.error("Error loading categories:",j)}},x=[{value:"all",label:"All Types"},{value:"full_time",label:"Full Time"},{value:"part_time",label:"Part Time"},{value:"contract",label:"Contract"},{value:"freelance",label:"Freelance"}],y=s.filter(j=>{const N=j.title.toLowerCase().includes(u.toLowerCase())||j.description.toLowerCase().includes(u.toLowerCase())||j.location.toLowerCase().includes(u.toLowerCase()),_=h==="all"||j.category_id===h,E=p==="all"||j.job_type===p;return N&&_&&E}),b=r==null?void 0:r.roles.includes("employer");return o?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Job Board"}),n.jsx("p",{className:"text-gray-600",children:"Find your next career opportunity"})]}),b&&n.jsxs("button",{onClick:t,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[n.jsx(zt,{className:"w-5 h-5 mr-2"}),"Post Job"]})]}),n.jsxs("div",{className:"mb-6 space-y-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Search jobs by title, description, or location...",value:u,onChange:j=>d(j.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{className:"flex items-center space-x-4 overflow-x-auto pb-2",children:[n.jsx(Ix,{className:"text-gray-400 w-5 h-5 flex-shrink-0"}),x.map(j=>n.jsx("button",{onClick:()=>m(j.value),className:`px-4 py-2 rounded-lg font-medium whitespace-nowrap transition-colors ${p===j.value?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:j.label},j.value))]}),n.jsxs("div",{className:"flex items-center space-x-4 overflow-x-auto pb-2",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700 flex-shrink-0",children:"Categories:"}),n.jsx("button",{onClick:()=>f("all"),className:`px-4 py-2 rounded-lg font-medium whitespace-nowrap transition-colors ${h==="all"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All"}),i.map(j=>n.jsx("button",{onClick:()=>f(j.id),className:`px-4 py-2 rounded-lg font-medium whitespace-nowrap transition-colors ${h===j.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:j.name},j.id))]})]}),y.length===0?n.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[n.jsx("p",{className:"text-gray-600 mb-4",children:s.length===0?"No job openings available yet":"No jobs match your search criteria"}),b&&s.length===0&&n.jsx("button",{onClick:t,className:"text-blue-600 hover:text-blue-700 font-medium",children:"Be the first to post a job"})]}):n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:y.map(j=>n.jsx(vy,{job:j,onViewDetails:e},j.id))})]})},wy=({job:e,onBack:t})=>{var C;const{profile:r}=W(),[s,a]=w.useState(null),[i,l]=w.useState(!0),[o,c]=w.useState(!1),[u,d]=w.useState(!1),[h,f]=w.useState(""),[p,m]=w.useState(""),[v,k]=w.useState(!1),[g,x]=w.useState("");w.useEffect(()=>{y()},[e.id]);const y=async()=>{l(!0),await Promise.all([b(),j()]),l(!1)},b=async()=>{try{const{data:L,error:z}=await O.from("profiles").select("*").eq("id",e.employer_id).maybeSingle();if(z)throw z;a(L)}catch(L){console.error("Error loading employer:",L)}},j=async()=>{if(r)try{const{data:L,error:z}=await O.from("job_applications").select("id").eq("job_id",e.id).eq("applicant_id",r.id).maybeSingle();if(z&&z.code!=="PGRST116")throw z;d(!!L)}catch(L){console.error("Error checking application:",L)}},N=async L=>{L.preventDefault(),x(""),c(!0);try{const{error:z}=await O.from("job_applications").insert({job_id:e.id,applicant_id:r.id,cover_letter:h,resume_url:p||null});if(z)throw z;k(!0),d(!0)}catch(z){x(z.message||"Failed to submit application")}finally{c(!1)}},_=L=>({full_time:"Full Time",part_time:"Part Time",contract:"Contract",freelance:"Freelance"})[L]||L,E=L=>({full_time:"bg-green-100 text-green-700",part_time:"bg-blue-100 text-blue-700",contract:"bg-orange-100 text-orange-700",freelance:"bg-purple-100 text-purple-700"})[L]||"bg-gray-100 text-gray-700",D=r==null?void 0:r.roles.includes("job_seeker");return i?n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("button",{onClick:t,className:"flex items-center text-gray-600 hover:text-gray-900 mb-6",children:[n.jsx(ze,{className:"w-5 h-5 mr-2"}),"Back to Jobs"]}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:n.jsxs("div",{className:"p-6 lg:p-8",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:e.title}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-gray-600 mb-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Io,{className:"w-5 h-5 mr-2"}),e.location]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(rt,{className:"w-5 h-5 mr-2"}),n.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${E(e.job_type)}`,children:_(e.job_type)})]})]}),(e.salary_min||e.salary_max)&&n.jsxs("div",{className:"flex items-center text-lg font-medium text-gray-900 mb-6",children:[n.jsx(Yr,{className:"w-6 h-6 mr-1 text-green-600"}),e.salary_min&&e.salary_max?`$${e.salary_min.toLocaleString()} - $${e.salary_max.toLocaleString()}`:e.salary_min?`From $${e.salary_min.toLocaleString()}`:`Up to $${(C=e.salary_max)==null?void 0:C.toLocaleString()}`]})]}),s&&n.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Posted by"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mr-3",children:n.jsx(hr,{className:"w-6 h-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:s.full_name}),s.location&&n.jsx("p",{className:"text-sm text-gray-600",children:s.location})]})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Job Description"}),n.jsx("p",{className:"text-gray-600 whitespace-pre-line",children:e.description})]}),e.requirements&&e.requirements.length>0&&n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Requirements"}),n.jsx("ul",{className:"list-disc list-inside space-y-2 text-gray-600",children:e.requirements.map((L,z)=>n.jsx("li",{children:L},z))})]}),D&&e.status==="open"&&n.jsx("div",{className:"border-t border-gray-200 pt-6",children:u?n.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-center",children:n.jsx("p",{className:"text-green-800 font-medium",children:"You have already applied for this position"})}):v?n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 text-center",children:[n.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-2",children:"Application Submitted!"}),n.jsx("p",{className:"text-green-800",children:"Your application has been sent to the employer. Good luck!"})]}):n.jsxs("form",{onSubmit:N,className:"space-y-4",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Apply for this Position"}),g&&n.jsx("div",{className:"p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:g}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"coverLetter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Cover Letter *"}),n.jsx("textarea",{id:"coverLetter",value:h,onChange:L=>f(L.target.value),required:!0,rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Tell the employer why you're the perfect fit for this role..."})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"resumeUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:"Resume URL (optional)"}),n.jsx("input",{id:"resumeUrl",type:"url",value:p,onChange:L=>m(L.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://example.com/your-resume.pdf"})]}),n.jsxs("button",{type:"submit",disabled:o,className:"w-full flex items-center justify-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(vf,{className:"w-5 h-5 mr-2"}),o?"Submitting...":"Submit Application"]})]})}),!D&&n.jsx("div",{className:"border-t border-gray-200 pt-6",children:n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-center",children:n.jsx("p",{className:"text-yellow-800",children:'You need to have the "Job Seeker" role to apply for jobs'})})})]})})]})},wu=({job:e,onBack:t,onSuccess:r})=>{var x,y;const{profile:s}=W(),[a,i]=w.useState([]),[l,o]=w.useState(!1),[c,u]=w.useState(""),[d,h]=w.useState({title:(e==null?void 0:e.title)||"",description:(e==null?void 0:e.description)||"",location:(e==null?void 0:e.location)||"",job_type:(e==null?void 0:e.job_type)||"full_time",salary_min:((x=e==null?void 0:e.salary_min)==null?void 0:x.toString())||"",salary_max:((y=e==null?void 0:e.salary_max)==null?void 0:y.toString())||"",category_id:(e==null?void 0:e.category_id)||"",status:(e==null?void 0:e.status)||"open",requirements:(e==null?void 0:e.requirements)||[]}),[f,p]=w.useState("");w.useEffect(()=>{m()},[]);const m=async()=>{try{const{data:b,error:j}=await O.from("categories").select("*").eq("type","job").order("name");if(j)throw j;i(b||[])}catch(b){console.error("Error loading categories:",b)}},v=()=>{f.trim()&&(h({...d,requirements:[...d.requirements,f.trim()]}),p(""))},k=b=>{h({...d,requirements:d.requirements.filter((j,N)=>N!==b)})},g=async b=>{b.preventDefault(),u(""),o(!0);try{const j={employer_id:s.id,title:d.title,description:d.description,location:d.location,job_type:d.job_type,salary_min:d.salary_min?parseFloat(d.salary_min):null,salary_max:d.salary_max?parseFloat(d.salary_max):null,category_id:d.category_id||null,status:d.status,requirements:d.requirements};if(e){const{error:N}=await O.from("jobs").update(j).eq("id",e.id);if(N)throw N}else{const{error:N}=await O.from("jobs").insert(j);if(N)throw N}r()}catch(j){u(j.message||"Failed to save job posting")}finally{o(!1)}};return n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("button",{onClick:t,className:"flex items-center text-gray-600 hover:text-gray-900 mb-6",children:[n.jsx(ze,{className:"w-5 h-5 mr-2"}),"Back"]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 lg:p-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:e?"Edit Job Posting":"Post New Job"}),c&&n.jsx("div",{className:"mb-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded",children:c}),n.jsxs("form",{onSubmit:g,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Job Title *"}),n.jsx("input",{id:"title",type:"text",value:d.title,onChange:b=>h({...d,title:b.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g. Senior Software Engineer"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Job Description *"}),n.jsx("textarea",{id:"description",value:d.description,onChange:b=>h({...d,description:b.target.value}),required:!0,rows:8,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Describe the role, responsibilities, and what makes this opportunity great..."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:"Location *"}),n.jsx("input",{id:"location",type:"text",value:d.location,onChange:b=>h({...d,location:b.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g. San Francisco, CA or Remote"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"job_type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Job Type *"}),n.jsxs("select",{id:"job_type",value:d.job_type,onChange:b=>h({...d,job_type:b.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"full_time",children:"Full Time"}),n.jsx("option",{value:"part_time",children:"Part Time"}),n.jsx("option",{value:"contract",children:"Contract"}),n.jsx("option",{value:"freelance",children:"Freelance"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"salary_min",className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Salary ($)"}),n.jsx("input",{id:"salary_min",type:"number",min:"0",value:d.salary_min,onChange:b=>h({...d,salary_min:b.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g. 80000"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"salary_max",className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum Salary ($)"}),n.jsx("input",{id:"salary_max",type:"number",min:"0",value:d.salary_max,onChange:b=>h({...d,salary_max:b.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g. 120000"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),n.jsxs("select",{id:"category",value:d.category_id,onChange:b=>h({...d,category_id:b.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Select a category"}),a.map(b=>n.jsx("option",{value:b.id,children:b.name},b.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status *"}),n.jsxs("select",{id:"status",value:d.status,onChange:b=>h({...d,status:b.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"open",children:"Open"}),n.jsx("option",{value:"closed",children:"Closed"}),n.jsx("option",{value:"filled",children:"Filled"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Requirements"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",value:f,onChange:b=>p(b.target.value),onKeyPress:b=>b.key==="Enter"&&(b.preventDefault(),v()),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Add a requirement..."}),n.jsx("button",{type:"button",onClick:v,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:n.jsx(zt,{className:"w-5 h-5"})})]}),d.requirements.length>0&&n.jsx("ul",{className:"space-y-2",children:d.requirements.map((b,j)=>n.jsxs("li",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsx("span",{className:"text-gray-700",children:b}),n.jsx("button",{type:"button",onClick:()=>k(j),className:"p-1 text-red-500 hover:bg-red-50 rounded",children:n.jsx(ft,{className:"w-4 h-4"})})]},j))})]})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("button",{type:"button",onClick:t,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:l,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Saving...":e?"Update Job":"Post Job"})]})]})]})]})},ky=({onViewChange:e})=>{const{profile:t}=W(),r=()=>{const i=[];return t!=null&&t.roles.includes("seller")&&i.push({title:"My Products",description:"Manage your product listings",icon:ht,color:"blue",action:"my-products",stats:"View and edit your products"}),t!=null&&t.roles.includes("buyer")&&i.push({title:"My Orders",description:"Track your purchases",icon:Je,color:"green",action:"my-orders",stats:"View order history"}),t!=null&&t.roles.includes("employer")&&i.push({title:"My Job Posts",description:"Manage job listings",icon:rt,color:"orange",action:"my-jobs",stats:"View and edit job posts"}),t!=null&&t.roles.includes("job_seeker")&&i.push({title:"My Applications",description:"Track job applications",icon:ir,color:"purple",action:"my-applications",stats:"View application status"}),i.push({title:"Messages",description:"Your conversations",icon:Mo,color:"gray",action:"messages",stats:"View all messages"}),i},s=i=>{const l={blue:"bg-blue-50 text-blue-600",green:"bg-green-50 text-green-600",orange:"bg-orange-50 text-orange-600",purple:"bg-purple-50 text-purple-600",gray:"bg-gray-50 text-gray-600"};return l[i]||l.gray},a=r();return n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Welcome back, ",t==null?void 0:t.full_name,"!"]}),n.jsx("p",{className:"text-gray-600",children:"Manage your activities across the platform"})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Your Roles"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:t==null?void 0:t.roles.map(i=>n.jsx("span",{className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-full font-medium text-sm",children:i.replace("_"," ").charAt(0).toUpperCase()+i.replace("_"," ").slice(1)},i))})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(i=>{const l=i.icon;return n.jsxs("button",{onClick:()=>e(i.action),className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-all p-6 text-left border border-gray-100",children:[n.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center mb-4 ${s(i.color)}`,children:n.jsx(l,{className:"w-6 h-6"})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:i.title}),n.jsx("p",{className:"text-gray-600 text-sm mb-3",children:i.description}),n.jsx("p",{className:"text-sm text-gray-500",children:i.stats})]},i.action)})}),n.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow-sm p-6 border border-gray-100",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Quick Actions"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(t==null?void 0:t.roles.includes("seller"))&&n.jsx("button",{onClick:()=>e("marketplace"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium text-left",children:"Add New Product"}),(t==null?void 0:t.roles.includes("employer"))&&n.jsx("button",{onClick:()=>e("jobs"),className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium text-left",children:"Post New Job"}),n.jsx("button",{onClick:()=>e("marketplace"),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium text-left",children:"Browse Marketplace"}),n.jsx("button",{onClick:()=>e("jobs"),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium text-left",children:"Browse Jobs"})]})]})]})},jy=({onCheckout:e,onContinueShopping:t})=>{const{items:r,removeItem:s,updateQuantity:a,totalItems:i,totalPrice:l}=pr();return r.length===0?n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[n.jsx(vt,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Your cart is empty"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Add some products to get started!"}),n.jsx("button",{onClick:t,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Browse Marketplace"})]})}):n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Shopping Cart"}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsx("div",{className:"lg:col-span-2 space-y-4",children:r.map(o=>n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 flex gap-6",children:[n.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-lg overflow-hidden flex-shrink-0",children:n.jsx("img",{src:o.product.images[0]||"https://images.pexels.com/photos/230544/pexels-photo-230544.jpeg?auto=compress&cs=tinysrgb&w=200",alt:o.product.title,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:o.product.title}),n.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:o.product.description}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:()=>a(o.product.id,o.quantity-1),className:"p-1 rounded bg-gray-100 hover:bg-gray-200 transition-colors",children:n.jsx(Hx,{className:"w-4 h-4"})}),n.jsx("span",{className:"w-12 text-center font-medium",children:o.quantity}),n.jsx("button",{onClick:()=>a(o.product.id,o.quantity+1),disabled:o.quantity>=o.product.stock,className:"p-1 rounded bg-gray-100 hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(zt,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("span",{className:"text-xl font-bold text-gray-900",children:["$",(o.product.price*o.quantity).toFixed(2)]}),n.jsx("button",{onClick:()=>s(o.product.id),className:"p-2 text-red-500 hover:bg-red-50 rounded transition-colors",children:n.jsx(Do,{className:"w-5 h-5"})})]})]}),o.quantity>=o.product.stock&&n.jsx("p",{className:"text-sm text-orange-600 mt-2",children:"Maximum available quantity reached"})]})]},o.product.id))}),n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 sticky top-24",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Order Summary"}),n.jsxs("div",{className:"space-y-3 mb-6",children:[n.jsxs("div",{className:"flex justify-between text-gray-600",children:[n.jsxs("span",{children:["Items (",i,")"]}),n.jsxs("span",{children:["$",l.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between text-gray-600",children:[n.jsx("span",{children:"Shipping"}),n.jsx("span",{children:"Calculated at checkout"})]}),n.jsxs("div",{className:"border-t border-gray-200 pt-3 flex justify-between text-lg font-bold",children:[n.jsx("span",{children:"Subtotal"}),n.jsxs("span",{children:["$",l.toFixed(2)]})]})]}),n.jsx("button",{onClick:e,className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium mb-3",children:"Proceed to Checkout"}),n.jsx("button",{onClick:t,className:"w-full px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Continue Shopping"})]})})]})]})},Ny=({onBack:e,onSuccess:t})=>{const{items:r,totalPrice:s,clearCart:a}=pr(),{profile:i}=W(),[l,o]=w.useState(!1),[c,u]=w.useState(""),[d,h]=w.useState({fullName:(i==null?void 0:i.full_name)||"",address:"",city:"",state:"",zipCode:"",country:"",phone:(i==null?void 0:i.phone)||""}),f=async p=>{p.preventDefault(),u(""),o(!0);try{const m={buyer_id:i.id,total_amount:s,status:"pending",shipping_address:d},{data:v,error:k}=await O.from("orders").insert(m).select().single();if(k)throw k;const g=r.map(y=>({order_id:v.id,product_id:y.product.id,quantity:y.quantity,price:y.product.price})),{error:x}=await O.from("order_items").insert(g);if(x)throw x;for(const y of r){const{error:b}=await O.from("products").update({stock:y.product.stock-y.quantity}).eq("id",y.product.id);if(b)throw b}a(),t()}catch(m){u(m.message||"Failed to place order")}finally{o(!1)}};return n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("button",{onClick:e,className:"flex items-center text-gray-600 hover:text-gray-900 mb-6",children:[n.jsx(ze,{className:"w-5 h-5 mr-2"}),"Back to Cart"]}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Checkout"}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Shipping Information"}),c&&n.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:c}),n.jsxs("form",{onSubmit:f,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),n.jsx("input",{id:"fullName",type:"text",value:d.fullName,onChange:p=>h({...d,fullName:p.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:"Address *"}),n.jsx("input",{id:"address",type:"text",value:d.address,onChange:p=>h({...d,address:p.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),n.jsx("input",{id:"city",type:"text",value:d.city,onChange:p=>h({...d,city:p.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 mb-1",children:"State/Province *"}),n.jsx("input",{id:"state",type:"text",value:d.state,onChange:p=>h({...d,state:p.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP/Postal Code *"}),n.jsx("input",{id:"zipCode",type:"text",value:d.zipCode,onChange:p=>h({...d,zipCode:p.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 mb-1",children:"Country *"}),n.jsx("input",{id:"country",type:"text",value:d.country,onChange:p=>h({...d,country:p.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),n.jsx("input",{id:"phone",type:"tel",value:d.phone,onChange:p=>h({...d,phone:p.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsx("div",{className:"pt-4",children:n.jsxs("button",{type:"submit",disabled:l,className:"w-full flex items-center justify-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(Ax,{className:"w-5 h-5 mr-2"}),l?"Processing...":"Place Order"]})})]})]})}),n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 sticky top-24",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Order Summary"}),n.jsxs("div",{className:"space-y-3 mb-6",children:[r.map(p=>n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{className:"text-gray-600",children:[p.product.title," x ",p.quantity]}),n.jsxs("span",{className:"text-gray-900 font-medium",children:["$",(p.product.price*p.quantity).toFixed(2)]})]},p.product.id)),n.jsxs("div",{className:"border-t border-gray-200 pt-3 flex justify-between text-lg font-bold",children:[n.jsx("span",{children:"Total"}),n.jsxs("span",{children:["$",s.toFixed(2)]})]})]}),n.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[n.jsx("p",{children:"Payment will be processed securely"}),n.jsx("p",{children:"You will receive an order confirmation email"})]})]})})]})]})},_y=({onAddProduct:e,onEditProduct:t,onViewProduct:r})=>{const{profile:s}=W(),[a,i]=w.useState([]),[l,o]=w.useState(!0);w.useEffect(()=>{c()},[]);const c=async()=>{o(!0);try{const{data:h,error:f}=await O.from("products").select("*").eq("seller_id",s.id).order("created_at",{ascending:!1});if(f)throw f;i(h||[])}catch(h){console.error("Error loading products:",h)}finally{o(!1)}},u=async h=>{if(confirm("Are you sure you want to delete this product?"))try{const{error:f}=await O.from("products").delete().eq("id",h);if(f)throw f;c()}catch(f){alert("Failed to delete product: "+f.message)}},d=h=>{const f={active:"bg-green-100 text-green-700",draft:"bg-gray-100 text-gray-700",sold_out:"bg-red-100 text-red-700",archived:"bg-yellow-100 text-yellow-700"};return f[h]||f.draft};return l?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Products"}),n.jsx("p",{className:"text-gray-600",children:"Manage your product listings"})]}),n.jsxs("button",{onClick:e,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[n.jsx(zt,{className:"w-5 h-5 mr-2"}),"Add Product"]})]}),a.length===0?n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[n.jsx("p",{className:"text-gray-600 mb-4",children:"You haven't listed any products yet"}),n.jsx("button",{onClick:e,className:"text-blue-600 hover:text-blue-700 font-medium",children:"Create your first product listing"})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(h=>n.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden border border-gray-100",children:[n.jsxs("div",{className:"relative h-48 bg-gray-200",children:[n.jsx("img",{src:h.images[0]||"https://images.pexels.com/photos/230544/pexels-photo-230544.jpeg?auto=compress&cs=tinysrgb&w=400",alt:h.title,className:"w-full h-full object-cover"}),n.jsx("span",{className:`absolute top-2 right-2 px-3 py-1 rounded-full text-xs font-medium ${d(h.status)}`,children:h.status})]}),n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 line-clamp-1",children:h.title}),n.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:h.description}),n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("span",{className:"text-xl font-bold text-gray-900",children:["$",h.price.toFixed(2)]}),n.jsxs("span",{className:"text-sm text-gray-600",children:["Stock: ",h.stock]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>r(h),className:"flex-1 px-3 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm font-medium flex items-center justify-center",children:[n.jsx(nn,{className:"w-4 h-4 mr-1"}),"View"]}),n.jsxs("button",{onClick:()=>t(h),className:"flex-1 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium flex items-center justify-center",children:[n.jsx(Kx,{className:"w-4 h-4 mr-1"}),"Edit"]}),n.jsx("button",{onClick:()=>u(h.id),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm font-medium",children:n.jsx(Do,{className:"w-4 h-4"})})]})]})]},h.id))})]})},Sy=()=>{const{profile:e}=W(),[t,r]=w.useState([]),[s,a]=w.useState(!0);w.useEffect(()=>{i()},[]);const i=async()=>{try{const{data:o,error:c}=await O.from("orders").select(`
          *,
          order_items (
            id,
            quantity,
            price,
            product:products (title)
          )
        `).eq("buyer_id",e.id).order("created_at",{ascending:!1});if(c)throw c;r(o||[])}catch(o){console.error("Error loading orders:",o)}finally{a(!1)}},l=o=>{const c={pending:"bg-yellow-100 text-yellow-700",processing:"bg-blue-100 text-blue-700",shipped:"bg-purple-100 text-purple-700",delivered:"bg-green-100 text-green-700",cancelled:"bg-red-100 text-red-700"};return c[o]||c.pending};return s?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Orders"}),n.jsx("p",{className:"text-gray-600",children:"Track your purchase history"})]}),t.length===0?n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[n.jsx(Je,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"You haven't placed any orders yet"})]}):n.jsx("div",{className:"space-y-4",children:t.map(o=>n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-gray-600",children:["Order placed: ",new Date(o.created_at).toLocaleDateString()]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Order ID: ",o.id.slice(0,8)]})]}),n.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${l(o.status)}`,children:o.status})]}),n.jsx("div",{className:"border-t border-gray-200 pt-4 mb-4",children:o.order_items.map(c=>n.jsxs("div",{className:"flex justify-between py-2",children:[n.jsxs("span",{className:"text-gray-700",children:[c.product.title," x ",c.quantity]}),n.jsxs("span",{className:"font-medium",children:["$",(c.price*c.quantity).toFixed(2)]})]},c.id))}),n.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[n.jsx("span",{className:"text-lg font-semibold",children:"Total"}),n.jsxs("span",{className:"text-lg font-bold",children:["$",o.total_amount.toFixed(2)]})]})]},o.id))})]})},Cy=({onEditJob:e,onViewApplications:t})=>{const{profile:r}=W(),[s,a]=w.useState([]),[i,l]=w.useState(!0);w.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:c,error:u}=await O.from("jobs").select("*").eq("employer_id",r.id).order("created_at",{ascending:!1});if(u)throw u;const d=await Promise.all((c||[]).map(async h=>{const{count:f}=await O.from("job_applications").select("*",{count:"exact",head:!0}).eq("job_id",h.id);return{...h,applications_count:f||0}}));a(d)}catch(c){console.error("Error loading jobs:",c)}finally{l(!1)}};return i?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Job Postings"}),n.jsx("p",{className:"text-gray-600",children:"Manage your job listings"})]}),s.length===0?n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[n.jsx(rt,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"You haven't posted any jobs yet"})]}):n.jsx("div",{className:"space-y-4",children:s.map(c=>n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:c.title}),n.jsx("p",{className:"text-gray-600",children:c.location})]}),n.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${c.status==="open"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:c.status})]}),n.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:c.description}),n.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[n.jsxs("span",{className:"text-sm text-gray-600",children:[c.applications_count," applications"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>t(c),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm font-medium",children:"View Applications"}),n.jsx("button",{onClick:()=>e(c),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"Edit Job"})]})]})]},c.id))})]})},Ey=()=>{const{profile:e}=W(),[t,r]=w.useState([]),[s,a]=w.useState(!0);w.useEffect(()=>{i()},[]);const i=async()=>{try{const{data:o,error:c}=await O.from("job_applications").select(`
          *,
          job:jobs (title, location)
        `).eq("applicant_id",e.id).order("created_at",{ascending:!1});if(c)throw c;r(o||[])}catch(o){console.error("Error loading applications:",o)}finally{a(!1)}},l=o=>{const c={pending:"bg-yellow-100 text-yellow-700",reviewed:"bg-blue-100 text-blue-700",shortlisted:"bg-purple-100 text-purple-700",accepted:"bg-green-100 text-green-700",rejected:"bg-red-100 text-red-700"};return c[o]||c.pending};return s?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Applications"}),n.jsx("p",{className:"text-gray-600",children:"Track your job applications"})]}),t.length===0?n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[n.jsx(Rx,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"You haven't applied to any jobs yet"})]}):n.jsx("div",{className:"space-y-4",children:t.map(o=>n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:o.job.title}),n.jsx("p",{className:"text-gray-600",children:o.job.location}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Applied: ",new Date(o.created_at).toLocaleDateString()]})]}),n.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${l(o.status)}`,children:o.status})]}),n.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Cover Letter:"}),n.jsx("p",{className:"text-gray-600 line-clamp-3",children:o.cover_letter})]})]},o.id))})]})},Py=()=>{const{themeMode:e,setThemeMode:t,colorScheme:r,setColorScheme:s}=of(),{profile:a}=W(),[i,l]=w.useState(!1),[o,c]=w.useState(""),[u,d]=w.useState({emailNotifications:!0,notificationTypes:{orders:!0,messages:!0,applications:!0,price_drops:!0,new_listings:!0}}),h=[{value:"light",label:"Light",icon:Tl},{value:"dark",label:"Dark",icon:yf},{value:"system",label:"System",icon:xf}],f=[{value:"blue",label:"Blue",color:"bg-blue-500"},{value:"green",label:"Green",color:"bg-green-500"},{value:"purple",label:"Purple",color:"bg-purple-500"},{value:"orange",label:"Orange",color:"bg-orange-500"},{value:"red",label:"Red",color:"bg-red-500"}],p=async()=>{l(!0),c("");try{const{error:m}=await O.from("user_preferences").upsert({user_id:a==null?void 0:a.id,email_notifications:u.emailNotifications,notification_types:u.notificationTypes,updated_at:new Date().toISOString()});if(m)throw m;c("Preferences saved successfully!"),setTimeout(()=>c(""),3e3)}catch(m){c("Error saving preferences"),console.error("Error:",m)}finally{l(!1)}};return n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx(Uo,{className:"w-8 h-8 text-blue-600 dark:text-blue-400 mr-3"}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Settings"})]}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your account preferences and settings"})]}),o&&n.jsx("div",{className:"mb-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:n.jsx("p",{className:"text-green-800 dark:text-green-200",children:o})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx(hr,{className:"w-5 h-5 text-gray-600 dark:text-gray-400 mr-2"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Account Information"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Full Name"}),n.jsx("p",{className:"text-gray-900 dark:text-white",children:a==null?void 0:a.full_name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),n.jsx("p",{className:"text-gray-900 dark:text-white",children:a==null?void 0:a.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Roles"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:a==null?void 0:a.roles.map(m=>n.jsx("span",{className:"px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-sm rounded-full",children:m.replace("_"," ")},m))})]})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx(Tl,{className:"w-5 h-5 text-gray-600 dark:text-gray-400 mr-2"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Appearance"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Theme Mode"}),n.jsx("div",{className:"grid grid-cols-3 gap-3",children:h.map(m=>{const v=m.icon;return n.jsxs("button",{onClick:()=>t(m.value),className:`flex flex-col items-center p-4 rounded-lg border-2 transition-all ${e===m.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[n.jsx(v,{className:`w-6 h-6 mb-2 ${e===m.value?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`}),n.jsx("span",{className:`text-sm font-medium ${e===m.value?"text-blue-600 dark:text-blue-400":"text-gray-700 dark:text-gray-300"}`,children:m.label})]},m.value)})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Accent Color"}),n.jsx("div",{className:"grid grid-cols-5 gap-3",children:f.map(m=>n.jsxs("button",{onClick:()=>s(m.value),className:`flex flex-col items-center p-3 rounded-lg border-2 transition-all ${r===m.value?"border-gray-900 dark:border-white":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[n.jsx("div",{className:`w-8 h-8 rounded-full ${m.color} mb-2`}),n.jsx("span",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:m.label})]},m.value))})]})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx(qn,{className:"w-5 h-5 text-gray-600 dark:text-gray-400 mr-2"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Notifications"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ro,{className:"w-5 h-5 text-gray-500 dark:text-gray-400 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Email Notifications"}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Receive notifications via email"})]})]}),n.jsx("button",{onClick:()=>d({...u,emailNotifications:!u.emailNotifications}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${u.emailNotifications?"bg-blue-600":"bg-gray-200 dark:bg-gray-700"}`,children:n.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${u.emailNotifications?"translate-x-6":"translate-x-1"}`})})]}),n.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Notification Types"}),n.jsx("div",{className:"space-y-3",children:Object.entries(u.notificationTypes).map(([m,v])=>n.jsxs("label",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 capitalize",children:m.replace("_"," ")}),n.jsx("input",{type:"checkbox",checked:v,onChange:k=>d({...u,notificationTypes:{...u.notificationTypes,[m]:k.target.checked}}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]},m))})]}),n.jsx("button",{onClick:p,disabled:i,className:"w-full mt-4 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:i?"Saving...":"Save Notification Preferences"})]})]})]})]})},Ty=({onProductSelect:e})=>{const{favoriteProducts:t,removeFavorite:r,loading:s}=Ao(),{addItem:a}=pr(),i=(o,c)=>{c.stopPropagation(),a(o)},l=async(o,c)=>{c.stopPropagation(),await r(o)};return s?n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 dark:border-blue-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading your wishlist..."})]})}):t.length===0?n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-12 text-center",children:[n.jsx(Xr,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Your Wishlist is Empty"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Save items you love by clicking the heart icon on products"}),n.jsx("button",{onClick:()=>window.location.hash="#marketplace",className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Browse Products"})]})}):n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsx("div",{className:"mb-8",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center",children:[n.jsx(Xr,{className:"w-8 h-8 mr-3 text-red-500 fill-red-500"}),"My Wishlist"]}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:[t.length," ",t.length===1?"item":"items"]})]})})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(o=>n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm hover:shadow-md transition-all duration-200 overflow-hidden cursor-pointer group border border-gray-200 dark:border-gray-700",onClick:()=>e(o),children:[n.jsxs("div",{className:"relative aspect-square bg-gray-100 dark:bg-gray-700",children:[o.images&&o.images.length>0?n.jsx("img",{src:o.images[0],alt:o.title,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center",children:n.jsx(vt,{className:"w-16 h-16 text-gray-300 dark:text-gray-600"})}),n.jsx("button",{onClick:c=>l(o.id,c),className:"absolute top-2 right-2 p-2 bg-white dark:bg-gray-800 rounded-full shadow-md hover:shadow-lg transition-all opacity-0 group-hover:opacity-100 border border-gray-200 dark:border-gray-700","aria-label":"Remove from wishlist",children:n.jsx(Do,{className:"w-4 h-4 text-red-500"})}),o.stock===0&&n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:n.jsx("span",{className:"text-white font-semibold text-lg",children:"Out of Stock"})})]}),n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1 line-clamp-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:o.title}),n.jsxs("div",{className:"flex items-center justify-between mt-3",children:[n.jsxs("span",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:["$",o.price.toFixed(2)]}),o.stock>0&&o.stock<=10&&n.jsxs("span",{className:"text-xs text-orange-600 dark:text-orange-400 font-medium",children:["Only ",o.stock," left"]})]}),n.jsxs("div",{className:"flex gap-2 mt-4",children:[n.jsxs("button",{onClick:c=>{c.stopPropagation(),e(o)},className:"flex-1 px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors font-medium text-sm flex items-center justify-center",children:[n.jsx(nn,{className:"w-4 h-4 mr-2"}),"View"]}),o.stock>0&&n.jsxs("button",{onClick:c=>i(o,c),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium text-sm flex items-center justify-center",children:[n.jsx(vt,{className:"w-4 h-4 mr-2"}),"Add"]})]})]})]},o.id))})]})},Oy=({onBack:e})=>{const{user:t}=W(),[r,s]=w.useState([]),[a,i]=w.useState(!0),[l,o]=w.useState("all");w.useEffect(()=>{t&&c()},[t,l]);const c=async()=>{if(t)try{let h=O.from("orders").select("*").eq("buyer_id",t.id).order("created_at",{ascending:!1});l==="completed"?h=h.eq("status","delivered"):l==="cancelled"&&(h=h.eq("status","cancelled"));const{data:f,error:p}=await h;if(p)throw p;s(f||[])}catch(h){console.error("Error loading orders:",h)}finally{i(!1)}},u=h=>{switch(h){case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400";case"confirmed":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400";case"shipped":return"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400";case"delivered":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";case"cancelled":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}},d=h=>new Date(h).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return a?n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 dark:border-blue-400"})})}):n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("button",{onClick:e,className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-6 transition-colors",children:[n.jsx(ze,{className:"w-5 h-5 mr-2"}),"Back to Orders"]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Order History"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>o("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${l==="all"?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300"}`,children:"All Orders"}),n.jsx("button",{onClick:()=>o("completed"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${l==="completed"?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300"}`,children:"Completed"}),n.jsx("button",{onClick:()=>o("cancelled"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${l==="cancelled"?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300"}`,children:"Cancelled"})]})]}),r.length===0?n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-12 text-center",children:[n.jsx(ht,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No orders found"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:l==="all"?"You haven't placed any orders yet":`No ${l} orders`})]}):n.jsx("div",{className:"space-y-4",children:r.map(h=>n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:n.jsx(ht,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Order #",h.id.slice(0,8)]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center gap-2 mt-1",children:[n.jsx(Px,{className:"w-4 h-4"}),d(h.created_at)]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:`inline-flex px-3 py-1 rounded-full text-sm font-medium ${u(h.status)}`,children:h.status.charAt(0).toUpperCase()+h.status.slice(1)}),n.jsxs("p",{className:"text-lg font-bold text-gray-900 dark:text-white mt-2 flex items-center justify-end gap-1",children:[n.jsx(Yr,{className:"w-5 h-5"}),h.total_amount.toFixed(2)]})]})]}),h.shipping_address&&n.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[n.jsx("span",{className:"font-medium",children:"Shipping to:"})," ",h.shipping_address]})}),n.jsxs("div",{className:"mt-4 flex gap-2",children:[n.jsxs("button",{className:"flex-1 px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors font-medium text-sm flex items-center justify-center gap-2",children:[n.jsx(Lx,{className:"w-4 h-4"}),"Download Invoice"]}),h.status==="delivered"&&n.jsx("button",{className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium text-sm",children:"Leave Review"})]})]})},h.id))})]})},Ay=({onViewChange:e})=>{const{user:t}=W(),[r,s]=w.useState({totalRevenue:0,activeListings:0,pendingOrders:0,totalOrders:0,averageRating:0}),[a,i]=w.useState(!0);w.useEffect(()=>{t&&l()},[t]);const l=async()=>{if(t)try{const[c,u]=await Promise.all([O.from("products").select("*").eq("seller_id",t.id).eq("status","active"),O.from("orders").select("*").eq("seller_id",t.id)]),d=c.data||[],h=u.data||[],f=h.filter(m=>m.status==="delivered").reduce((m,v)=>m+v.total_amount,0),p=h.filter(m=>["pending","confirmed","shipped"].includes(m.status)).length;s({totalRevenue:f,activeListings:d.length,pendingOrders:p,totalOrders:h.length,averageRating:4.5})}catch(c){console.error("Error loading dashboard stats:",c)}finally{i(!1)}};if(a)return n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 dark:border-blue-400"})})});const o=[{title:"Total Revenue",value:`$${r.totalRevenue.toFixed(2)}`,icon:Yr,color:"bg-green-500",change:"+12.5%",isPositive:!0},{title:"Active Listings",value:r.activeListings.toString(),icon:Je,color:"bg-blue-500",change:"+3",isPositive:!0},{title:"Pending Orders",value:r.pendingOrders.toString(),icon:ht,color:"bg-orange-500",action:()=>e("my-orders")},{title:"Average Rating",value:r.averageRating.toFixed(1),icon:pa,color:"bg-yellow-500",change:"+0.2",isPositive:!0}];return n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center gap-3",children:[n.jsx(ir,{className:"w-8 h-8 text-teal-600 dark:text-teal-400"}),"Seller Dashboard"]}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Track your sales and manage your store"})]}),n.jsxs("button",{onClick:()=>e("add-product"),className:"px-6 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors font-medium flex items-center gap-2",children:[n.jsx(zt,{className:"w-5 h-5"}),"Add Product"]})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:o.map(c=>{const u=c.icon;return n.jsxs("div",{onClick:c.action,className:`bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 ${c.action?"cursor-pointer hover:shadow-md transition-shadow":""}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:`${c.color} p-3 rounded-lg`,children:n.jsx(u,{className:"w-6 h-6 text-white"})}),c.change&&n.jsxs("div",{className:`flex items-center gap-1 text-sm font-medium ${c.isPositive?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[c.isPositive?n.jsx(ff,{className:"w-4 h-4"}):n.jsx(_x,{className:"w-4 h-4"}),c.change]})]}),n.jsx("h3",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:c.title}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:c.value})]},c.title)})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Actions"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("button",{onClick:()=>e("my-products"),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-900 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors font-medium text-left flex items-center justify-between",children:[n.jsxs("span",{className:"flex items-center gap-3",children:[n.jsx(Je,{className:"w-5 h-5"}),"Manage Products"]}),n.jsxs("span",{className:"text-sm text-gray-500",children:[r.activeListings," items"]})]}),n.jsxs("button",{onClick:()=>e("my-orders"),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-900 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors font-medium text-left flex items-center justify-between",children:[n.jsxs("span",{className:"flex items-center gap-3",children:[n.jsx(ht,{className:"w-5 h-5"}),"View Orders"]}),r.pendingOrders>0&&n.jsxs("span",{className:"px-2 py-1 bg-orange-500 text-white text-xs rounded-full",children:[r.pendingOrders," pending"]})]}),n.jsxs("button",{onClick:()=>e("add-product"),className:"w-full px-4 py-3 bg-teal-50 dark:bg-teal-900/20 text-teal-700 dark:text-teal-300 rounded-lg hover:bg-teal-100 dark:hover:bg-teal-900/30 transition-colors font-medium text-left flex items-center gap-3",children:[n.jsx(zt,{className:"w-5 h-5"}),"List New Product"]})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Activity"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Order completed - $85.00"}),n.jsx("span",{className:"text-gray-500 text-xs ml-auto",children:"2h ago"})]}),n.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"New order received"}),n.jsx("span",{className:"text-gray-500 text-xs ml-auto",children:"5h ago"})]}),n.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[n.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Product view increased"}),n.jsx("span",{className:"text-gray-500 text-xs ml-auto",children:"1d ago"})]})]})]})]}),n.jsx("div",{className:"bg-gradient-to-r from-teal-500 to-blue-500 rounded-lg p-6 text-white",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Grow Your Business"}),n.jsx("p",{className:"text-teal-100",children:"Optimize your listings and reach more customers"})]}),n.jsx(nn,{className:"w-16 h-16 opacity-50"})]})})]})},Ly=({currentView:e,onViewChange:t,onMenuToggle:r})=>{const{totalItems:s}=pr(),a=[{id:"home",label:"Home",icon:El,view:"home"},{id:"marketplace",label:"Browse",icon:Je,view:"marketplace"},{id:"cart",label:"Cart",icon:vt,view:"cart",badge:s},{id:"messages",label:"Messages",icon:Mo,view:"messages"},{id:"more",label:"More",icon:pf,action:"menu"}],i=l=>{l.action==="menu"?r():t(l.view)};return n.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 z-40 safe-area-inset-bottom",children:n.jsx("div",{className:"flex items-center justify-around h-16",children:a.map(l=>{const o=l.icon,c=e===l.view;return n.jsxs("button",{onClick:()=>i(l),className:`flex flex-col items-center justify-center flex-1 h-full transition-colors ${c?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,children:[n.jsxs("div",{className:"relative",children:[n.jsx(o,{className:"w-6 h-6"}),l.badge!==void 0&&l.badge>0&&n.jsx("span",{className:"absolute -top-2 -right-2 bg-orange-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:l.badge>9?"9+":l.badge})]}),n.jsx("span",{className:"text-xs mt-1 font-medium",children:l.label})]},l.id)})})})},$y=({onViewChange:e})=>{const{user:t}=W(),[r,s]=w.useState(new Set),[a,i]=w.useState(""),[l,o]=w.useState("idle"),c=[{title:"About MarketHub",links:[{label:"About Us",view:"about"},{label:"Careers",view:"careers"},{label:"Blog",view:"blog"},{label:"Press & Media",view:"press"},{label:"Community Guidelines",view:"guidelines"},{label:"Terms of Service",view:"terms"}]},{title:"Make Money with Us",links:[{label:"Sell Products",view:"add-product",requiresAuth:!0},{label:"Become a Seller",view:"seller-signup"},{label:"Post a Job",view:"post-job",requiresAuth:!0},{label:"Become an Affiliate",view:"affiliate"},{label:"Advertise Your Products",view:"advertise"},{label:"Partner with Us",view:"partnerships"}]},{title:"Payment & Services",links:[{label:"Payment Methods",view:"payment-methods"},{label:"Wallet & Balance",view:"wallet",requiresAuth:!0},{label:"Gift Cards",view:"gift-cards"},{label:"Refund Policy",view:"refund-policy"},{label:"Premium Membership",view:"premium"},{label:"Business Accounts",view:"business"}]},{title:"Let Us Help You",links:[{label:"Your Account",view:"profile",requiresAuth:!0},{label:"Your Orders",view:"my-orders",requiresAuth:!0},{label:"Shipping & Policies",view:"shipping-info"},{label:"Returns & Replacements",view:"returns"},{label:"Help Center",view:"help"},{label:"Contact Us",view:"contact"}]}],u=()=>{window.scrollTo({top:0,behavior:"smooth"})},d=p=>{const m=new Set(r);m.has(p)?m.delete(p):m.add(p),s(m)},h=p=>{if(p.requiresAuth&&!t){e("home");return}e(p.view),u()},f=async p=>{if(p.preventDefault(),!a||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)){o("error");return}o("loading"),setTimeout(()=>{o("success"),i(""),setTimeout(()=>o("idle"),3e3)},1e3)};return n.jsxs("footer",{className:"bg-gray-800 dark:bg-gray-900 text-white mt-auto",children:[n.jsxs("button",{onClick:u,className:"w-full py-4 bg-gray-700 dark:bg-gray-800 hover:bg-gray-600 dark:hover:bg-gray-700 transition-colors text-sm font-medium flex items-center justify-center gap-2",children:["Back to top",n.jsx(ff,{className:"w-4 h-4"})]}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12",children:c.map(p=>n.jsxs("div",{children:[n.jsxs("button",{onClick:()=>d(p.title),className:"lg:cursor-default w-full flex items-center justify-between lg:justify-start mb-4 text-left",children:[n.jsx("h3",{className:"text-base font-bold text-white",children:p.title}),n.jsx("span",{className:"lg:hidden",children:r.has(p.title)?n.jsx(Lo,{className:"w-5 h-5"}):n.jsx(Ua,{className:"w-5 h-5"})})]}),n.jsx("ul",{className:`space-y-3 ${r.has(p.title)||window.innerWidth>=1024?"block":"hidden lg:block"}`,children:p.links.map(m=>n.jsx("li",{children:n.jsx("button",{onClick:()=>h(m),className:"text-sm text-gray-300 hover:text-white transition-colors text-left w-full",children:m.label})},m.label))})]},p.title))}),n.jsxs("div",{className:"border-t border-gray-700 dark:border-gray-800 pt-8 pb-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-base font-bold text-white mb-4",children:"Stay Connected"}),n.jsxs("form",{onSubmit:f,className:"flex gap-2 mb-4",children:[n.jsx("div",{className:"flex-1",children:n.jsx("input",{type:"email",value:a,onChange:p=>i(p.target.value),placeholder:"Enter your email",className:"w-full px-4 py-2 bg-gray-700 dark:bg-gray-800 border border-gray-600 dark:border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:l==="loading"})}),n.jsxs("button",{type:"submit",disabled:l==="loading",className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-800 text-white rounded-lg transition-colors font-medium flex items-center gap-2",children:[n.jsx(Ro,{className:"w-4 h-4"}),"Subscribe"]})]}),l==="success"&&n.jsx("p",{className:"text-sm text-green-400",children:"Thanks for subscribing!"}),l==="error"&&n.jsx("p",{className:"text-sm text-red-400",children:"Please enter a valid email"})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-base font-bold text-white mb-4",children:"Follow Us"}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("button",{className:"w-10 h-10 bg-gray-700 dark:bg-gray-800 hover:bg-gray-600 dark:hover:bg-gray-700 rounded-full flex items-center justify-center transition-colors",children:n.jsx($x,{className:"w-5 h-5"})}),n.jsx("button",{className:"w-10 h-10 bg-gray-700 dark:bg-gray-800 hover:bg-gray-600 dark:hover:bg-gray-700 rounded-full flex items-center justify-center transition-colors",children:n.jsx(Gx,{className:"w-5 h-5"})}),n.jsx("button",{className:"w-10 h-10 bg-gray-700 dark:bg-gray-800 hover:bg-gray-600 dark:hover:bg-gray-700 rounded-full flex items-center justify-center transition-colors",children:n.jsx(Dx,{className:"w-5 h-5"})}),n.jsx("button",{className:"w-10 h-10 bg-gray-700 dark:bg-gray-800 hover:bg-gray-600 dark:hover:bg-gray-700 rounded-full flex items-center justify-center transition-colors",children:n.jsx(Fx,{className:"w-5 h-5"})})]})]})]}),n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 text-sm text-gray-400",children:[n.jsxs("div",{className:"flex flex-wrap gap-4 justify-center md:justify-start",children:[n.jsx("button",{onClick:()=>{e("privacy"),u()},className:"hover:text-white transition-colors",children:"Privacy Policy"}),n.jsx("button",{onClick:()=>{e("terms"),u()},className:"hover:text-white transition-colors",children:"Terms of Service"}),n.jsx("button",{onClick:()=>{e("cookies"),u()},className:"hover:text-white transition-colors",children:"Cookie Policy"})]}),n.jsxs("p",{className:"text-center md:text-right",children:[" ",new Date().getFullYear()," MarketHub. All rights reserved."]})]})]})]})]})},Ry=({slug:e,onBack:t})=>{const[r,s]=w.useState(null),[a,i]=w.useState(!0),[l,o]=w.useState(!1);w.useEffect(()=>{c()},[e]);const c=async()=>{try{const{data:u,error:d}=await O.from("static_pages").select("title, content, meta_description").eq("slug",e).maybeSingle();if(d)throw d;u?s(u):o(!0)}catch(u){console.error("Error loading page:",u),o(!0)}finally{i(!1)}};return a?n.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 dark:border-blue-400"})})}):l||!r?n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("button",{onClick:t,className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-6 transition-colors",children:[n.jsx(ze,{className:"w-5 h-5 mr-2"}),"Back"]}),n.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-8 text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-red-900 dark:text-red-200 mb-2",children:"Page Not Found"}),n.jsx("p",{className:"text-red-700 dark:text-red-300",children:"The page you are looking for does not exist."})]})]}):n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("button",{onClick:t,className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-6 transition-colors",children:[n.jsx(ze,{className:"w-5 h-5 mr-2"}),"Back"]}),n.jsx("article",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-8",children:n.jsx("div",{className:`prose prose-lg dark:prose-invert max-w-none
            prose-headings:text-gray-900 dark:prose-headings:text-white
            prose-p:text-gray-700 dark:prose-p:text-gray-300
            prose-a:text-blue-600 dark:prose-a:text-blue-400
            prose-strong:text-gray-900 dark:prose-strong:text-white
            prose-h1:text-3xl prose-h1:font-bold prose-h1:mb-6
            prose-h2:text-2xl prose-h2:font-bold prose-h2:mt-8 prose-h2:mb-4
            prose-h3:text-xl prose-h3:font-semibold prose-h3:mt-6 prose-h3:mb-3`,dangerouslySetInnerHTML:{__html:r.content}})})]})},Iy=({onBack:e})=>{const{user:t,profile:r}=W(),[s,a]=w.useState({name:(r==null?void 0:r.full_name)||"",email:(r==null?void 0:r.email)||"",subject:"",message:""}),[i,l]=w.useState("idle"),o=async u=>{if(u.preventDefault(),!s.name||!s.email||!s.subject||!s.message){l("error");return}l("loading"),setTimeout(()=>{l("success"),a({name:"",email:"",subject:"",message:""}),setTimeout(()=>l("idle"),3e3)},1500)},c=u=>{a({...s,[u.target.name]:u.target.value})};return n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("button",{onClick:e,className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-6 transition-colors",children:[n.jsx(ze,{className:"w-5 h-5 mr-2"}),"Back"]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Contact Us"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"Have questions? We would love to hear from you. Send us a message and we will respond as soon as possible."}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:n.jsx(Ro,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:"Email"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"support@markethub.com"})]})]}),n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:n.jsx(Wx,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:"Phone"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"1-800-MARKET-HUB"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Mon-Fri, 9am-5pm EST"})]})]}),n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:n.jsx(Io,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:"Address"}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["123 Market Street",n.jsx("br",{}),"San Francisco, CA 94103",n.jsx("br",{}),"United States"]})]})]})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Send us a message"}),i==="success"&&n.jsx("div",{className:"mb-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:n.jsx("p",{className:"text-green-800 dark:text-green-200 font-medium",children:"Message sent successfully! We will get back to you soon."})}),i==="error"&&n.jsx("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:n.jsx("p",{className:"text-red-800 dark:text-red-200 font-medium",children:"Please fill in all fields."})}),n.jsxs("form",{onSubmit:o,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Name"}),n.jsx("input",{type:"text",id:"name",name:"name",value:s.name,onChange:c,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),n.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:c,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Subject"}),n.jsx("input",{type:"text",id:"subject",name:"subject",value:s.subject,onChange:c,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Message"}),n.jsx("textarea",{id:"message",name:"message",value:s.message,onChange:c,rows:6,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",required:!0})]}),n.jsxs("button",{type:"submit",disabled:i==="loading",className:"w-full px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white rounded-lg transition-colors font-medium flex items-center justify-center gap-2",children:[n.jsx(vf,{className:"w-5 h-5"}),i==="loading"?"Sending...":"Send Message"]})]})]})]})]})};function My(){const{user:e,loading:t}=W(),{totalItems:r,addItem:s}=pr(),[a,i]=w.useState(!1),[l,o]=w.useState("home"),[c,u]=w.useState(null),[d,h]=w.useState(null),[f,p]=w.useState(!1),[m,v]=w.useState(!1),k=g=>{s(g),p(!0),setTimeout(()=>p(!1),2e3)};return t?n.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 dark:border-blue-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Loading..."})]})}):e?n.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex",children:[n.jsx(Zx,{currentView:l,onViewChange:o,isOpen:m,onClose:()=>v(!1)}),n.jsxs("div",{className:"flex-1 flex flex-col lg:ml-64",children:[n.jsx(ry,{onViewChange:o,onMenuToggle:()=>v(!m)}),e&&n.jsxs("button",{onClick:()=>o("cart"),className:"fixed bottom-6 right-6 z-50 bg-blue-600 text-white p-4 rounded-full shadow-lg hover:bg-blue-700 transition-all hover:scale-110",children:[n.jsx(vt,{className:"w-6 h-6"}),r>0&&n.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full h-6 w-6 flex items-center justify-center",children:r})]}),n.jsxs("main",{children:[l==="home"&&n.jsx(sy,{onViewChange:o}),l==="marketplace"&&n.jsx(ly,{onProductSelect:g=>{u(g),o("product-details")},onAddProduct:()=>o("add-product"),onAddToCart:k}),l==="product-details"&&c&&n.jsx(oy,{product:c,onBack:()=>o("marketplace"),onAddToCart:k}),l==="add-product"&&n.jsx(bu,{onBack:()=>o("marketplace"),onSuccess:()=>o("marketplace")}),l==="jobs"&&n.jsx(by,{onJobSelect:g=>{h(g),o("job-details")},onAddJob:()=>o("add-job")}),l==="job-details"&&d&&n.jsx(wy,{job:d,onBack:()=>o("jobs")}),l==="add-job"&&n.jsx(wu,{onBack:()=>o("jobs"),onSuccess:()=>o("jobs")}),l==="messages"&&n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Messages"}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:n.jsx("p",{className:"text-gray-600",children:"Messaging system coming soon"})})]}),l==="notifications"&&n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Notifications"}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:n.jsx("p",{className:"text-gray-600",children:"No new notifications"})})]}),l==="dashboard"&&n.jsx(ky,{onViewChange:o}),l==="cart"&&n.jsx(jy,{onCheckout:()=>o("checkout"),onContinueShopping:()=>o("marketplace")}),l==="checkout"&&n.jsx(Ny,{onBack:()=>o("cart"),onSuccess:()=>{o("order-success")}}),l==="order-success"&&n.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:[n.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 mb-4",children:n.jsx("svg",{className:"h-8 w-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Order Placed Successfully!"}),n.jsx("p",{className:"text-gray-600 mb-8",children:"Thank you for your purchase. You will receive a confirmation email shortly."}),n.jsxs("div",{className:"flex gap-4 justify-center",children:[n.jsx("button",{onClick:()=>o("my-orders"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"View Orders"}),n.jsx("button",{onClick:()=>o("marketplace"),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Continue Shopping"})]})]})}),l==="my-products"&&n.jsx(_y,{onAddProduct:()=>o("add-product"),onEditProduct:g=>{u(g),o("edit-product")},onViewProduct:g=>{u(g),o("product-details")}}),l==="edit-product"&&c&&n.jsx(bu,{product:c,onBack:()=>o("my-products"),onSuccess:()=>o("my-products")}),l==="my-orders"&&n.jsx(Sy,{}),l==="my-jobs"&&n.jsx(Cy,{onEditJob:g=>{h(g),o("edit-job")},onViewApplications:g=>{h(g),o("view-applications")}}),l==="edit-job"&&d&&n.jsx(wu,{job:d,onBack:()=>o("my-jobs"),onSuccess:()=>o("my-jobs")}),l==="my-applications"&&n.jsx(Ey,{}),l==="view-applications"&&n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-8 text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Job Applications"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Application management interface coming soon"}),n.jsx("button",{onClick:()=>o("my-jobs"),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Back to My Jobs"})]})}),l==="settings"&&n.jsx(Py,{}),l==="wishlist"&&n.jsx(Ty,{onProductSelect:g=>{u(g),o("product-details")}}),l==="categories"&&n.jsx(xy,{onProductSelect:g=>{u(g),o("product-details")},onBack:()=>o("marketplace"),onAddToCart:k}),l==="deals"&&n.jsx(yy,{onProductSelect:g=>{u(g),o("product-details")},onBack:()=>o("marketplace"),onAddToCart:k}),l==="order-history"&&n.jsx(Oy,{onBack:()=>o("my-orders")}),l==="seller-dashboard"&&n.jsx(Ay,{onViewChange:o}),["about","help","terms","privacy","refund-policy","guidelines","careers","blog","press","affiliate","advertise","partnerships","payment-methods","wallet","gift-cards","premium","business","shipping-info","returns","cookies","seller-signup"].includes(l)&&n.jsx(Ry,{slug:l,onBack:()=>o("home")}),l==="contact"&&n.jsx(Iy,{onBack:()=>o("home")})]}),n.jsx($y,{onViewChange:o}),n.jsx(Ly,{currentView:l,onViewChange:o,onMenuToggle:()=>v(!m)})]})]}):n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center py-12 px-4",children:a?n.jsx(Xx,{onToggleForm:()=>i(!1)}):n.jsx(Yx,{onToggleForm:()=>i(!0)})})}function Uy(){return n.jsx(hx,{children:n.jsx(wx,{children:n.jsx(mx,{children:n.jsx(px,{children:n.jsx(gx,{children:n.jsx(fx,{children:n.jsx(My,{})})})})})})})}$h(document.getElementById("root")).render(n.jsx(w.StrictMode,{children:n.jsx(Uy,{})}));
